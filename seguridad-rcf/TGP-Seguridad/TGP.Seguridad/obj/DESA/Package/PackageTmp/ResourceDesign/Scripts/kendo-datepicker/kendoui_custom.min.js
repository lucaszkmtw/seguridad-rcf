!function(f,define){define("kendo.core",["jquery"],f)}(function(){var __meta___id="core",__meta___name="Core",__meta___category="framework",__meta___description="The core of the Kendo framework.";return function($,window,undefined){var kendo=window.kendo=window.kendo||{cultures:{}},extend=$.extend,each=$.each,isArray=$.isArray,proxy=$.proxy,noop=$.noop,math=Math,Template,JSON=window.JSON||{},support={},percentRegExp=/%/,formatRegExp=/\{(\d+)(:[^\}]+)?\}/g,boxShadowRegExp=/(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+(?:\.?)\d*)px\s*(\d+)?/i,numberRegExp=/^(\+|-?)\d+(\.?)\d*$/,FUNCTION="function",STRING="string",NUMBER="number",OBJECT="object",NULL="null",BOOLEAN="boolean",UNDEFINED="undefined",getterCache={},setterCache={},slice=[].slice;function Class(){}kendo.version="2017.2.621".replace(/^\s+|\s+$/g,""),Class.extend=function(proto){var base=function(){},member,that=this,subclass=proto&&proto.init?proto.init:function(){that.apply(this,arguments)},fn;for(member in base.prototype=that.prototype,fn=subclass.fn=subclass.prototype=new base,proto)null!=proto[member]&&proto[member].constructor===Object?fn[member]=extend(!0,{},base.prototype[member],proto[member]):fn[member]=proto[member];return fn.constructor=subclass,subclass.extend=that.extend,subclass},Class.prototype._initOptions=function(options){this.options=deepExtend({},this.options,options)};var isFunction=kendo.isFunction=function(fn){return"function"==typeof fn},preventDefault=function(){this._defaultPrevented=!0},isDefaultPrevented=function(){return!0===this._defaultPrevented},Observable=Class.extend({init:function(){this._events={}},bind:function(eventName,handlers,one){var that=this,idx,eventNames=typeof eventName===STRING?[eventName]:eventName,length,original,handler,handlersIsFunction=typeof handlers===FUNCTION,events;if(handlers===undefined){for(idx in eventName)that.bind(idx,eventName[idx]);return that}for(idx=0,length=eventNames.length;idx<length;idx++)eventName=eventNames[idx],(handler=handlersIsFunction?handlers:handlers[eventName])&&(one&&(original=handler,(handler=function(){that.unbind(eventName,handler),original.apply(that,arguments)}).original=original),(events=that._events[eventName]=that._events[eventName]||[]).push(handler));return that},one:function(eventNames,handlers){return this.bind(eventNames,handlers,!0)},first:function(eventName,handlers){var that=this,idx,eventNames=typeof eventName===STRING?[eventName]:eventName,length,handler,handlersIsFunction=typeof handlers===FUNCTION,events;for(idx=0,length=eventNames.length;idx<length;idx++)eventName=eventNames[idx],(handler=handlersIsFunction?handlers:handlers[eventName])&&(events=this._events[eventName]=this._events[eventName]||[]).unshift(handler);return this},trigger:function(eventName,e){var that=this,events=this._events[eventName],idx,length;if(events){for((e=e||{}).sender=this,e._defaultPrevented=!1,e.preventDefault=preventDefault,e.isDefaultPrevented=isDefaultPrevented,idx=0,length=(events=events.slice()).length;idx<length;idx++)events[idx].call(this,e);return!0===e._defaultPrevented}return!1},unbind:function(eventName,handler){var that=this,events=this._events[eventName],idx;if(eventName===undefined)this._events={};else if(events)if(handler)for(idx=events.length-1;idx>=0;idx--)events[idx]!==handler&&events[idx].original!==handler||events.splice(idx,1);else this._events[eventName]=[];return this}});function compilePart(part,stringPart){if(stringPart)return"'"+part.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var first=part.charAt(0),rest=part.substring(1);return"="===first?"+("+rest+")+":":"===first?"+$kendoHtmlEncode("+rest+")+":";"+part+";$kendoOutput+="}var argumentNameRegExp=/^\w+/,encodeRegExp=/\$\{([^}]*)\}/g,escapedCurlyRegExp=/\\\}/g,curlyRegExp=/__CURLY__/g,escapedSharpRegExp=/\\#/g,sharpRegExp=/__SHARP__/g,zeros=["","0","00","000","0000"];function pad(number,digits,end){return number+="",(end=(digits=digits||2)-number.length)?zeros[digits].substring(0,end)+number:number}function getShadows(element){var shadow=element.css(kendo.support.transitions.css+"box-shadow")||element.css("box-shadow"),radius=shadow&&shadow.match(boxShadowRegExp)||[0,0,0,0,0],blur=math.max(+radius[3],+(radius[4]||0));return{left:-radius[1]+blur,right:+radius[1]+blur,bottom:+radius[2]+blur}}function wrap(element,autosize){var browser=support.browser,percentage,outerWidth=kendo._outerWidth,outerHeight=kendo._outerHeight;if(element.parent().hasClass("k-animation-container")){var wrapper=element.parent(".k-animation-container"),wrapperStyle=wrapper[0].style;wrapper.is(":hidden")&&wrapper.show(),(percentage=percentRegExp.test(wrapperStyle.width)||percentRegExp.test(wrapperStyle.height))||wrapper.css({width:autosize?outerWidth(element)+1:outerWidth(element),height:outerHeight(element),boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"})}else{var width=element[0].style.width,height=element[0].style.height,percentWidth=percentRegExp.test(width),percentHeight=percentRegExp.test(height);percentage=percentWidth||percentHeight,!percentWidth&&(!autosize||autosize&&width)&&(width=autosize?outerWidth(element)+1:outerWidth(element)),!percentHeight&&(!autosize||autosize&&height)&&(height=outerHeight(element)),element.wrap($("<div/>").addClass("k-animation-container").css({width:width,height:height})),percentage&&element.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})}return browser.msie&&math.floor(browser.version)<=7&&(element.css({zoom:1}),element.children(".k-menu").width(element.width())),element.parent()}function deepExtend(destination){var i=1,length=arguments.length;for(i=1;i<length;i++)deepExtendOne(destination,arguments[i]);return destination}function deepExtendOne(destination,source){var ObservableArray=kendo.data.ObservableArray,LazyObservableArray=kendo.data.LazyObservableArray,DataSource=kendo.data.DataSource,HierarchicalDataSource=kendo.data.HierarchicalDataSource,property,propValue,propType,propInit,destProp;for(property in source)(propInit=(propType=typeof(propValue=source[property]))===OBJECT&&null!==propValue?propValue.constructor:null)&&propInit!==Array&&propInit!==ObservableArray&&propInit!==LazyObservableArray&&propInit!==DataSource&&propInit!==HierarchicalDataSource&&propInit!==RegExp?propValue instanceof Date?destination[property]=new Date(propValue.getTime()):isFunction(propValue.clone)?destination[property]=propValue.clone():(destProp=destination[property],destination[property]=typeof destProp===OBJECT&&destProp||{},deepExtendOne(destination[property],propValue)):propType!==UNDEFINED&&(destination[property]=propValue);return destination}function testRx(agent,rxs,dflt){for(var rx in rxs)if(rxs.hasOwnProperty(rx)&&rxs[rx].test(agent))return rx;return dflt!==undefined?dflt:agent}function toHyphens(str){return str.replace(/([a-z][A-Z])/g,function(g){return g.charAt(0)+"-"+g.charAt(1).toLowerCase()})}function toCamelCase(str){return str.replace(/\-(\w)/g,function(strMatch,g1){return g1.toUpperCase()})}function getComputedStyles(element,properties){var styles={},computedStyle;return document.defaultView&&document.defaultView.getComputedStyle?(computedStyle=document.defaultView.getComputedStyle(element,""),properties&&$.each(properties,function(idx,value){styles[value]=computedStyle.getPropertyValue(value)})):(computedStyle=element.currentStyle,properties&&$.each(properties,function(idx,value){styles[value]=computedStyle[toCamelCase(value)]})),kendo.size(styles)||(styles=computedStyle),styles}function isScrollable(element){if(element&&element.className&&"string"==typeof element.className&&element.className.indexOf("k-auto-scrollable")>-1)return!0;var overflow=getComputedStyles(element,["overflow"]).overflow;return"auto"==overflow||"scroll"==overflow}function scrollLeft(element,value){var webkit=support.browser.webkit,mozila=support.browser.mozilla,el=element instanceof $?element[0]:element,isRtl;if(element){if(isRtl=support.isRtl(element),value===undefined)return isRtl&&webkit?el.scrollWidth-el.clientWidth-el.scrollLeft:Math.abs(el.scrollLeft);el.scrollLeft=isRtl&&webkit?el.scrollWidth-el.clientWidth-value:isRtl&&mozila?-value:value}}function size(obj){var result=0,key;for(key in obj)obj.hasOwnProperty(key)&&"toJSON"!=key&&result++;return result}function getOffset(element,type,positioned){type||(type="offset");var offset=element[type](),result={top:offset.top,right:offset.right,bottom:offset.bottom,left:offset.left};if(support.browser.msie&&(support.pointers||support.msPointers)&&!positioned){var sign=support.isRtl(element)?1:-1;result.top-=window.pageYOffset-document.documentElement.scrollTop,result.left-=window.pageXOffset+sign*document.documentElement.scrollLeft}return result}Template={paramName:"data",useWithBlock:!0,render:function(template,data){var idx,length,html="";for(idx=0,length=data.length;idx<length;idx++)html+=template(data[idx]);return html},compile:function(template,options){var settings=extend({},this,options),paramName=settings.paramName,argumentName=paramName.match(argumentNameRegExp)[0],useWithBlock=settings.useWithBlock,functionBody="var $kendoOutput, $kendoHtmlEncode = kendo.htmlEncode;",fn,parts,idx;if(isFunction(template))return template;for(functionBody+=useWithBlock?"with("+paramName+"){":"",functionBody+="$kendoOutput=",parts=template.replace(escapedCurlyRegExp,"__CURLY__").replace(encodeRegExp,"#=$kendoHtmlEncode($1)#").replace(curlyRegExp,"}").replace(escapedSharpRegExp,"__SHARP__").split("#"),idx=0;idx<parts.length;idx++)functionBody+=compilePart(parts[idx],idx%2==0);functionBody+=useWithBlock?";}":";",functionBody=(functionBody+="return $kendoOutput;").replace(sharpRegExp,"#");try{return(fn=new Function(argumentName,functionBody))._slotCount=Math.floor(parts.length/2),fn}catch(e){throw new Error(kendo.format("Invalid template:'{0}' Generated code:'{1}'",template,functionBody))}}},function(){var escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep,toString={}.toString;function quote(string){return escapable.lastIndex=0,escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c===STRING?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key],type;if(value&&typeof value===OBJECT&&typeof value.toJSON===FUNCTION&&(value=value.toJSON(key)),typeof rep===FUNCTION&&(value=rep.call(holder,key,value)),(type=typeof value)===STRING)return quote(value);if(type===NUMBER)return isFinite(value)?String(value):NULL;if(type===BOOLEAN||type===NULL)return String(value);if(type===OBJECT){if(!value)return NULL;if(gap+=indent,partial=[],"[object Array]"===toString.apply(value)){for(length=value.length,i=0;i<length;i++)partial[i]=str(i,value)||NULL;return v=0===partial.length?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]",gap=mind,v}if(rep&&typeof rep===OBJECT)for(length=rep.length,i=0;i<length;i++)typeof rep[i]===STRING&&(v=str(k=rep[i],value))&&partial.push(quote(k)+(gap?": ":":")+v);else for(k in value)Object.hasOwnProperty.call(value,k)&&(v=str(k,value))&&partial.push(quote(k)+(gap?": ":":")+v);return v=0===partial.length?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}",gap=mind,v}}typeof Date.prototype.toJSON!==FUNCTION&&(Date.prototype.toJSON=function(){var that=this;return isFinite(this.valueOf())?pad(this.getUTCFullYear(),4)+"-"+pad(this.getUTCMonth()+1)+"-"+pad(this.getUTCDate())+"T"+pad(this.getUTCHours())+":"+pad(this.getUTCMinutes())+":"+pad(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof JSON.stringify!==FUNCTION&&(JSON.stringify=function(value,replacer,space){var i;if(gap="",indent="",typeof space===NUMBER)for(i=0;i<space;i+=1)indent+=" ";else typeof space===STRING&&(indent=space);if(rep=replacer,replacer&&typeof replacer!==FUNCTION&&(typeof replacer!==OBJECT||typeof replacer.length!==NUMBER))throw new Error("JSON.stringify");return str("",{"":value})})}(),function(){var dateFormatRegExp=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|"[^"]*"|'[^']*'/g,standardFormatRegExp=/^(n|c|p|e)(\d*)$/i,literalRegExp=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,commaRegExp=/\,/g,EMPTY="",POINT=".",COMMA=",",SHARP="#",ZERO="0",PLACEHOLDER="??",EN="en-US",objectToString={}.toString;function findCulture(culture){if(culture){if(culture.numberFormat)return culture;if(typeof culture===STRING){var cultures=kendo.cultures;return cultures[culture]||cultures[culture.split("-")[0]]||null}return null}return null}function getCulture(culture){return culture&&(culture=findCulture(culture)),culture||kendo.cultures.current}function formatDate(date,format,culture){var calendar=(culture=getCulture(culture)).calendars.standard,days=calendar.days,months=calendar.months;return(format=calendar.patterns[format]||format).replace(dateFormatRegExp,function(match){var minutes,result,sign;return"d"===match?result=date.getDate():"dd"===match?result=pad(date.getDate()):"ddd"===match?result=days.namesAbbr[date.getDay()]:"dddd"===match?result=days.names[date.getDay()]:"M"===match?result=date.getMonth()+1:"MM"===match?result=pad(date.getMonth()+1):"MMM"===match?result=months.namesAbbr[date.getMonth()]:"MMMM"===match?result=months.names[date.getMonth()]:"yy"===match?result=pad(date.getFullYear()%100):"yyyy"===match?result=pad(date.getFullYear(),4):"h"===match?result=date.getHours()%12||12:"hh"===match?result=pad(date.getHours()%12||12):"H"===match?result=date.getHours():"HH"===match?result=pad(date.getHours()):"m"===match?result=date.getMinutes():"mm"===match?result=pad(date.getMinutes()):"s"===match?result=date.getSeconds():"ss"===match?result=pad(date.getSeconds()):"f"===match?result=math.floor(date.getMilliseconds()/100):"ff"===match?((result=date.getMilliseconds())>99&&(result=math.floor(result/10)),result=pad(result)):"fff"===match?result=pad(date.getMilliseconds(),3):"tt"===match?result=date.getHours()<12?calendar.AM[0]:calendar.PM[0]:"zzz"===match?(sign=(minutes=date.getTimezoneOffset())<0,result=math.abs(minutes/60).toString().split(".")[0],minutes=math.abs(minutes)-60*result,result=(sign?"+":"-")+pad(result),result+=":"+pad(minutes)):"zz"!==match&&"z"!==match||(sign=(result=date.getTimezoneOffset()/60)<0,result=math.abs(result).toString().split(".")[0],result=(sign?"+":"-")+("zz"===match?pad(result):result)),result!==undefined?result:match.slice(1,match.length-1)})}function formatNumber(number,format,culture){var numberFormat=(culture=getCulture(culture)).numberFormat,decimal=numberFormat[POINT],precision=numberFormat.decimals,pattern=numberFormat.pattern[0],literals=[],symbol,isCurrency,isPercent,customPrecision,formatAndPrecision,negative=number<0,integer,fraction,integerLength,fractionLength,replacement=EMPTY,value=EMPTY,idx,length,ch,hasGroup,hasNegativeFormat,decimalIndex,sharpIndex,zeroIndex,hasZero,hasSharp,percentIndex,currencyIndex,startZeroIndex,start=-1,end;if(number===undefined)return EMPTY;if(!isFinite(number))return number;if(!format)return culture.name.length?number.toLocaleString():number.toString();if(formatAndPrecision=standardFormatRegExp.exec(format)){if(isPercent="p"===(format=formatAndPrecision[1].toLowerCase()),((isCurrency="c"===format)||isPercent)&&(decimal=(numberFormat=isCurrency?numberFormat.currency:numberFormat.percent)[POINT],precision=numberFormat.decimals,symbol=numberFormat.symbol,pattern=numberFormat.pattern[negative?0:1]),(customPrecision=formatAndPrecision[2])&&(precision=+customPrecision),"e"===format)return customPrecision?number.toExponential(precision):number.toExponential();if(isPercent&&(number*=100),negative=(number=round(number,precision))<0,integer=(number=number.split(POINT))[0],fraction=number[1],negative&&(integer=integer.substring(1)),value=groupInteger(integer,0,integer.length,numberFormat),fraction&&(value+=decimal+fraction),"n"===format&&!negative)return value;for(number=EMPTY,idx=0,length=pattern.length;idx<length;idx++)number+="n"===(ch=pattern.charAt(idx))?value:"$"===ch||"%"===ch?symbol:ch;return number}if(negative&&(number=-number),(format.indexOf("'")>-1||format.indexOf('"')>-1||format.indexOf("\\")>-1)&&(format=format.replace(literalRegExp,function(match){var quoteChar=match.charAt(0).replace("\\",""),literal=match.slice(1).replace(quoteChar,"");return literals.push(literal),PLACEHOLDER})),format=format.split(";"),negative&&format[1])format=format[1],hasNegativeFormat=!0;else if(0===number){if(-1==(format=format[2]||format[0]).indexOf(SHARP)&&-1==format.indexOf(ZERO))return format}else format=format[0];if(percentIndex=format.indexOf("%"),isCurrency=-1!=(currencyIndex=format.indexOf("$")),(isPercent=-1!=percentIndex)&&(number*=100),isCurrency&&"\\"===format[currencyIndex-1]&&(format=format.split("\\").join(""),isCurrency=!1),(isCurrency||isPercent)&&(decimal=(numberFormat=isCurrency?numberFormat.currency:numberFormat.percent)[POINT],precision=numberFormat.decimals,symbol=numberFormat.symbol),(hasGroup=format.indexOf(COMMA)>-1)&&(format=format.replace(commaRegExp,EMPTY)),decimalIndex=format.indexOf(POINT),length=format.length,-1!=decimalIndex?(fraction=(fraction=(fraction=number.toString().split("e"))[1]?round(number,Math.abs(fraction[1])):fraction[0]).split(POINT)[1]||EMPTY,hasZero=(zeroIndex=format.lastIndexOf(ZERO)-decimalIndex)>-1,hasSharp=(sharpIndex=format.lastIndexOf(SHARP)-decimalIndex)>-1,idx=fraction.length,hasZero||hasSharp||(length=(format=format.substring(0,decimalIndex)+format.substring(decimalIndex+1)).length,decimalIndex=-1,idx=0),hasZero&&zeroIndex>sharpIndex?idx=zeroIndex:sharpIndex>zeroIndex&&(hasSharp&&idx>sharpIndex?idx=sharpIndex:hasZero&&idx<zeroIndex&&(idx=zeroIndex)),idx>-1&&(number=round(number,idx))):number=round(number),sharpIndex=format.indexOf(SHARP),startZeroIndex=zeroIndex=format.indexOf(ZERO),start=-1==sharpIndex&&-1!=zeroIndex?zeroIndex:-1!=sharpIndex&&-1==zeroIndex?sharpIndex:sharpIndex>zeroIndex?zeroIndex:sharpIndex,sharpIndex=format.lastIndexOf(SHARP),zeroIndex=format.lastIndexOf(ZERO),end=-1==sharpIndex&&-1!=zeroIndex?zeroIndex:-1!=sharpIndex&&-1==zeroIndex?sharpIndex:sharpIndex>zeroIndex?sharpIndex:zeroIndex,start==length&&(end=start),-1!=start){for(integer=(value=number.toString().split(POINT))[0],fraction=value[1]||EMPTY,integerLength=integer.length,fractionLength=fraction.length,negative&&-1*number>=0&&(negative=!1),number=format.substring(0,start),negative&&!hasNegativeFormat&&(number+="-"),idx=start;idx<length;idx++){if(ch=format.charAt(idx),-1==decimalIndex){if(end-idx<integerLength){number+=integer;break}}else if(-1!=zeroIndex&&zeroIndex<idx&&(replacement=EMPTY),decimalIndex-idx<=integerLength&&decimalIndex-idx>-1&&(number+=integer,idx=decimalIndex),decimalIndex===idx){number+=(fraction?decimal:EMPTY)+fraction,idx+=end-decimalIndex+1;continue}ch===ZERO?(number+=ch,replacement=ch):ch===SHARP&&(number+=replacement)}if(hasGroup&&(number=groupInteger(number,start+(negative&&!hasNegativeFormat?1:0),Math.max(end,integerLength+start),numberFormat)),end>=start&&(number+=format.substring(end+1)),isCurrency||isPercent){for(value=EMPTY,idx=0,length=number.length;idx<length;idx++)value+="$"===(ch=number.charAt(idx))||"%"===ch?symbol:ch;number=value}if(length=literals.length)for(idx=0;idx<length;idx++)number=number.replace(PLACEHOLDER,literals[idx])}return number}kendo.cultures["en-US"]={name:EN,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{name:"US Dollar",abbr:"USD",pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}},kendo.culture=function(cultureName){var cultures=kendo.cultures,culture;if(cultureName===undefined)return cultures.current;(culture=findCulture(cultureName)||cultures[EN]).calendar=culture.calendars.standard,cultures.current=culture},kendo.findCulture=findCulture,kendo.getCulture=getCulture,kendo.culture(EN);var groupInteger=function(number,start,end,numberFormat){var decimalIndex=number.indexOf(numberFormat[POINT]),groupSizes=numberFormat.groupSize.slice(),groupSize=groupSizes.shift(),integer,integerLength,idx,parts,value,newGroupSize;if(end=-1!==decimalIndex?decimalIndex:end+1,(integerLength=(integer=number.substring(start,end)).length)>=groupSize){for(idx=integerLength,parts=[];idx>-1;)if((value=integer.substring(idx-groupSize,idx))&&parts.push(value),idx-=groupSize,0===(groupSize=(newGroupSize=groupSizes.shift())!==undefined?newGroupSize:groupSize)){parts.push(integer.substring(0,idx));break}integer=parts.reverse().join(numberFormat[COMMA]),number=number.substring(0,start)+integer+number.substring(end)}return number},round=function(value,precision){return precision=precision||0,value=value.toString().split("e"),(value=+((value=(value=Math.round(+(value[0]+"e"+(value[1]?+value[1]+precision:precision)))).toString().split("e"))[0]+"e"+(value[1]?+value[1]-precision:-precision))).toFixed(Math.min(precision,20))},toString=function(value,fmt,culture){if(fmt){if("[object Date]"===objectToString.call(value))return formatDate(value,fmt,culture);if(typeof value===NUMBER)return formatNumber(value,fmt,culture)}return value!==undefined?value:""};kendo.format=function(fmt){var values=arguments;return fmt.replace(formatRegExp,function(match,index,placeholderFormat){var value=values[parseInt(index,10)+1];return toString(value,placeholderFormat?placeholderFormat.substring(1):"")})},kendo._extractFormat=function(format){return"{0:"===format.slice(0,3)&&(format=format.slice(3,format.length-1)),format},kendo._activeElement=function(){try{return document.activeElement}catch(e){return document.documentElement.activeElement}},kendo._round=round,kendo._outerWidth=function(element,includeMargin){return $(element).outerWidth(includeMargin||!1)||0},kendo._outerHeight=function(element,includeMargin){return $(element).outerHeight(includeMargin||!1)||0},kendo.toString=toString}(),function(){var nonBreakingSpaceRegExp=/\u00A0/g,exponentRegExp=/[eE][\-+]?[0-9]+/,shortTimeZoneRegExp=/[+|\-]\d{1,2}/,longTimeZoneRegExp=/[+|\-]\d{1,2}:?\d{2}/,dateRegExp=/^\/Date\((.*?)\)\/$/,offsetRegExp=/[+-]\d*/,FORMATS_SEQUENCE=[[],["G","g","F"],["D","d","y","m","T","t"]],STANDARD_FORMATS=[["yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffffff","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:ss.fff","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-dd HH:mm:ss","yyyy/MM/dd HH:mm:ss"],["yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm","yyyy/MM/dd HH:mm"],["yyyy/MM/dd","yyyy-MM-dd","HH:mm:ss","HH:mm"]],numberRegExp={2:/^\d{1,2}/,3:/^\d{1,3}/,4:/^\d{4}/},objectToString={}.toString;function outOfRange(value,start,end){return!(value>=start&&value<=end)}function designatorPredicate(designator){return designator.charAt(0)}function mapDesignators(designators){return $.map(designators,designatorPredicate)}function adjustDST(date,hours){hours||23!==date.getHours()||date.setHours(date.getHours()+2)}function lowerArray(data){for(var idx=0,length=data.length,array=[];idx<length;idx++)array[idx]=(data[idx]+"").toLowerCase();return array}function lowerLocalInfo(localInfo){var newLocalInfo={},property;for(property in localInfo)newLocalInfo[property]=lowerArray(localInfo[property]);return newLocalInfo}function parseExact(value,format,culture){if(!value)return null;var lookAhead=function(match){for(var i=0;format[idx]===match;)i++,idx++;return i>0&&(idx-=1),i},getNumber=function(size){var rg=numberRegExp[size]||new RegExp("^\\d{1,"+size+"}"),match=value.substr(valueIdx,size).match(rg);return match?(match=match[0],valueIdx+=match.length,parseInt(match,10)):null},getIndexByName=function(names,lower){for(var i=0,length=names.length,name,nameLength,matchLength=0,matchIdx=0,subValue;i<length;i++)nameLength=(name=names[i]).length,subValue=value.substr(valueIdx,nameLength),lower&&(subValue=subValue.toLowerCase()),subValue==name&&nameLength>matchLength&&(matchLength=nameLength,matchIdx=i);return matchLength?(valueIdx+=matchLength,matchIdx+1):null},checkLiteral=function(){var result=!1;return value.charAt(valueIdx)===format[idx]&&(valueIdx++,result=!0),result},calendar=culture.calendars.standard,year=null,month=null,day=null,hours=null,minutes=null,seconds=null,milliseconds=null,idx=0,valueIdx=0,literal=!1,date=new Date,twoDigitYearMax=calendar.twoDigitYearMax||2029,defaultYear=date.getFullYear(),ch,count,length,pattern,pmHour,UTC,matches,amDesignators,pmDesignators,hoursOffset,minutesOffset,hasTime,match;for(format||(format="d"),(pattern=calendar.patterns[format])&&(format=pattern),length=(format=format.split("")).length;idx<length;idx++)if(ch=format[idx],literal)"'"===ch?literal=!1:checkLiteral();else if("d"===ch){if(count=lookAhead("d"),calendar._lowerDays||(calendar._lowerDays=lowerLocalInfo(calendar.days)),null!==day&&count>2)continue;if(null===(day=count<3?getNumber(2):getIndexByName(calendar._lowerDays[3==count?"namesAbbr":"names"],!0))||outOfRange(day,1,31))return null}else if("M"===ch){if(count=lookAhead("M"),calendar._lowerMonths||(calendar._lowerMonths=lowerLocalInfo(calendar.months)),null===(month=count<3?getNumber(2):getIndexByName(calendar._lowerMonths[3==count?"namesAbbr":"names"],!0))||outOfRange(month,1,12))return null;month-=1}else if("y"===ch){if(null===(year=getNumber(count=lookAhead("y"))))return null;2==count&&("string"==typeof twoDigitYearMax&&(twoDigitYearMax=defaultYear+parseInt(twoDigitYearMax,10)),(year=defaultYear-defaultYear%100+year)>twoDigitYearMax&&(year-=100))}else if("h"===ch){if(lookAhead("h"),12==(hours=getNumber(2))&&(hours=0),null===hours||outOfRange(hours,0,11))return null}else if("H"===ch){if(lookAhead("H"),null===(hours=getNumber(2))||outOfRange(hours,0,23))return null}else if("m"===ch){if(lookAhead("m"),null===(minutes=getNumber(2))||outOfRange(minutes,0,59))return null}else if("s"===ch){if(lookAhead("s"),null===(seconds=getNumber(2))||outOfRange(seconds,0,59))return null}else if("f"===ch){if(count=lookAhead("f"),match=value.substr(valueIdx,count).match(numberRegExp[3]),null!==(milliseconds=getNumber(count))&&(milliseconds=parseFloat("0."+match[0],10),milliseconds=kendo._round(milliseconds,3),milliseconds*=1e3),null===milliseconds||outOfRange(milliseconds,0,999))return null}else if("t"===ch){if(count=lookAhead("t"),amDesignators=calendar.AM,pmDesignators=calendar.PM,1===count&&(amDesignators=mapDesignators(amDesignators),pmDesignators=mapDesignators(pmDesignators)),!(pmHour=getIndexByName(pmDesignators))&&!getIndexByName(amDesignators))return null}else if("z"===ch){if(UTC=!0,count=lookAhead("z"),"Z"===value.substr(valueIdx,1)){checkLiteral();continue}if(!(matches=value.substr(valueIdx,6).match(count>2?longTimeZoneRegExp:shortTimeZoneRegExp)))return null;if(hoursOffset=(matches=matches[0].split(":"))[0],!(minutesOffset=matches[1])&&hoursOffset.length>3&&(valueIdx=hoursOffset.length-2,minutesOffset=hoursOffset.substring(valueIdx),hoursOffset=hoursOffset.substring(0,valueIdx)),outOfRange(hoursOffset=parseInt(hoursOffset,10),-12,13))return null;if(count>2&&(minutesOffset=parseInt(minutesOffset,10),isNaN(minutesOffset)||outOfRange(minutesOffset,0,59)))return null}else if("'"===ch)literal=!0,checkLiteral();else if(!checkLiteral())return null;return null===year&&null===month&&null===day&&(hasTime=null!==hours||null!==minutes||seconds||null)?(year=defaultYear,month=date.getMonth(),day=date.getDate()):(null===year&&(year=defaultYear),null===day&&(day=1)),pmHour&&hours<12&&(hours+=12),UTC?(hoursOffset&&(hours+=-hoursOffset),minutesOffset&&(minutes+=-minutesOffset),value=new Date(Date.UTC(year,month,day,hours,minutes,seconds,milliseconds))):adjustDST(value=new Date(year,month,day,hours,minutes,seconds,milliseconds),hours),year<100&&value.setFullYear(year),value.getDate()!==day&&UTC===undefined?null:value}function parseMicrosoftFormatOffset(offset){var sign="-"===offset.substr(0,1)?-1:1;return offset=offset.substring(1),sign*(offset=60*parseInt(offset.substr(0,2),10)+parseInt(offset.substring(2),10))}function getDefaultFormats(culture){var length=math.max(FORMATS_SEQUENCE.length,STANDARD_FORMATS.length),patterns=culture.calendar.patterns,cultureFormats,formatIdx,idx,formats=[];for(idx=0;idx<length;idx++){for(cultureFormats=FORMATS_SEQUENCE[idx],formatIdx=0;formatIdx<cultureFormats.length;formatIdx++)formats.push(patterns[cultureFormats[formatIdx]]);formats=formats.concat(STANDARD_FORMATS[idx])}return formats}kendo.parseDate=function(value,formats,culture){if("[object Date]"===objectToString.call(value))return value;var idx=0,date=null,length,tzoffset;if(value&&0===value.indexOf("/D")&&(date=dateRegExp.exec(value)))return date=date[1],tzoffset=offsetRegExp.exec(date.substring(1)),date=new Date(parseInt(date,10)),tzoffset&&(tzoffset=parseMicrosoftFormatOffset(tzoffset[0]),date=kendo.timezone.apply(date,0),date=kendo.timezone.convert(date,0,-1*tzoffset)),date;for(culture=kendo.getCulture(culture),formats||(formats=getDefaultFormats(culture)),length=(formats=isArray(formats)?formats:[formats]).length;idx<length;idx++)if(date=parseExact(value,formats[idx],culture))return date;return date},kendo.parseInt=function(value,culture){var result=kendo.parseFloat(value,culture);return result&&(result|=0),result},kendo.parseFloat=function(value,culture,format){if(!value&&0!==value)return null;if(typeof value===NUMBER)return value;value=value.toString();var number=(culture=kendo.getCulture(culture)).numberFormat,percent=number.percent,currency=number.currency,symbol=currency.symbol,percentSymbol=percent.symbol,negative=value.indexOf("-"),parts,isPercent;return exponentRegExp.test(value)?(value=parseFloat(value.replace(number["."],".")),isNaN(value)&&(value=null),value):negative>0?null:(negative=negative>-1,value.indexOf(symbol)>-1||format&&format.toLowerCase().indexOf("c")>-1?(parts=(number=currency).pattern[0].replace("$",symbol).split("n"),value.indexOf(parts[0])>-1&&value.indexOf(parts[1])>-1&&(value=value.replace(parts[0],"").replace(parts[1],""),negative=!0)):value.indexOf(percentSymbol)>-1&&(isPercent=!0,number=percent,symbol=percentSymbol),value=value.replace("-","").replace(symbol,"").replace(nonBreakingSpaceRegExp," ").split(number[","].replace(nonBreakingSpaceRegExp," ")).join("").replace(number["."],"."),value=parseFloat(value),isNaN(value)?value=null:negative&&(value*=-1),value&&isPercent&&(value/=100),value)}}(),function(){support._scrollbar=undefined,support.scrollbar=function(refresh){if(isNaN(support._scrollbar)||refresh){var div=document.createElement("div"),result;return div.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",div.innerHTML="&nbsp;",document.body.appendChild(div),support._scrollbar=result=div.offsetWidth-div.scrollWidth,document.body.removeChild(div),result}return support._scrollbar},support.isRtl=function(element){return $(element).closest(".k-rtl").length>0};var table=document.createElement("table");try{table.innerHTML="<tr><td></td></tr>",support.tbodyInnerHtml=!0}catch(e){support.tbodyInnerHtml=!1}support.touch="ontouchstart"in window;var docStyle=document.documentElement.style,transitions=support.transitions=!1,transforms=support.transforms=!1,elementProto="HTMLElement"in window?HTMLElement.prototype:[];support.hasHW3D="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix||"MozPerspective"in docStyle||"msPerspective"in docStyle,support.cssFlexbox="flexWrap"in docStyle||"WebkitFlexWrap"in docStyle||"msFlexWrap"in docStyle,each(["Moz","webkit","O","ms"],function(){var prefix=this.toString(),hasTransitions=typeof table.style[prefix+"Transition"]===STRING;if(hasTransitions||typeof table.style[prefix+"Transform"]===STRING){var lowPrefix=prefix.toLowerCase();return transforms={css:"ms"!=lowPrefix?"-"+lowPrefix+"-":"",prefix:prefix,event:"o"===lowPrefix||"webkit"===lowPrefix?lowPrefix:""},hasTransitions&&((transitions=transforms).event=transitions.event?transitions.event+"TransitionEnd":"transitionend"),!1}}),table=null,support.transforms=transforms,support.transitions=transitions,support.devicePixelRatio=window.devicePixelRatio===undefined?1:window.devicePixelRatio;try{support.screenWidth=window.outerWidth||window.screen?window.screen.availWidth:window.innerWidth,support.screenHeight=window.outerHeight||window.screen?window.screen.availHeight:window.innerHeight}catch(e){support.screenWidth=window.screen.availWidth,support.screenHeight=window.screen.availHeight}support.detectOS=function(ua){var os=!1,minorVersion,match=[],notAndroidPhone=!/mobile safari/i.test(ua),agentRxs={wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,tizen:/(tizen).*?Version\/(\d+)\.(\d+(\.\d+)?)/i,sailfish:/(sailfish).*rv:(\d+)\.(\d+(\.\d+)?).*firefox/i,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},osRxs={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,flat:/sailfish|ffos|tizen/i,meego:/meego/},formFactorRxs={tablet:/playbook|ipad|fire/i},browserRxs={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,ie:/MSIE|Windows\sPhone/i,chrome:/chrome|crios/i,webkit:/webkit/i};for(var agent in agentRxs)if(agentRxs.hasOwnProperty(agent)&&(match=ua.match(agentRxs[agent]))){if("windows"==agent&&"plugins"in navigator)return!1;(os={}).device=agent,os.tablet=testRx(agent,formFactorRxs,!1),os.browser=testRx(ua,browserRxs,"default"),os.name=testRx(agent,osRxs),os[os.name]=!0,os.majorVersion=match[2],os.minorVersion=match[3].replace("_","."),minorVersion=os.minorVersion.replace(".","").substr(0,2),os.flatVersion=os.majorVersion+minorVersion+new Array(3-(minorVersion.length<3?minorVersion.length:2)).join("0"),os.cordova=typeof window.PhoneGap!==UNDEFINED||typeof window.cordova!==UNDEFINED,os.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||os.cordova,os.android&&(support.devicePixelRatio<1.5&&os.flatVersion<400||notAndroidPhone)&&(support.screenWidth>800||support.screenHeight>800)&&(os.tablet=agent);break}return os};var mobileOS=support.mobileOS=support.detectOS(navigator.userAgent),browser,cssClass,docElement,majorVersion;support.wpDevicePixelRatio=mobileOS.wp?screen.width/320:0,support.hasNativeScrolling=!1,(mobileOS.ios||mobileOS.android&&mobileOS.majorVersion>2||mobileOS.wp)&&(support.hasNativeScrolling=mobileOS),support.delayedClick=function(){if(support.touch){if(mobileOS.ios)return!0;if(mobileOS.android)return!support.browser.chrome||!(support.browser.version<32)&&!($("meta[name=viewport]").attr("content")||"").match(/user-scalable=no/i)}return!1},support.mouseAndTouchPresent=support.touch&&!(support.mobileOS.ios||support.mobileOS.android),support.detectBrowser=function(ua){var browser=!1,match=[],browserRxs={edge:/(edge)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie\s|trident.*? rv:)([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var agent in browserRxs)if(browserRxs.hasOwnProperty(agent)&&(match=ua.match(browserRxs[agent]))){(browser={})[agent]=!0,browser[match[1].toLowerCase().split(" ")[0].split("/")[0]]=!0,browser.version=parseInt(document.documentMode||match[2],10);break}return browser},support.browser=support.detectBrowser(navigator.userAgent),support.detectClipboardAccess=function(){var commands={copy:!!document.queryCommandSupported&&document.queryCommandSupported("copy"),cut:!!document.queryCommandSupported&&document.queryCommandSupported("cut"),paste:!!document.queryCommandSupported&&document.queryCommandSupported("paste")};return support.browser.chrome&&(commands.paste=!1,support.browser.version>=43&&(commands.copy=!0,commands.cut=!0)),commands},support.clipboard=support.detectClipboardAccess(),support.zoomLevel=function(){try{var browser=support.browser,ie11WidthCorrection=0,docEl=document.documentElement;return browser.msie&&11==browser.version&&docEl.scrollHeight>docEl.clientHeight&&!support.touch&&(ie11WidthCorrection=support.scrollbar()),support.touch?docEl.clientWidth/window.innerWidth:browser.msie&&browser.version>=10?((top||window).document.documentElement.offsetWidth+ie11WidthCorrection)/(top||window).innerWidth:1}catch(e){return 1}},support.cssBorderSpacing=void 0!==docStyle.borderSpacing&&!(support.browser.msie&&support.browser.version<8),browser=support.browser,cssClass="",docElement=$(document.documentElement),majorVersion=parseInt(browser.version,10),browser.msie?cssClass="ie":browser.mozilla?cssClass="ff":browser.safari?cssClass="safari":browser.webkit?cssClass="webkit":browser.opera?cssClass="opera":browser.edge&&(cssClass="edge"),cssClass&&(cssClass="k-"+cssClass+" k-"+cssClass+majorVersion),support.mobileOS&&(cssClass+=" k-mobile"),support.cssFlexbox||(cssClass+=" k-no-flexbox"),docElement.addClass(cssClass),support.eventCapture=document.documentElement.addEventListener;var input=document.createElement("input");support.placeholder="placeholder"in input,support.propertyChangeEvent="onpropertychange"in input,support.input=function(){for(var types=["number","date","time","month","week","datetime","datetime-local"],length=types.length,value="test",result={},idx=0,type;idx<length;idx++)type=types[idx],input.setAttribute("type",type),input.value=value,result[type.replace("-","")]="text"!==input.type&&input.value!==value;return result}(),input.style.cssText="float:left;",support.cssFloat=!!input.style.cssFloat,input=null,support.stableSort=function(){for(var threshold=513,sorted=[{index:0,field:"b"}],i=1;i<513;i++)sorted.push({index:i,field:"a"});return sorted.sort(function(a,b){return a.field>b.field?1:a.field<b.field?-1:0}),1===sorted[0].index}(),support.matchesSelector=elementProto.webkitMatchesSelector||elementProto.mozMatchesSelector||elementProto.msMatchesSelector||elementProto.oMatchesSelector||elementProto.matchesSelector||elementProto.matches||function(selector){for(var nodeList=document.querySelectorAll?(this.parentNode||document).querySelectorAll(selector)||[]:$(selector),i=nodeList.length;i--;)if(nodeList[i]==this)return!0;return!1},support.pushState=window.history&&window.history.pushState;var documentMode=document.documentMode;support.hashChange="onhashchange"in window&&!(support.browser.msie&&(!documentMode||documentMode<=8)),support.customElements="registerElement"in window.document;var chrome=support.browser.chrome;support.msPointers=!chrome&&window.MSPointerEvent,support.pointers=!chrome&&window.PointerEvent,support.kineticScrollNeeded=mobileOS&&(support.touch||support.msPointers||support.pointers)}();var directions={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},in:{reverse:"out"},out:{reverse:"in"}};function parseEffects(input){var effects={};return each("string"==typeof input?input.split(" "):input,function(idx){effects[idx]=this}),effects}function fx(element){return new kendo.effects.Element(element)}var effects={};function prepareAnimationOptions(options,duration,reverse,complete){return typeof options===STRING&&(isFunction(duration)&&(complete=duration,duration=400,reverse=!1),isFunction(reverse)&&(complete=reverse,reverse=!1),typeof duration===BOOLEAN&&(reverse=duration,duration=400),options={effects:options,duration:duration,reverse:reverse,complete:complete}),extend({effects:{},duration:400,reverse:!1,init:noop,teardown:noop,hide:!1},options,{completeCallback:options.complete,complete:noop})}function animate(element,options,duration,reverse,complete){for(var idx=0,length=element.length,instance;idx<length;idx++)(instance=$(element[idx])).queue(function(){effects.promise(instance,prepareAnimationOptions(options,duration,reverse,complete))});return element}function toggleClass(element,classes,options,add){return classes&&(classes=classes.split(" "),each(classes,function(idx,value){element.toggleClass(value,add)})),element}$.extend(effects,{enabled:!0,Element:function(element){this.element=$(element)},promise:function(element,options){element.is(":visible")||element.css({display:element.data("olddisplay")||"block"}).css("display"),options.hide&&element.data("olddisplay",element.css("display")).hide(),options.init&&options.init(),options.completeCallback&&options.completeCallback(element),element.dequeue()},disable:function(){this.enabled=!1,this.promise=this.promiseShim},enable:function(){this.enabled=!0,this.promise=this.animatedPromise}}),effects.promiseShim=effects.promise,"kendoAnimate"in $.fn||extend($.fn,{kendoStop:function(clearQueue,gotoEnd){return this.stop(clearQueue,gotoEnd)},kendoAnimate:function(options,duration,reverse,complete){return animate(this,options,duration,reverse,complete)},kendoAddClass:function(classes,options){return kendo.toggleClass(this,classes,options,!0)},kendoRemoveClass:function(classes,options){return kendo.toggleClass(this,classes,options,!1)},kendoToggleClass:function(classes,options,toggle){return kendo.toggleClass(this,classes,options,toggle)}});var ampRegExp=/&/g,ltRegExp=/</g,quoteRegExp=/"/g,aposRegExp=/'/g,gtRegExp=/>/g;function htmlEncode(value){return(""+value).replace(ampRegExp,"&amp;").replace(ltRegExp,"&lt;").replace(gtRegExp,"&gt;").replace(quoteRegExp,"&quot;").replace(aposRegExp,"&#39;")}var eventTarget=function(e){return e.target};support.touch&&(eventTarget=function(e){var touches="originalEvent"in e?e.originalEvent.changedTouches:"changedTouches"in e?e.changedTouches:null;return touches?document.elementFromPoint(touches[0].clientX,touches[0].clientY):e.target},each(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(m,value){$.fn[value]=function(callback){return this.bind(value,callback)}})),support.touch?support.mobileOS?(support.mousedown="touchstart",support.mouseup="touchend",support.mousemove="touchmove",support.mousecancel="touchcancel",support.click="touchend",support.resize="orientationchange"):(support.mousedown="mousedown touchstart",support.mouseup="mouseup touchend",support.mousemove="mousemove touchmove",support.mousecancel="mouseleave touchcancel",support.click="click",support.resize="resize"):support.pointers?(support.mousemove="pointermove",support.mousedown="pointerdown",support.mouseup="pointerup",support.mousecancel="pointercancel",support.click="pointerup",support.resize="orientationchange resize"):support.msPointers?(support.mousemove="MSPointerMove",support.mousedown="MSPointerDown",support.mouseup="MSPointerUp",support.mousecancel="MSPointerCancel",support.click="MSPointerUp",support.resize="orientationchange resize"):(support.mousemove="mousemove",support.mousedown="mousedown",support.mouseup="mouseup",support.mousecancel="mouseleave",support.click="click",support.resize="resize");var wrapExpression=function(members,paramName){var result=paramName||"d",index,idx,length,member,count=1;for(idx=0,length=members.length;idx<length;idx++)""!==(member=members[idx])&&(0!==(index=member.indexOf("["))&&(-1==index?member="."+member:(count++,member="."+member.substring(0,index)+" || {})"+member.substring(index))),count++,result+=member+(idx<length-1?" || {})":")"));return new Array(count).join("(")+result},localUrlRe=/^([a-z]+:)?\/\//i;extend(kendo,{widgets:[],_widgetRegisteredCallbacks:[],ui:kendo.ui||{},fx:kendo.fx||fx,effects:kendo.effects||effects,mobile:kendo.mobile||{},data:kendo.data||{},dataviz:kendo.dataviz||{},drawing:kendo.drawing||{},spreadsheet:{messages:{}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123,NUMPAD_PLUS:107,NUMPAD_MINUS:109,NUMPAD_DOT:110},support:kendo.support||support,animate:kendo.animate||animate,ns:"",attr:function(value){return"data-"+kendo.ns+value},getShadows:getShadows,wrap:wrap,deepExtend:deepExtend,getComputedStyles:getComputedStyles,webComponents:kendo.webComponents||[],isScrollable:isScrollable,scrollLeft:scrollLeft,size:size,toCamelCase:toCamelCase,toHyphens:toHyphens,getOffset:kendo.getOffset||getOffset,parseEffects:kendo.parseEffects||parseEffects,toggleClass:kendo.toggleClass||toggleClass,directions:kendo.directions||directions,Observable:Observable,Class:Class,Template:Template,template:proxy(Template.compile,Template),render:proxy(Template.render,Template),stringify:proxy(JSON.stringify,JSON),eventTarget:eventTarget,htmlEncode:htmlEncode,isLocalUrl:function(url){return url&&!localUrlRe.test(url)},expr:function(expression,safe,paramName){return expression=expression||"",typeof safe==STRING&&(paramName=safe,safe=!1),paramName=paramName||"d",expression&&"["!==expression.charAt(0)&&(expression="."+expression),safe?(expression=(expression=expression.replace(/"([^.]*)\.([^"]*)"/g,'"$1_$DOT$_$2"')).replace(/'([^.]*)\.([^']*)'/g,"'$1_$DOT$_$2'"),expression=(expression=wrapExpression(expression.split("."),paramName)).replace(/_\$DOT\$_/g,".")):expression=paramName+expression,expression},getter:function(expression,safe){var key=expression+safe;return getterCache[key]=getterCache[key]||new Function("d","return "+kendo.expr(expression,safe))},setter:function(expression){return setterCache[expression]=setterCache[expression]||new Function("d,value",kendo.expr(expression)+"=value")},accessor:function(expression){return{get:kendo.getter(expression),set:kendo.setter(expression)}},guid:function(){var id="",i,random;for(i=0;i<32;i++)random=16*math.random()|0,8!=i&&12!=i&&16!=i&&20!=i||(id+="-"),id+=(12==i?4:16==i?3&random|8:random).toString(16);return id},roleSelector:function(role){return role.replace(/(\S+)/g,"["+kendo.attr("role")+"=$1],").slice(0,-1)},directiveSelector:function(directives){var selectors=directives.split(" ");if(selectors)for(var i=0;i<selectors.length;i++)"view"!=selectors[i]&&(selectors[i]=selectors[i].replace(/(\w*)(view|bar|strip|over)$/,"$1-$2"));return selectors.join(" ").replace(/(\S+)/g,"kendo-mobile-$1,").slice(0,-1)},triggeredByInput:function(e){return/^(label|input|textarea|select)$/i.test(e.target.tagName)},onWidgetRegistered:function(callback){for(var i=0,len=kendo.widgets.length;i<len;i++)callback(kendo.widgets[i]);kendo._widgetRegisteredCallbacks.push(callback)},logToConsole:function(message,type){var console=window.console;!kendo.suppressLog&&void 0!==console&&console.log&&console[type||"log"](message)}});var Widget=Observable.extend({init:function(element,options){var that=this;this.element=kendo.jQuery(element).handler(this),this.angular("init",options),Observable.fn.init.call(this);var dataSource=options?options.dataSource:null;dataSource&&(options=extend({},options,{dataSource:{}})),options=this.options=extend(!0,{},this.options,options),dataSource&&(options.dataSource=dataSource),this.element.attr(kendo.attr("role"))||this.element.attr(kendo.attr("role"),(options.name||"").toLowerCase()),this.element.data("kendo"+options.prefix+options.name,this),this.bind(this.events,options)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(target){target=target||this.wrapper;var element=this.element,TABINDEX="tabindex",tabindex=target.attr(TABINDEX)||element.attr(TABINDEX);element.removeAttr(TABINDEX),target.attr(TABINDEX,isNaN(tabindex)?0:tabindex)},setOptions:function(options){this._setEvents(options),$.extend(this.options,options)},_setEvents:function(options){for(var that=this,idx=0,length=this.events.length,e;idx<length;idx++)e=this.events[idx],this.options[e]&&options[e]&&this.unbind(e,this.options[e]);this.bind(this.events,options)},resize:function(force){var size=this.getSize(),currentSize=this._size;(force||(size.width>0||size.height>0)&&(!currentSize||size.width!==currentSize.width||size.height!==currentSize.height))&&(this._size=size,this._resize(size,force),this.trigger("resize",size))},getSize:function(){return kendo.dimensions(this.element)},size:function(size){if(!size)return this.getSize();this.setSize(size)},setSize:$.noop,_resize:$.noop,destroy:function(){var that=this;this.element.removeData("kendo"+this.options.prefix+this.options.name),this.element.removeData("handler"),this.unbind()},_destroy:function(){this.destroy()},angular:function(){},_muteAngularRebind:function(callback){this._muteRebind=!0,callback.call(this),this._muteRebind=!1}}),DataBoundWidget=Widget.extend({dataItems:function(){return this.dataSource.flatView()},_angularItems:function(cmd){var that=this;that.angular(cmd,function(){return{elements:that.items(),data:$.map(that.dataItems(),function(dataItem){return{dataItem:dataItem}})}})}});kendo.dimensions=function(element,dimensions){var domElement=element[0];return dimensions&&element.css(dimensions),{width:domElement.offsetWidth,height:domElement.offsetHeight}},kendo.notify=noop;var templateRegExp=/template$/i,jsonRegExp=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,jsonFormatRegExp=/^\{(\d+)(:[^\}]+)?\}|^\[[A-Za-z_]+\]$/,dashRegExp=/([A-Z])/g;function parseOption(element,option){var value;return 0===option.indexOf("data")&&(option=(option=option.substring(4)).charAt(0).toLowerCase()+option.substring(1)),option=option.replace(dashRegExp,"-$1"),null===(value=element.getAttribute("data-"+kendo.ns+option))?value=undefined:"null"===value?value=null:"true"===value?value=!0:"false"===value?value=!1:numberRegExp.test(value)?value=parseFloat(value):jsonRegExp.test(value)&&!jsonFormatRegExp.test(value)&&(value=new Function("return ("+value+")")()),value}function parseOptions(element,options){var result={},option,value;for(option in options)(value=parseOption(element,option))!==undefined&&(templateRegExp.test(option)&&(value="string"==typeof value?kendo.template($("#"+value).html()):element.getAttribute(option)),result[option]=value);return result}function containmentComparer(a,b){return $.contains(a,b)?-1:1}function resizableWidget(){var widget=$(this);return $.inArray(widget.attr("data-"+kendo.ns+"role"),["slider","rangeslider"])>-1||widget.is(":visible")}kendo.initWidget=function(element,options,roles){var result,option,widget,idx,length,role,value,dataSource,fullPath,widgetKeyRegExp;if(roles?roles.roles&&(roles=roles.roles):roles=kendo.ui.roles,role=(element=element.nodeType?element:element[0]).getAttribute("data-"+kendo.ns+"role")){widget=(fullPath=-1===role.indexOf("."))?roles[role]:kendo.getter(role)(window);var data=$(element).data(),widgetKey=widget?"kendo"+widget.fn.options.prefix+widget.fn.options.name:"";for(var key in widgetKeyRegExp=fullPath?new RegExp("^kendo.*"+role+"$","i"):new RegExp("^"+widgetKey+"$","i"),data)if(key.match(widgetKeyRegExp)){if(key!==widgetKey)return data[key];result=data[key]}if(widget){for(dataSource=parseOption(element,"dataSource"),options=$.extend({},parseOptions(element,widget.fn.options),options),dataSource&&(options.dataSource=typeof dataSource===STRING?kendo.getter(dataSource)(window):dataSource),idx=0,length=widget.fn.events.length;idx<length;idx++)(value=parseOption(element,option=widget.fn.events[idx]))!==undefined&&(options[option]=kendo.getter(value)(window));return result?$.isEmptyObject(options)||result.setOptions(options):result=new widget(element,options),result}}},kendo.rolesFromNamespaces=function(namespaces){var roles=[],idx,length;for(namespaces[0]||(namespaces=[kendo.ui,kendo.dataviz.ui]),idx=0,length=namespaces.length;idx<length;idx++)roles[idx]=namespaces[idx].roles;return extend.apply(null,[{}].concat(roles.reverse()))},kendo.init=function(element){var roles=kendo.rolesFromNamespaces(slice.call(arguments,1));$(element).find("[data-"+kendo.ns+"role]").addBack().each(function(){kendo.initWidget(this,{},roles)})},kendo.destroy=function(element){$(element).find("[data-"+kendo.ns+"role]").addBack().each(function(){var data=$(this).data();for(var key in data)0===key.indexOf("kendo")&&typeof data[key].destroy===FUNCTION&&data[key].destroy()})},kendo.resize=function(element,force){var widgets=$(element).find("[data-"+kendo.ns+"role]").addBack().filter(resizableWidget);if(widgets.length){var widgetsArray=$.makeArray(widgets);widgetsArray.sort(containmentComparer),$.each(widgetsArray,function(){var widget=kendo.widgetInstance($(this));widget&&widget.resize(force)})}},kendo.parseOptions=parseOptions,extend(kendo.ui,{Widget:Widget,DataBoundWidget:DataBoundWidget,roles:{},progress:function(container,toggle){var mask=container.find(".k-loading-mask"),support=kendo.support,browser=support.browser,isRtl,leftRight,webkitCorrection,containerScrollLeft;toggle?mask.length||(leftRight=(isRtl=support.isRtl(container))?"right":"left",containerScrollLeft=container.scrollLeft(),webkitCorrection=browser.webkit&&isRtl?container[0].scrollWidth-container.width()-2*containerScrollLeft:0,mask=$("<div class='k-loading-mask'><span class='k-loading-text'>"+kendo.ui.progress.messages.loading+"</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").css("top",container.scrollTop()).css(leftRight,Math.abs(containerScrollLeft)+webkitCorrection).prependTo(container)):mask&&mask.remove()},plugin:function(widget,register,prefix){var name=widget.fn.options.name,getter;register=register||kendo.ui,prefix=prefix||"",register[name]=widget,register.roles[name.toLowerCase()]=widget,getter="getKendo"+prefix+name;var widgetEntry={name:name="kendo"+prefix+name,widget:widget,prefix:prefix||""};kendo.widgets.push(widgetEntry);for(var i=0,len=kendo._widgetRegisteredCallbacks.length;i<len;i++)kendo._widgetRegisteredCallbacks[i](widgetEntry);$.fn[name]=function(options){var value=this,args;return typeof options===STRING?(args=slice.call(arguments,1),this.each(function(){var widget=$.data(this,name),method,result;if(!widget)throw new Error(kendo.format("Cannot call method '{0}' of {1} before it is initialized",options,name));if(typeof(method=widget[options])!==FUNCTION)throw new Error(kendo.format("Cannot find method '{0}' of {1}",options,name));if((result=method.apply(widget,args))!==undefined)return value=result,!1})):this.each(function(){return new widget(this,options)}),value},$.fn[name].widget=widget,$.fn[getter]=function(){return this.data(name)}}}),kendo.ui.progress.messages={loading:"Loading..."};var ContainerNullObject={bind:function(){return this},nullObject:!0,options:{}},MobileWidget=Widget.extend({init:function(element,options){Widget.fn.init.call(this,element,options),this.element.autoApplyNS(),this.wrapper=this.element,this.element.addClass("km-widget")},destroy:function(){Widget.fn.destroy.call(this),this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var viewElement=this.element.closest(kendo.roleSelector("view splitview modalview drawer"));return kendo.widgetInstance(viewElement,kendo.mobile.ui)||ContainerNullObject},viewHasNativeScrolling:function(){var view=this.view();return view&&view.options.useNativeScrolling},container:function(){var element=this.element.closest(kendo.roleSelector("view layout modalview drawer splitview"));return kendo.widgetInstance(element.eq(0),kendo.mobile.ui)||ContainerNullObject}});function focusable(element,isTabIndexNotNaN){var nodeName=element.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"===nodeName&&element.href||isTabIndexNotNaN)&&visible(element)}function visible(element){return $.expr.filters.visible(element)&&!$(element).parents().addBack().filter(function(){return"hidden"===$.css(this,"visibility")}).length}extend(kendo.mobile,{init:function(element){kendo.init(element,kendo.mobile.ui,kendo.ui,kendo.dataviz.ui)},appLevelNativeScrolling:function(){return kendo.mobile.application&&kendo.mobile.application.options&&kendo.mobile.application.options.useNativeScrolling},roles:{},ui:{Widget:MobileWidget,DataBoundWidget:DataBoundWidget.extend(MobileWidget.prototype),roles:{},plugin:function(widget){kendo.ui.plugin(widget,kendo.mobile.ui,"Mobile")}}}),deepExtend(kendo.dataviz,{init:function(element){kendo.init(element,kendo.dataviz.ui)},ui:{roles:{},themes:{},views:[],plugin:function(widget){kendo.ui.plugin(widget,kendo.dataviz.ui)}},roles:{}}),kendo.touchScroller=function(elements,options){return options||(options={}),options.useNative=!0,$(elements).map(function(idx,element){return element=$(element),!(!support.kineticScrollNeeded||!kendo.mobile.ui.Scroller||element.data("kendoMobileScroller"))&&(element.kendoMobileScroller(options),element.data("kendoMobileScroller"))})[0]},kendo.preventDefault=function(e){e.preventDefault()},kendo.widgetInstance=function(element,suites){var role=element.data(kendo.ns+"role"),widgets=[],i,length;if(role){if("content"===role&&(role="scroller"),suites)if(suites[0])for(i=0,length=suites.length;i<length;i++)widgets.push(suites[i].roles[role]);else widgets.push(suites.roles[role]);else widgets=[kendo.ui.roles[role],kendo.dataviz.ui.roles[role],kendo.mobile.ui.roles[role]];for(role.indexOf(".")>=0&&(widgets=[kendo.getter(role)(window)]),i=0,length=widgets.length;i<length;i++){var widget=widgets[i];if(widget){var instance=element.data("kendo"+widget.fn.options.prefix+widget.fn.options.name);if(instance)return instance}}}},kendo.onResize=function(callback){var handler=callback;return support.mobileOS.android&&(handler=function(){setTimeout(callback,600)}),$(window).on(support.resize,handler),handler},kendo.unbindResize=function(callback){$(window).off(support.resize,callback)},kendo.attrValue=function(element,key){return element.data(kendo.ns+key)},kendo.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},$.extend($.expr[":"],{kendoFocusable:function(element){var idx=$.attr(element,"tabindex");return focusable(element,!isNaN(idx)&&idx>-1)}});var MOUSE_EVENTS=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],EXCLUDE_BUST_CLICK_SELECTOR="label, input, [data-rel=external]",MouseEventNormalizer={setupMouseMute:function(){var idx=0,length=MOUSE_EVENTS.length,element=document.documentElement;if(!MouseEventNormalizer.mouseTrap&&support.eventCapture){MouseEventNormalizer.mouseTrap=!0,MouseEventNormalizer.bustClick=!1,MouseEventNormalizer.captureMouse=!1;for(var handler=function(e){MouseEventNormalizer.captureMouse&&("click"===e.type?MouseEventNormalizer.bustClick&&!$(e.target).is(EXCLUDE_BUST_CLICK_SELECTOR)&&(e.preventDefault(),e.stopPropagation()):e.stopPropagation())};idx<length;idx++)element.addEventListener(MOUSE_EVENTS[idx],handler,!0)}},muteMouse:function(e){MouseEventNormalizer.captureMouse=!0,e.data.bustClick&&(MouseEventNormalizer.bustClick=!0),clearTimeout(MouseEventNormalizer.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(MouseEventNormalizer.mouseTrapTimeoutID),MouseEventNormalizer.mouseTrapTimeoutID=setTimeout(function(){MouseEventNormalizer.captureMouse=!1,MouseEventNormalizer.bustClick=!1},400)}},eventMap={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};support.touch&&(support.mobileOS.ios||support.mobileOS.android)?eventMap={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:support.pointers?eventMap={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:support.msPointers&&(eventMap={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),!support.msPointers||"onmspointerenter"in window||$.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(orig,fix){$.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;return related&&(related===this||$.contains(this,related))||(event.type=handleObj.origType,ret=handleObj.handler.apply(this,arguments),event.type=fix),ret}}});var getEventMap=function(e){return eventMap[e]||e},eventRegEx=/([^ ]+)/g;kendo.applyEventMap=function(events,ns){return events=events.replace(eventRegEx,getEventMap),ns&&(events=events.replace(eventRegEx,"$1."+ns)),events};var on=$.fn.on;function kendoJQuery(selector,context){return new kendoJQuery.fn.init(selector,context)}extend(!0,kendoJQuery,$),kendoJQuery.fn=kendoJQuery.prototype=new $,kendoJQuery.fn.constructor=kendoJQuery,kendoJQuery.fn.init=function(selector,context){return context&&context instanceof $&&!(context instanceof kendoJQuery)&&(context=kendoJQuery(context)),$.fn.init.call(this,selector,context,rootjQuery)},kendoJQuery.fn.init.prototype=kendoJQuery.fn;var rootjQuery=kendoJQuery(document);extend(kendoJQuery.fn,{handler:function(handler){return this.data("handler",handler),this},autoApplyNS:function(ns){return this.data("kendoNS",ns||kendo.guid()),this},on:function(){var that=this,ns=this.data("kendoNS");if(1===arguments.length)return on.call(this,arguments[0]);var context=this,args=slice.call(arguments);typeof args[args.length-1]===UNDEFINED&&args.pop();var callback=args[args.length-1],events=kendo.applyEventMap(args[0],ns);if(support.mouseAndTouchPresent&&events.search(/mouse|click/)>-1&&this[0]!==document.documentElement){MouseEventNormalizer.setupMouseMute();var selector=2===args.length?null:args[1],bustClick=events.indexOf("click")>-1&&events.indexOf("touchend")>-1;on.call(this,{touchstart:MouseEventNormalizer.muteMouse,touchend:MouseEventNormalizer.unMuteMouse},selector,{bustClick:bustClick})}return typeof callback===STRING&&(context=this.data("handler"),callback=context[callback],args[args.length-1]=function(e){callback.call(context,e)}),args[0]=events,on.apply(this,args),this},kendoDestroy:function(ns){return(ns=ns||this.data("kendoNS"))&&this.off("."+ns),this}}),kendo.jQuery=kendoJQuery,kendo.eventMap=eventMap,kendo.timezone=function(){var months={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},days={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};function ruleToDate(year,rule){var date,targetDay,ourDay,month=rule[3],on=rule[4],time=rule[5],cache=rule[8];return cache||(rule[8]=cache={}),cache[year]?cache[year]:(isNaN(on)?0===on.indexOf("last")?(date=new Date(Date.UTC(year,months[month]+1,1,time[0]-24,time[1],time[2],0)),targetDay=days[on.substr(4,3)],ourDay=date.getUTCDay(),date.setUTCDate(date.getUTCDate()+targetDay-ourDay-(targetDay>ourDay?7:0))):on.indexOf(">=")>=0&&(date=new Date(Date.UTC(year,months[month],on.substr(5),time[0],time[1],time[2],0)),targetDay=days[on.substr(0,3)],ourDay=date.getUTCDay(),date.setUTCDate(date.getUTCDate()+targetDay-ourDay+(targetDay<ourDay?7:0))):date=new Date(Date.UTC(year,months[month],on,time[0],time[1],time[2],0)),cache[year]=date)}function findRule(utcTime,rules,zone){if(!(rules=rules[zone])){var time=zone.split(":"),offset=0;return time.length>1&&(offset=60*time[0]+Number(time[1])),[-1e6,"max","-","Jan",1,[0,0,0],offset,"-"]}var year=new Date(utcTime).getUTCFullYear();(rules=jQuery.grep(rules,function(rule){var from=rule[0],to=rule[1];return from<=year&&(to>=year||from==year&&"only"==to||"max"==to)})).push(utcTime),rules.sort(function(a,b){return"number"!=typeof a&&(a=Number(ruleToDate(year,a))),"number"!=typeof b&&(b=Number(ruleToDate(year,b))),a-b});var rule=rules[jQuery.inArray(utcTime,rules)-1]||rules[rules.length-1];return isNaN(rule)?rule:null}function findZone(utcTime,zones,timezone){var zoneRules=zones[timezone];if("string"==typeof zoneRules&&(zoneRules=zones[zoneRules]),!zoneRules)throw new Error('Timezone "'+timezone+'" is either incorrect, or kendo.timezones.min.js is not included.');for(var idx=zoneRules.length-1;idx>=0;idx--){var until=zoneRules[idx][3];if(until&&utcTime>until)break}var zone=zoneRules[idx+1];if(!zone)throw new Error('Timezone "'+timezone+'" not found on '+utcTime+".");return zone}function zoneAndRule(utcTime,zones,rules,timezone){typeof utcTime!=NUMBER&&(utcTime=Date.UTC(utcTime.getFullYear(),utcTime.getMonth(),utcTime.getDate(),utcTime.getHours(),utcTime.getMinutes(),utcTime.getSeconds(),utcTime.getMilliseconds()));var zone=findZone(utcTime,zones,timezone);return{zone:zone,rule:findRule(utcTime,rules,zone[1])}}function offset(utcTime,timezone){if("Etc/UTC"==timezone||"Etc/GMT"==timezone)return 0;var info=zoneAndRule(utcTime,this.zones,this.rules,timezone),zone=info.zone,rule=info.rule;return kendo.parseFloat(rule?zone[0]-rule[6]:zone[0])}function abbr(utcTime,timezone){var info=zoneAndRule(utcTime,this.zones,this.rules,timezone),zone=info.zone,rule=info.rule,base=zone[2];return base.indexOf("/")>=0?base.split("/")[rule&&+rule[6]?1:0]:base.indexOf("%s")>=0?base.replace("%s",rule&&"-"!=rule[7]?rule[7]:""):base}function convert(date,fromOffset,toOffset){typeof fromOffset==STRING&&(fromOffset=this.offset(date,fromOffset)),typeof toOffset==STRING&&(toOffset=this.offset(date,toOffset));var fromLocalOffset=date.getTimezoneOffset(),toLocalOffset=(date=new Date(date.getTime()+6e4*(fromOffset-toOffset))).getTimezoneOffset();return new Date(date.getTime()+6e4*(toLocalOffset-fromLocalOffset))}function apply(date,timezone){return this.convert(date,date.getTimezoneOffset(),timezone)}function remove(date,timezone){return this.convert(date,timezone,date.getTimezoneOffset())}function toLocalDate(time){return this.apply(new Date(time),"Etc/UTC")}return{zones:{},rules:{},offset:offset,convert:convert,apply:apply,remove:remove,abbr:abbr,toLocalDate:toLocalDate}}(),kendo.date=function(){var MS_PER_MINUTE=6e4,MS_PER_DAY=864e5;function adjustDST(date,hours){return 0===hours&&23===date.getHours()&&(date.setHours(date.getHours()+2),!0)}function setDayOfWeek(date,day,dir){var hours=date.getHours();dir=dir||1,day=(day-date.getDay()+7*dir)%7,date.setDate(date.getDate()+day),adjustDST(date,hours)}function dayOfWeek(date,day,dir){return setDayOfWeek(date=new Date(date),day,dir),date}function firstDayOfMonth(date){return new Date(date.getFullYear(),date.getMonth(),1)}function lastDayOfMonth(date){var last=new Date(date.getFullYear(),date.getMonth()+1,0),first=firstDayOfMonth(date),timeOffset=Math.abs(last.getTimezoneOffset()-first.getTimezoneOffset());return timeOffset&&last.setHours(first.getHours()+timeOffset/60),last}function moveDateToWeekStart(date,weekStartDay){return 1!==weekStartDay?addDays(dayOfWeek(date,weekStartDay,-1),4):addDays(date,4-(date.getDay()||7))}function calcWeekInYear(date,weekStartDay){var firstWeekInYear=new Date(date.getFullYear(),0,1,-6),newDate,diffInMS=moveDateToWeekStart(date,weekStartDay).getTime()-firstWeekInYear.getTime(),days=Math.floor(diffInMS/MS_PER_DAY);return 1+Math.floor(days/7)}function weekInYear(date,weekStartDay){var prevWeekDate=addDays(date,-7),nextWeekDate=addDays(date,7),weekNumber=calcWeekInYear(date,weekStartDay);return 0===weekNumber?calcWeekInYear(prevWeekDate,weekStartDay)+1:53===weekNumber&&calcWeekInYear(nextWeekDate,weekStartDay)>1?1:weekNumber}function getDate(date){return adjustDST(date=new Date(date.getFullYear(),date.getMonth(),date.getDate(),0,0,0),0),date}function toUtcTime(date){return Date.UTC(date.getFullYear(),date.getMonth(),date.getDate(),date.getHours(),date.getMinutes(),date.getSeconds(),date.getMilliseconds())}function getMilliseconds(date){return date.getTime()-getDate(date)}function isInTimeRange(value,min,max){var msMin=getMilliseconds(min),msMax=getMilliseconds(max),msValue;return!value||msMin==msMax||(min>=max&&(max+=MS_PER_DAY),msMin>(msValue=getMilliseconds(value))&&(msValue+=MS_PER_DAY),msMax<msMin&&(msMax+=MS_PER_DAY),msValue>=msMin&&msValue<=msMax)}function isInDateRange(value,min,max){var msMin=min.getTime(),msMax=max.getTime(),msValue;return msMin>=msMax&&(msMax+=MS_PER_DAY),(msValue=value.getTime())>=msMin&&msValue<=msMax}function addDays(date,offset){var hours=date.getHours();return setTime(date=new Date(date),offset*MS_PER_DAY),adjustDST(date,hours),date}function setTime(date,milliseconds,ignoreDST){var offset=date.getTimezoneOffset(),difference;date.setTime(date.getTime()+milliseconds),ignoreDST||(difference=date.getTimezoneOffset()-offset,date.setTime(date.getTime()+difference*MS_PER_MINUTE))}function setHours(date,time){return adjustDST(date=new Date(kendo.date.getDate(date).getTime()+kendo.date.getMilliseconds(time)),time.getHours()),date}function today(){return getDate(new Date)}function isToday(date){return getDate(date).getTime()==today().getTime()}function toInvariantTime(date){var staticDate=new Date(1980,1,1,0,0,0);return date&&staticDate.setHours(date.getHours(),date.getMinutes(),date.getSeconds(),date.getMilliseconds()),staticDate}return{adjustDST:adjustDST,dayOfWeek:dayOfWeek,setDayOfWeek:setDayOfWeek,getDate:getDate,isInDateRange:isInDateRange,isInTimeRange:isInTimeRange,isToday:isToday,nextDay:function(date){return addDays(date,1)},previousDay:function(date){return addDays(date,-1)},toUtcTime:toUtcTime,MS_PER_DAY:MS_PER_DAY,MS_PER_HOUR:60*MS_PER_MINUTE,MS_PER_MINUTE:MS_PER_MINUTE,setTime:setTime,setHours:setHours,addDays:addDays,today:today,toInvariantTime:toInvariantTime,firstDayOfMonth:firstDayOfMonth,lastDayOfMonth:lastDayOfMonth,weekInYear:weekInYear,getMilliseconds:getMilliseconds}}(),kendo.stripWhitespace=function(element){if(document.createNodeIterator)for(var iterator=document.createNodeIterator(element,NodeFilter.SHOW_TEXT,function(node){return node.parentNode==element?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);iterator.nextNode();)iterator.referenceNode&&!iterator.referenceNode.textContent.trim()&&iterator.referenceNode.parentNode.removeChild(iterator.referenceNode);else for(var i=0;i<element.childNodes.length;i++){var child=element.childNodes[i];3!=child.nodeType||/\S/.test(child.nodeValue)||(element.removeChild(child),i--),1==child.nodeType&&kendo.stripWhitespace(child)}};var animationFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(callback){setTimeout(callback,1e3/60)};kendo.animationFrame=function(callback){animationFrame.call(window,callback)};var animationQueue=[];kendo.queueAnimation=function(callback){animationQueue[animationQueue.length]=callback,1===animationQueue.length&&kendo.runNextAnimation()},kendo.runNextAnimation=function(){kendo.animationFrame(function(){animationQueue[0]&&(animationQueue.shift()(),animationQueue[0]&&kendo.runNextAnimation())})},kendo.parseQueryStringParams=function(url){for(var queryString,params={},paramParts=(url.split("?")[1]||"").split(/&|=/),length=paramParts.length,idx=0;idx<length;idx+=2)""!==paramParts[idx]&&(params[decodeURIComponent(paramParts[idx])]=decodeURIComponent(paramParts[idx+1]));return params},kendo.elementUnderCursor=function(e){if(void 0!==e.x.client)return document.elementFromPoint(e.x.client,e.y.client)},kendo.wheelDeltaY=function(jQueryEvent){var e=jQueryEvent.originalEvent,deltaY=e.wheelDeltaY,delta;return e.wheelDelta?(deltaY===undefined||deltaY)&&(delta=e.wheelDelta):e.detail&&e.axis===e.VERTICAL_AXIS&&(delta=10*-e.detail),delta},kendo.throttle=function(fn,delay){var timeout,lastExecTime=0;if(!delay||delay<=0)return fn;var throttled=function(){var that=this,elapsed=+new Date-lastExecTime,args=arguments;function exec(){fn.apply(that,args),lastExecTime=+new Date}if(!lastExecTime)return exec();timeout&&clearTimeout(timeout),elapsed>delay?exec():timeout=setTimeout(exec,delay-elapsed)};return throttled.cancel=function(){clearTimeout(timeout)},throttled},kendo.caret=function(element,start,end){var rangeElement,isPosition=start!==undefined;if(end===undefined&&(end=start),element[0]&&(element=element[0]),!isPosition||!element.disabled){try{if(element.selectionStart!==undefined)if(isPosition){element.focus();var mobile=support.mobileOS;mobile.wp||mobile.android?setTimeout(function(){element.setSelectionRange(start,end)},0):element.setSelectionRange(start,end)}else start=[element.selectionStart,element.selectionEnd];else if(document.selection)if($(element).is(":visible")&&element.focus(),rangeElement=element.createTextRange(),isPosition)rangeElement.collapse(!0),rangeElement.moveStart("character",start),rangeElement.moveEnd("character",end-start),rangeElement.select();else{var rangeDuplicated=rangeElement.duplicate(),selectionStart,selectionEnd;rangeElement.moveToBookmark(document.selection.createRange().getBookmark()),rangeDuplicated.setEndPoint("EndToStart",rangeElement),selectionEnd=(selectionStart=rangeDuplicated.text.length)+rangeElement.text.length,start=[selectionStart,selectionEnd]}}catch(e){start=[]}return start}},kendo.compileMobileDirective=function(element,scope){var angular=window.angular;return element.attr("data-"+kendo.ns+"role",element[0].tagName.toLowerCase().replace("kendo-mobile-","").replace("-","")),angular.element(element).injector().invoke(["$compile",function($compile){$compile(element)(scope),/^\$(digest|apply)$/.test(scope.$$phase)||scope.$digest()}]),kendo.widgetInstance(element,kendo.mobile.ui)},kendo.antiForgeryTokens=function(){var tokens={},csrf_token=$("meta[name=csrf-token],meta[name=_csrf]").attr("content"),csrf_param=$("meta[name=csrf-param],meta[name=_csrf_header]").attr("content");return $("input[name^='__RequestVerificationToken']").each(function(){tokens[this.name]=this.value}),csrf_param!==undefined&&csrf_token!==undefined&&(tokens[csrf_param]=csrf_token),tokens},kendo.cycleForm=function(form){var firstElement=form.find("input, .k-widget").first(),lastElement=form.find("button, .k-button").last();function focus(el){var widget=kendo.widgetInstance(el);widget&&widget.focus?widget.focus():el.focus()}lastElement.on("keydown",function(e){e.keyCode!=kendo.keys.TAB||e.shiftKey||(e.preventDefault(),focus(firstElement))}),firstElement.on("keydown",function(e){e.keyCode==kendo.keys.TAB&&e.shiftKey&&(e.preventDefault(),focus(lastElement))})},function(){function postToProxy(dataURI,fileName,proxyURL,proxyTarget){var form=$("<form>").attr({action:proxyURL,method:"POST",target:proxyTarget}),data=kendo.antiForgeryTokens();data.fileName=fileName;var parts=dataURI.split(";base64,");for(var name in data.contentType=parts[0].replace("data:",""),data.base64=parts[1],data)data.hasOwnProperty(name)&&$("<input>").attr({value:data[name],name:name,type:"hidden"}).appendTo(form);form.appendTo("body").submit().remove()}var fileSaver=document.createElement("a"),downloadAttribute="download"in fileSaver&&!kendo.support.browser.edge;function saveAsBlob(dataURI,fileName){var blob=dataURI;if("string"==typeof dataURI){for(var parts=dataURI.split(";base64,"),contentType=parts[0],base64=atob(parts[1]),array=new Uint8Array(base64.length),idx=0;idx<base64.length;idx++)array[idx]=base64.charCodeAt(idx);blob=new Blob([array.buffer],{type:contentType})}navigator.msSaveBlob(blob,fileName)}function saveAsDataURI(dataURI,fileName){window.Blob&&dataURI instanceof Blob&&(dataURI=URL.createObjectURL(dataURI)),fileSaver.download=fileName,fileSaver.href=dataURI;var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),fileSaver.dispatchEvent(e),setTimeout(function(){URL.revokeObjectURL(dataURI)})}kendo.saveAs=function(options){var save=postToProxy;options.forceProxy||(downloadAttribute?save=saveAsDataURI:navigator.msSaveBlob&&(save=saveAsBlob)),save(options.dataURI,options.fileName,options.proxyURL,options.proxyTarget)}}(),kendo.proxyModelSetters=function proxyModelSetters(data){var observable={};return Object.keys(data||{}).forEach(function(property){Object.defineProperty(observable,property,{get:function(){return data[property]},set:function(value){data[property]=value,data.dirty=!0}})}),observable}}(jQuery,window),window.kendo},"function"==typeof define&&define.amd?define:function(a1,a2,a3){(a3||a2)()}),function(f,define){define("kendo.color",["kendo.core"],f)}(function(){var __meta___id="color",__meta___name="Color utils",__meta___category="framework",__meta___advanced=!0,__meta___description="Color utilities used across components",__meta___depends=["core"];window.kendo=window.kendo||{};var Class=kendo.Class,support,namedColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},browser=kendo.support.browser,namedColorRegexp=["transparent"];for(var i in namedColors)namedColors.hasOwnProperty(i)&&namedColorRegexp.push(i);namedColorRegexp=new RegExp("^("+namedColorRegexp.join("|")+")(\\W|$)","i");var BaseColor=Class.extend({init:function(){},toHSV:function(){return this},toRGB:function(){return this},toHex:function(){return this.toBytes().toHex()},toBytes:function(){return this},toCss:function(){return"#"+this.toHex()},toCssRgba:function(){var rgb=this.toBytes();return"rgba("+rgb.r+", "+rgb.g+", "+rgb.b+", "+parseFloat(Number(this.a).toFixed(3))+")"},toDisplay:function(){return browser.msie&&browser.version<9?this.toCss():this.toCssRgba()},equals:function(c){return c===this||null!==c&&this.toCssRgba()===parseColor(c).toCssRgba()},diff:function(other){if(null===other)return NaN;var c1=this.toBytes(),c2=other.toBytes();return Math.sqrt(Math.pow(.3*(c1.r-c2.r),2)+Math.pow(.59*(c1.g-c2.g),2)+Math.pow(.11*(c1.b-c2.b),2))},clone:function(){var c=this.toBytes();return c===this&&(c=new Bytes(c.r,c.g,c.b,c.a)),c}}),RGB=BaseColor.extend({init:function(r,g,b,a){BaseColor.fn.init.call(this),this.r=r,this.g=g,this.b=b,this.a=a},toHSV:function(){var ref=this,r=ref.r,g=ref.g,b=ref.b,min=Math.min(r,g,b),max=Math.max(r,g,b),delta=max-min,v=max,h,s;return 0===delta?new HSV(0,0,v,this.a):(0!==max?(s=delta/max,h=r===max?(g-b)/delta:g===max?2+(b-r)/delta:4+(r-g)/delta,(h*=60)<0&&(h+=360)):(s=0,h=-1),new HSV(h,s,v,this.a))},toHSL:function(){var ref=this,r=ref.r,g=ref.g,b=ref.b,max=Math.max(r,g,b),min=Math.min(r,g,b),h,s,l=(max+min)/2;if(max===min)h=s=0;else{var d=max-min;switch(s=l>.5?d/(2-max-min):d/(max+min),max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h*=60,s*=100,l*=100}return new HSL(h,s,l,this.a)},toBytes:function(){return new Bytes(255*this.r,255*this.g,255*this.b,this.a)}}),Bytes=RGB.extend({init:function(r,g,b,a){RGB.fn.init.call(this,Math.round(r),Math.round(g),Math.round(b),a)},toRGB:function(){return new RGB(this.r/255,this.g/255,this.b/255,this.a)},toHSV:function(){return this.toRGB().toHSV()},toHSL:function(){return this.toRGB().toHSL()},toHex:function(){return hex(this.r,2)+hex(this.g,2)+hex(this.b,2)},toBytes:function(){return this}});function hex(n,width,pad){void 0===pad&&(pad="0");for(var result=n.toString(16);width>result.length;)result=pad+result;return result}var HSV=BaseColor.extend({init:function(h,s,v,a){BaseColor.fn.init.call(this),this.h=h,this.s=s,this.v=v,this.a=a},toRGB:function(){var ref=this,h=ref.h,s=ref.s,v=ref.v,r,g,b;if(0===s)r=g=b=v;else{h/=60;var i=Math.floor(h),f=h-i,p=v*(1-s),q=v*(1-s*f),t=v*(1-s*(1-f));switch(i){case 0:r=v,g=t,b=p;break;case 1:r=q,g=v,b=p;break;case 2:r=p,g=v,b=t;break;case 3:r=p,g=q,b=v;break;case 4:r=t,g=p,b=v;break;default:r=v,g=p,b=q}}return new RGB(r,g,b,this.a)},toHSL:function(){return this.toRGB().toHSL()},toBytes:function(){return this.toRGB().toBytes()}}),HSL=BaseColor.extend({init:function(h,s,l,a){BaseColor.fn.init.call(this),this.h=h,this.s=s,this.l=l,this.a=a},toRGB:function(){var ref=this,h=ref.h,s=ref.s,l=ref.l,r,g,b;if(0===s)r=g=b=l;else{h/=360,s/=100;var q=(l/=100)<.5?l*(1+s):l+s-l*s,p=2*l-q;r=hue2rgb(p,q,h+1/3),g=hue2rgb(p,q,h),b=hue2rgb(p,q,h-1/3)}return new RGB(r,g,b,this.a)},toHSV:function(){return this.toRGB().toHSV()},toBytes:function(){return this.toRGB().toBytes()}});function hue2rgb(p,q,s){var t=s;return t<0&&(t+=1),t>1&&(t-=1),t<1/6?p+6*(q-p)*t:t<.5?q:t<2/3?p+(q-p)*(2/3-t)*6:p}function parseColor(value,safe){var m,ret;if(null==value||"none"===value)return null;if(value instanceof BaseColor)return value;var color=value.toLowerCase();if(m=namedColorRegexp.exec(color))return(color="transparent"===m[1]?new RGB(1,1,1,0):parseColor(namedColors[m[1]],safe)).match=[m[1]],color;if((m=/^#?([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})\b/i.exec(color))?ret=new Bytes(parseInt(m[1],16),parseInt(m[2],16),parseInt(m[3],16),1):(m=/^#?([0-9a-f])([0-9a-f])([0-9a-f])\b/i.exec(color))?ret=new Bytes(parseInt(m[1]+m[1],16),parseInt(m[2]+m[2],16),parseInt(m[3]+m[3],16),1):(m=/^rgb\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/.exec(color))?ret=new Bytes(parseInt(m[1],10),parseInt(m[2],10),parseInt(m[3],10),1):(m=/^rgba\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9.]+)\s*\)/.exec(color))?ret=new Bytes(parseInt(m[1],10),parseInt(m[2],10),parseInt(m[3],10),parseFloat(m[4])):(m=/^rgb\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*\)/.exec(color))?ret=new RGB(parseFloat(m[1])/100,parseFloat(m[2])/100,parseFloat(m[3])/100,1):(m=/^rgba\(\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9]*\.?[0-9]+)%\s*,\s*([0-9.]+)\s*\)/.exec(color))&&(ret=new RGB(parseFloat(m[1])/100,parseFloat(m[2])/100,parseFloat(m[3])/100,parseFloat(m[4]))),ret)ret.match=m;else if(!safe)throw new Error("Cannot parse color: "+color);return ret}var Color=Class.extend({init:function(value){var this$1=this;if(1===arguments.length)for(var formats=Color.formats,resolvedColor=this.resolveColor(value),idx=0;idx<formats.length;idx++){var formatRegex=formats[idx].re,processor=formats[idx].process,parts=formatRegex.exec(resolvedColor);if(parts){var channels=processor(parts);this.r=channels[0],this.g=channels[1],this.b=channels[2]}}else this.r=arguments[0],this.g=arguments[1],this.b=arguments[2];this.r=this.normalizeByte(this.r),this.g=this.normalizeByte(this.g),this.b=this.normalizeByte(this.b)},toHex:function(){var pad=this.padDigit,r=this.r.toString(16),g=this.g.toString(16),b=this.b.toString(16);return"#"+pad(r)+pad(g)+pad(b)},resolveColor:function(value){var color=value||"black";return"#"===color.charAt(0)&&(color=color.substr(1,6)),color=(color=color.replace(/ /g,"")).toLowerCase(),color=Color.namedColors[color]||color},normalizeByte:function(value){return value<0||isNaN(value)?0:value>255?255:value},padDigit:function(value){return 1===value.length?"0"+value:value},brightness:function(value){var round=Math.round;return this.r=round(this.normalizeByte(this.r*value)),this.g=round(this.normalizeByte(this.g*value)),this.b=round(this.normalizeByte(this.b*value)),this},percBrightness:function(){return Math.sqrt(.241*this.r*this.r+.691*this.g*this.g+.068*this.b*this.b)}});Color.fromBytes=function(r,g,b,a){return new Bytes(r,g,b,null!=a?a:1)},Color.fromRGB=function(r,g,b,a){return new RGB(r,g,b,null!=a?a:1)},Color.fromHSV=function(h,s,v,a){return new HSV(h,s,v,null!=a?a:1)},Color.fromHSL=function(h,s,l,a){return new HSL(h,s,l,null!=a?a:1)},Color.formats=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(parts){return[parseInt(parts[1],10),parseInt(parts[2],10),parseInt(parts[3],10)]}},{re:/^(\w{2})(\w{2})(\w{2})$/,process:function(parts){return[parseInt(parts[1],16),parseInt(parts[2],16),parseInt(parts[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,process:function(parts){return[parseInt(parts[1]+parts[1],16),parseInt(parts[2]+parts[2],16),parseInt(parts[3]+parts[3],16)]}}],Color.namedColors=namedColors,kendo.deepExtend(kendo,{parseColor:parseColor,Color:Color})},"function"==typeof define&&define.amd?define:function(a1,a2,a3){(a3||a2)()}),function(f,define){define("kendo.data",["kendo.core","kendo.data.odata","kendo.data.xml"],f)}(function(){var __meta___id="data",__meta___name="Data source",__meta___category="framework",__meta___description="Powerful component for using local and remote data.Fully supports CRUD, Sorting, Paging, Filtering, Grouping, and Aggregates.",__meta___depends=["core"],__meta___features=[{id:"data-odata",name:"OData",description:"Support for accessing Open Data Protocol (OData) services.",depends:["data.odata"]},{id:"data-signalr",name:"SignalR",description:"Support for binding to SignalR hubs.",depends:["data.signalr"]},{id:"data-XML",name:"XML",description:"Support for binding to XML.",depends:["data.xml"]}];return function($,undefined){var extend=$.extend,proxy=$.proxy,isPlainObject=$.isPlainObject,isEmptyObject=$.isEmptyObject,isArray=$.isArray,grep=$.grep,ajax=$.ajax,map,each=$.each,noop=$.noop,kendo=window.kendo,isFunction=kendo.isFunction,Observable=kendo.Observable,Class=kendo.Class,STRING="string",FUNCTION="function",CREATE="create",READ="read",UPDATE="update",DESTROY="destroy",CHANGE="change",SYNC="sync",GET="get",ERROR="error",REQUESTSTART="requestStart",PROGRESS="progress",REQUESTEND="requestEnd",crud=[CREATE,READ,UPDATE,DESTROY],identity=function(o){return o},getter=kendo.getter,stringify=kendo.stringify,math=Math,push=[].push,join=[].join,pop=[].pop,splice=[].splice,shift=[].shift,slice=[].slice,unshift=[].unshift,toString={}.toString,stableSort=kendo.support.stableSort,dateRegExp=/^\/Date\((.*?)\)\/$/,ObservableArray=Observable.extend({init:function(array,type){var that=this;this.type=type||ObservableObject,Observable.fn.init.call(this),this.length=array.length,this.wrapAll(array,this)},at:function(index){return this[index]},toJSON:function(){var idx,length=this.length,value,json=new Array(length);for(idx=0;idx<length;idx++)(value=this[idx])instanceof ObservableObject&&(value=value.toJSON()),json[idx]=value;return json},parent:noop,wrapAll:function(source,target){var that=this,idx,length,parent=function(){return that};for(target=target||[],idx=0,length=source.length;idx<length;idx++)target[idx]=that.wrap(source[idx],parent);return target},wrap:function(object,parent){var that=this,observable;return null!==object&&"[object Object]"===toString.call(object)&&((observable=object instanceof that.type||object instanceof Model)||(object=object instanceof ObservableObject?object.toJSON():object,object=new that.type(object)),object.parent=parent,object.bind(CHANGE,function(e){that.trigger(CHANGE,{field:e.field,node:e.node,index:e.index,items:e.items||[this],action:e.node?e.action||"itemloaded":"itemchange"})})),object},push:function(){var index=this.length,items=this.wrapAll(arguments),result;return result=push.apply(this,items),this.trigger(CHANGE,{action:"add",index:index,items:items}),result},slice:slice,sort:[].sort,join:join,pop:function(){var length=this.length,result=pop.apply(this);return length&&this.trigger(CHANGE,{action:"remove",index:length-1,items:[result]}),result},splice:function(index,howMany,item){var items=this.wrapAll(slice.call(arguments,2)),result,i,len;if((result=splice.apply(this,[index,howMany].concat(items))).length)for(this.trigger(CHANGE,{action:"remove",index:index,items:result}),i=0,len=result.length;i<len;i++)result[i]&&result[i].children&&result[i].unbind(CHANGE);return item&&this.trigger(CHANGE,{action:"add",index:index,items:items}),result},shift:function(){var length=this.length,result=shift.apply(this);return length&&this.trigger(CHANGE,{action:"remove",index:0,items:[result]}),result},unshift:function(){var items=this.wrapAll(arguments),result;return result=unshift.apply(this,items),this.trigger(CHANGE,{action:"add",index:0,items:items}),result},indexOf:function(item){var that=this,idx,length;for(idx=0,length=this.length;idx<length;idx++)if(this[idx]===item)return idx;return-1},forEach:function(callback){for(var idx=0,length=this.length;idx<length;idx++)callback(this[idx],idx,this)},map:function(callback){for(var idx=0,result=[],length=this.length;idx<length;idx++)result[idx]=callback(this[idx],idx,this);return result},reduce:function(callback){var idx=0,result,length=this.length;for(2==arguments.length?result=arguments[1]:idx<length&&(result=this[idx++]);idx<length;idx++)result=callback(result,this[idx],idx,this);return result},reduceRight:function(callback){var idx=this.length-1,result;for(2==arguments.length?result=arguments[1]:idx>0&&(result=this[idx--]);idx>=0;idx--)result=callback(result,this[idx],idx,this);return result},filter:function(callback){for(var idx=0,result=[],item,length=this.length;idx<length;idx++)callback(item=this[idx],idx,this)&&(result[result.length]=item);return result},find:function(callback){for(var idx=0,item,length=this.length;idx<length;idx++)if(callback(item=this[idx],idx,this))return item},every:function(callback){for(var idx=0,item,length=this.length;idx<length;idx++)if(!callback(item=this[idx],idx,this))return!1;return!0},some:function(callback){for(var idx=0,item,length=this.length;idx<length;idx++)if(callback(item=this[idx],idx,this))return!0;return!1},remove:function(item){var idx=this.indexOf(item);-1!==idx&&this.splice(idx,1)},empty:function(){this.splice(0,this.length)}});"undefined"!=typeof Symbol&&Symbol.iterator&&!ObservableArray.prototype[Symbol.iterator]&&(ObservableArray.prototype[Symbol.iterator]=[][Symbol.iterator]);var LazyObservableArray=ObservableArray.extend({init:function(data,type){Observable.fn.init.call(this),this.type=type||ObservableObject;for(var idx=0;idx<data.length;idx++)this[idx]=data[idx];this.length=idx,this._parent=proxy(function(){return this},this)},at:function(index){var item=this[index];return item instanceof this.type?item.parent=this._parent:item=this[index]=this.wrap(item,this._parent),item}});function eventHandler(context,type,field,prefix){return function(e){var event={},key;for(key in e)event[key]=e[key];event.field=prefix?field+"."+e.field:field,type==CHANGE&&context._notifyChange&&context._notifyChange(event),context.trigger(type,event)}}var ObservableObject=Observable.extend({init:function(value){var that=this,member,field,parent=function(){return that};for(field in Observable.fn.init.call(this),this._handlers={},value)"object"==typeof(member=value[field])&&member&&!member.getTime&&"_"!=field.charAt(0)&&(member=that.wrap(member,field,parent)),that[field]=member;that.uid=kendo.guid()},shouldSerialize:function(field){return this.hasOwnProperty(field)&&"_handlers"!==field&&"_events"!==field&&typeof this[field]!==FUNCTION&&"uid"!==field},forEach:function(f){for(var i in this)this.shouldSerialize(i)&&f(this[i],i)},toJSON:function(){var result={},value,field;for(field in this)this.shouldSerialize(field)&&(((value=this[field])instanceof ObservableObject||value instanceof ObservableArray)&&(value=value.toJSON()),result[field]=value);return result},get:function(field){var that=this,result;return this.trigger(GET,{field:field}),result="this"===field?this:kendo.getter(field,!0)(this)},_set:function(field,value){var that=this,composite=field.indexOf(".")>=0;if(composite)for(var paths=field.split("."),path="";paths.length>1;){path+=paths.shift();var obj=kendo.getter(path,!0)(this);if(obj instanceof ObservableObject)return obj.set(paths.join("."),value),composite;path+="."}return kendo.setter(field)(this,value),composite},set:function(field,value){var that=this,isSetPrevented=!1,composite=field.indexOf(".")>=0,current=kendo.getter(field,!0)(that);return current!==value&&(current instanceof Observable&&this._handlers[field]&&(this._handlers[field].get&&current.unbind(GET,this._handlers[field].get),current.unbind(CHANGE,this._handlers[field].change)),(isSetPrevented=that.trigger("set",{field:field,value:value}))||(composite||(value=that.wrap(value,field,function(){return that})),(!that._set(field,value)||field.indexOf("(")>=0||field.indexOf("[")>=0)&&that.trigger(CHANGE,{field:field}))),isSetPrevented},parent:noop,wrap:function(object,field,parent){var that=this,get,change,type=toString.call(object);if(null!=object&&("[object Object]"===type||"[object Array]"===type)){var isObservableArray=object instanceof ObservableArray,isDataSource=object instanceof DataSource;"[object Object]"!==type||isDataSource||isObservableArray?("[object Array]"===type||isObservableArray||isDataSource)&&(isObservableArray||isDataSource||(object=new ObservableArray(object)),change=eventHandler(this,CHANGE,field,!1),object.bind(CHANGE,change),this._handlers[field]={change:change}):(object instanceof ObservableObject||(object=new ObservableObject(object)),get=eventHandler(this,GET,field,!0),object.bind(GET,get),change=eventHandler(this,CHANGE,field,!0),object.bind(CHANGE,change),this._handlers[field]={get:get,change:change}),object.parent=parent}return object}});function equal(x,y){if(x===y)return!0;var xtype=$.type(x),ytype,field;if(xtype!==$.type(y))return!1;if("date"===xtype)return x.getTime()===y.getTime();if("object"!==xtype&&"array"!==xtype)return!1;for(field in x)if(!equal(x[field],y[field]))return!1;return!0}var parsers={number:function(value){return kendo.parseFloat(value)},date:function(value){return kendo.parseDate(value)},boolean:function(value){return typeof value===STRING?"true"===value.toLowerCase():null!=value?!!value:value},string:function(value){return null!=value?value+"":value},default:function(value){return value}},defaultValues={string:"",number:0,date:new Date,boolean:!1,default:""};function getFieldByName(obj,name){var field,fieldName;for(fieldName in obj){if(field=obj[fieldName],isPlainObject(field)&&field.field&&field.field===name)return field;if(field===name)return field}return null}var Model=ObservableObject.extend({init:function(data){var that=this;if((!data||$.isEmptyObject(data))&&(data=$.extend({},this.defaults,data),this._initializers))for(var idx=0;idx<this._initializers.length;idx++){var name=this._initializers[idx];data[name]=this.defaults[name]()}ObservableObject.fn.init.call(this,data),this.dirty=!1,this.idField&&(this.id=this.get(this.idField),this.id===undefined&&(this.id=this._defaultId))},shouldSerialize:function(field){return ObservableObject.fn.shouldSerialize.call(this,field)&&"uid"!==field&&!("id"!==this.idField&&"id"===field)&&"dirty"!==field&&"_accessors"!==field},_parse:function(field,value){var that=this,fieldName=field,fields=this.fields||{},parse;return(field=fields[field])||(field=getFieldByName(fields,fieldName)),field&&!(parse=field.parse)&&field.type&&(parse=parsers[field.type.toLowerCase()]),parse?parse(value):value},_notifyChange:function(e){var action=e.action;"add"!=action&&"remove"!=action||(this.dirty=!0)},editable:function(field){return!(field=(this.fields||{})[field])||!1!==field.editable},set:function(field,value,initiator){var that=this,dirty=this.dirty;this.editable(field)&&(equal(value=this._parse(field,value),this.get(field))||(this.dirty=!0,ObservableObject.fn.set.call(this,field,value,initiator)&&!dirty&&(this.dirty=dirty)))},accept:function(data){var that=this,parent=function(){return that},field;for(field in data){var value=data[field];"_"!=field.charAt(0)&&(value=that.wrap(data[field],field,parent)),that._set(field,value)}that.idField&&(that.id=that.get(that.idField)),that.dirty=!1},isNew:function(){return this.id===this._defaultId}});Model.define=function(base,options){options===undefined&&(options=base,base=Model);var model,proto=extend({defaults:{}},options),name,field,type,value,idx,length,fields={},originalName,id=proto.id,functionFields=[];if(id&&(proto.idField=id),proto.id&&delete proto.id,id&&(proto.defaults[id]=proto._defaultId=""),"[object Array]"===toString.call(proto.fields)){for(idx=0,length=proto.fields.length;idx<length;idx++)typeof(field=proto.fields[idx])===STRING?fields[field]={}:field.field&&(fields[field.field]=field);proto.fields=fields}for(name in proto.fields)type=(field=proto.fields[name]).type||"default",value=null,originalName=name,name=typeof field.field===STRING?field.field:name,field.nullable||"function"==typeof(value=proto.defaults[originalName!==name?originalName:name]=field.defaultValue!==undefined?field.defaultValue:defaultValues[type.toLowerCase()])&&functionFields.push(name),options.id===name&&(proto._defaultId=value),proto.defaults[originalName!==name?originalName:name]=value,field.parse=field.parse||parsers[type];return functionFields.length>0&&(proto._initializers=functionFields),(model=base.extend(proto)).define=function(options){return Model.define(model,options)},proto.fields&&(model.fields=proto.fields,model.idField=proto.idField),model};var Comparer={selector:function(field){return isFunction(field)?field:getter(field)},compare:function(field){var selector=this.selector(field);return function(a,b){return a=selector(a),b=selector(b),null==a&&null==b?0:null==a?-1:null==b?1:a.localeCompare?a.localeCompare(b):a>b?1:a<b?-1:0}},create:function(sort){var compare=sort.compare||this.compare(sort.field);return"desc"==sort.dir?function(a,b){return compare(b,a,!0)}:compare},combine:function(comparers){return function(a,b){var result=comparers[0](a,b),idx,length;for(idx=1,length=comparers.length;idx<length;idx++)result=result||comparers[idx](a,b);return result}}},StableComparer=extend({},Comparer,{asc:function(field){var selector=this.selector(field);return function(a,b){var valueA=selector(a),valueB=selector(b);return valueA&&valueA.getTime&&valueB&&valueB.getTime&&(valueA=valueA.getTime(),valueB=valueB.getTime()),valueA===valueB?a.__position-b.__position:null==valueA?-1:null==valueB?1:valueA.localeCompare?valueA.localeCompare(valueB):valueA>valueB?1:-1}},desc:function(field){var selector=this.selector(field);return function(a,b){var valueA=selector(a),valueB=selector(b);return valueA&&valueA.getTime&&valueB&&valueB.getTime&&(valueA=valueA.getTime(),valueB=valueB.getTime()),valueA===valueB?a.__position-b.__position:null==valueA?1:null==valueB?-1:valueB.localeCompare?valueB.localeCompare(valueA):valueA<valueB?1:-1}},create:function(sort){return this[sort.dir](sort.field)}});map=function(array,callback){var idx,length=array.length,result=new Array(length);for(idx=0;idx<length;idx++)result[idx]=callback(array[idx],idx,array);return result};var operators=function(){function quote(str){return"string"==typeof str&&(str=str.replace(/[\r\n]+/g,"")),JSON.stringify(str)}function textOp(impl){return function(a,b,ignore){return b+="",ignore&&(a="("+a+" || '').toLowerCase()",b=b.toLowerCase()),impl(a,quote(b),ignore)}}function operator(op,a,b,ignore){if(null!=b){if(typeof b===STRING){var date=dateRegExp.exec(b);date?b=new Date(+date[1]):ignore?(b=quote(b.toLowerCase()),a="(("+a+" || '')+'').toLowerCase()"):b=quote(b)}b.getTime&&(a="("+a+"&&"+a+".getTime?"+a+".getTime():"+a+")",b=b.getTime())}return a+" "+op+" "+b}function getMatchRegexp(pattern){for(var rx="/^",esc=!1,i=0;i<pattern.length;++i){var ch=pattern.charAt(i);if(esc)rx+="\\"+ch;else{if("~"==ch){esc=!0;continue}"*"==ch?rx+=".*":"?"==ch?rx+=".":".+^$()[]{}|\\/\n\r\u2028\u2029".indexOf(ch)>=0?rx+="\\"+ch:rx+=ch}esc=!1}return rx+"$/"}return{quote:function(value){return value&&value.getTime?"new Date("+value.getTime()+")":quote(value)},eq:function(a,b,ignore){return operator("==",a,b,ignore)},neq:function(a,b,ignore){return operator("!=",a,b,ignore)},gt:function(a,b,ignore){return operator(">",a,b,ignore)},gte:function(a,b,ignore){return operator(">=",a,b,ignore)},lt:function(a,b,ignore){return operator("<",a,b,ignore)},lte:function(a,b,ignore){return operator("<=",a,b,ignore)},startswith:textOp(function(a,b){return a+".lastIndexOf("+b+", 0) == 0"}),doesnotstartwith:textOp(function(a,b){return a+".lastIndexOf("+b+", 0) == -1"}),endswith:textOp(function(a,b){var n;return a+".indexOf("+b+", "+a+".length - "+(b?b.length-2:0)+") >= 0"}),doesnotendwith:textOp(function(a,b){var n;return a+".indexOf("+b+", "+a+".length - "+(b?b.length-2:0)+") < 0"}),contains:textOp(function(a,b){return a+".indexOf("+b+") >= 0"}),doesnotcontain:textOp(function(a,b){return a+".indexOf("+b+") == -1"}),matches:textOp(function(a,b){return getMatchRegexp(b=b.substring(1,b.length-1))+".test("+a+")"}),doesnotmatch:textOp(function(a,b){return"!"+getMatchRegexp(b=b.substring(1,b.length-1))+".test("+a+")"}),isempty:function(a){return a+" === ''"},isnotempty:function(a){return a+" !== ''"},isnull:function(a){return"("+a+" == null)"},isnotnull:function(a){return"("+a+" != null)"}}}();function Query(data){this.data=data||[]}function normalizeSort(field,dir){if(field){var descriptor=typeof field===STRING?{field:field,dir:dir}:field,descriptors=isArray(descriptor)?descriptor:descriptor!==undefined?[descriptor]:[];return grep(descriptors,function(d){return!!d.dir})}}Query.filterExpr=function(expression){var expressions=[],logic={and:" && ",or:" || "},idx,length,filter,expr,fieldFunctions=[],operatorFunctions=[],field,operator,filters=expression.filters;for(idx=0,length=filters.length;idx<length;idx++)field=(filter=filters[idx]).field,operator=filter.operator,filter.filters?(filter=(expr=Query.filterExpr(filter)).expression.replace(/__o\[(\d+)\]/g,function(match,index){return index=+index,"__o["+(operatorFunctions.length+index)+"]"}).replace(/__f\[(\d+)\]/g,function(match,index){return index=+index,"__f["+(fieldFunctions.length+index)+"]"}),operatorFunctions.push.apply(operatorFunctions,expr.operators),fieldFunctions.push.apply(fieldFunctions,expr.fields)):(typeof field===FUNCTION?(expr="__f["+fieldFunctions.length+"](d)",fieldFunctions.push(field)):expr=kendo.expr(field),typeof operator===FUNCTION?(filter="__o["+operatorFunctions.length+"]("+expr+", "+operators.quote(filter.value)+")",operatorFunctions.push(operator)):filter=operators[(operator||"eq").toLowerCase()](expr,filter.value,filter.ignoreCase===undefined||filter.ignoreCase)),expressions.push(filter);return{expression:"("+expressions.join(logic[expression.logic])+")",fields:fieldFunctions,operators:operatorFunctions}};var operatorMap={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain",isnull:"isnull",isempty:"isempty",isnotempty:"isnotempty"};function normalizeOperator(expression){var idx,length,filter,operator,filters=expression.filters;if(filters)for(idx=0,length=filters.length;idx<length;idx++)(operator=(filter=filters[idx]).operator)&&typeof operator===STRING&&(filter.operator=operatorMap[operator.toLowerCase()]||operator),normalizeOperator(filter)}function normalizeFilter(expression){if(expression&&!isEmptyObject(expression))return!isArray(expression)&&expression.filters||(expression={logic:"and",filters:isArray(expression)?expression:[expression]}),normalizeOperator(expression),expression}function compareDescriptor(f1,f2){return!f1.logic&&!f2.logic&&(f1.field===f2.field&&f1.value===f2.value&&f1.operator===f2.operator)}function normalizeDescriptor(filter){return isEmptyObject(filter=filter||{})?{logic:"and",filters:[]}:normalizeFilter(filter)}function fieldComparer(a,b){return b.logic||a.field>b.field?1:a.field<b.field?-1:0}function compareFilters(expr1,expr2){if(expr1=normalizeDescriptor(expr1),expr2=normalizeDescriptor(expr2),expr1.logic!==expr2.logic)return!1;var f1,f2,filters1=(expr1.filters||[]).slice(),filters2=(expr2.filters||[]).slice();if(filters1.length!==filters2.length)return!1;filters1=filters1.sort(fieldComparer),filters2=filters2.sort(fieldComparer);for(var idx=0;idx<filters1.length;idx++)if(f1=filters1[idx],f2=filters2[idx],f1.logic&&f2.logic){if(!compareFilters(f1,f2))return!1}else if(!compareDescriptor(f1,f2))return!1;return!0}function normalizeAggregate(expressions){return isArray(expressions)?expressions:[expressions]}function normalizeGroup(field,dir){var descriptor=typeof field===STRING?{field:field,dir:dir}:field,descriptors=isArray(descriptor)?descriptor:descriptor!==undefined?[descriptor]:[];return map(descriptors,function(d){return{field:d.field,dir:d.dir||"asc",aggregates:d.aggregates}})}function groupValueComparer(a,b){return a&&a.getTime&&b&&b.getTime?a.getTime()===b.getTime():a===b}function calculateAggregate(accumulator,aggregates,item,index,length,state){var idx,aggr,functionName,len=(aggregates=aggregates||[]).length;for(idx=0;idx<len;idx++){functionName=(aggr=aggregates[idx]).aggregate;var field=aggr.field;accumulator[field]=accumulator[field]||{},state[field]=state[field]||{},state[field][functionName]=state[field][functionName]||{},accumulator[field][functionName]=functions[functionName.toLowerCase()](accumulator[field][functionName],item,kendo.accessor(field),index,length,state[field][functionName])}}Query.normalizeFilter=normalizeFilter,Query.compareFilters=compareFilters,Query.prototype={toArray:function(){return this.data},range:function(index,count){return new Query(this.data.slice(index,index+count))},skip:function(count){return new Query(this.data.slice(count))},take:function(count){return new Query(this.data.slice(0,count))},select:function(selector){return new Query(map(this.data,selector))},order:function(selector,dir){var sort={dir:dir};return selector&&(selector.compare?sort.compare=selector.compare:sort.field=selector),new Query(this.data.slice(0).sort(Comparer.create(sort)))},orderBy:function(selector){return this.order(selector,"asc")},orderByDescending:function(selector){return this.order(selector,"desc")},sort:function(field,dir,comparer){var idx,length,descriptors=normalizeSort(field,dir),comparers=[];if(comparer=comparer||Comparer,descriptors.length){for(idx=0,length=descriptors.length;idx<length;idx++)comparers.push(comparer.create(descriptors[idx]));return this.orderBy({compare:comparer.combine(comparers)})}return this},filter:function(expressions){var idx,current,length,compiled,predicate,data=this.data,fields,operators,result=[],filter;if(!(expressions=normalizeFilter(expressions))||0===expressions.filters.length)return this;for(compiled=Query.filterExpr(expressions),fields=compiled.fields,operators=compiled.operators,predicate=filter=new Function("d, __f, __o","return "+compiled.expression),(fields.length||operators.length)&&(filter=function(d){return predicate(d,fields,operators)}),idx=0,length=data.length;idx<length;idx++)filter(current=data[idx])&&result.push(current);return new Query(result)},group:function(descriptors,allData){descriptors=normalizeGroup(descriptors||[]),allData=allData||this.data;var that=this,result=new Query(this.data),descriptor;return descriptors.length>0&&(descriptor=descriptors[0],result=result.groupBy(descriptor).select(function(group){var data=new Query(allData).filter([{field:group.field,operator:"eq",value:group.value,ignoreCase:!1}]);return{field:group.field,value:group.value,items:descriptors.length>1?new Query(group.items).group(descriptors.slice(1),data.toArray()).toArray():group.items,hasSubgroups:descriptors.length>1,aggregates:data.aggregate(descriptor.aggregates)}})),result},groupBy:function(descriptor){if(isEmptyObject(descriptor)||!this.data.length)return new Query([]);var field=descriptor.field,sorted=this._sortForGrouping(field,descriptor.dir||"asc"),accessor=kendo.accessor(field),item,groupValue=accessor.get(sorted[0],field),group={field:field,value:groupValue,items:[]},currentValue,idx,len,result=[group];for(idx=0,len=sorted.length;idx<len;idx++)item=sorted[idx],groupValueComparer(groupValue,currentValue=accessor.get(item,field))||(group={field:field,value:groupValue=currentValue,items:[]},result.push(group)),group.items.push(item);return new Query(result)},_sortForGrouping:function(field,dir){var idx,length,data=this.data;if(!stableSort){for(idx=0,length=data.length;idx<length;idx++)data[idx].__position=idx;for(idx=0,length=(data=new Query(data).sort(field,dir,StableComparer).toArray()).length;idx<length;idx++)delete data[idx].__position;return data}return this.sort(field,dir).toArray()},aggregate:function(aggregates){var idx,len,result={},state={};if(aggregates&&aggregates.length)for(idx=0,len=this.data.length;idx<len;idx++)calculateAggregate(result,aggregates,this.data[idx],idx,len,state);return result}};var functions={sum:function(accumulator,item,accessor){var value=accessor.get(item);return isNumber(accumulator)?isNumber(value)&&(accumulator+=value):accumulator=value,accumulator},count:function(accumulator){return(accumulator||0)+1},average:function(accumulator,item,accessor,index,length,state){var value=accessor.get(item);return state.count===undefined&&(state.count=0),isNumber(accumulator)?isNumber(value)&&(accumulator+=value):accumulator=value,isNumber(value)&&state.count++,index==length-1&&isNumber(accumulator)&&(accumulator/=state.count),accumulator},max:function(accumulator,item,accessor){var value=accessor.get(item);return isNumber(accumulator)||isDate(accumulator)||(accumulator=value),accumulator<value&&(isNumber(value)||isDate(value))&&(accumulator=value),accumulator},min:function(accumulator,item,accessor){var value=accessor.get(item);return isNumber(accumulator)||isDate(accumulator)||(accumulator=value),accumulator>value&&(isNumber(value)||isDate(value))&&(accumulator=value),accumulator}};function isNumber(val){return"number"==typeof val&&!isNaN(val)}function isDate(val){return val&&val.getTime}function toJSON(array){var idx,length=array.length,result=new Array(length);for(idx=0;idx<length;idx++)result[idx]=array[idx].toJSON();return result}Query.process=function(data,options){options=options||{};var query=new Query(data),group=options.group,sort=normalizeGroup(group||[]).concat(normalizeSort(options.sort||[])),total,filterCallback=options.filterCallback,filter=options.filter,skip=options.skip,take=options.take;return filter&&(query=query.filter(filter),filterCallback&&(query=filterCallback(query)),total=query.toArray().length),sort&&(query=query.sort(sort),group&&(data=query.toArray())),skip!==undefined&&take!==undefined&&(query=query.range(skip,take)),group&&(query=query.group(group,data)),{total:total,data:query.toArray()}};var LocalTransport=Class.extend({init:function(options){this.data=options.data},read:function(options){options.success(this.data)},update:function(options){options.success(options.data)},create:function(options){options.success(options.data)},destroy:function(options){options.success(options.data)}}),RemoteTransport=Class.extend({init:function(options){var that=this,parameterMap;options=this.options=extend({},this.options,options),each(crud,function(index,type){typeof options[type]===STRING&&(options[type]={url:options[type]})}),this.cache=options.cache?Cache.create(options.cache):{find:noop,add:noop},parameterMap=options.parameterMap,isFunction(options.push)&&(this.push=options.push),this.push||(this.push=identity),this.parameterMap=isFunction(parameterMap)?parameterMap:function(options){var result={};return each(options,function(option,value){option in parameterMap&&(option=parameterMap[option],isPlainObject(option)&&(value=option.value(value),option=option.key)),result[option]=value}),result}},options:{parameterMap:identity},create:function(options){return ajax(this.setup(options,CREATE))},read:function(options){var that=this,success,error,result,cache=this.cache;options=this.setup(options,READ),success=options.success||noop,error=options.error||noop,(result=cache.find(options.data))!==undefined?success(result):(options.success=function(result){cache.add(options.data,result),success(result)},$.ajax(options))},update:function(options){return ajax(this.setup(options,UPDATE))},destroy:function(options){return ajax(this.setup(options,DESTROY))},setup:function(options,type){options=options||{};var that=this,parameters,operation=this.options[type],data=isFunction(operation.data)?operation.data(options.data):operation.data;return options=extend(!0,{},operation,options),parameters=extend(!0,{},data,options.data),options.data=this.parameterMap(parameters,type),isFunction(options.url)&&(options.url=options.url(parameters)),options}}),Cache=Class.extend({init:function(){this._store={}},add:function(key,data){key!==undefined&&(this._store[stringify(key)]=data)},find:function(key){return this._store[stringify(key)]},clear:function(){this._store={}},remove:function(key){delete this._store[stringify(key)]}});function serializeRecords(data,getters,modelInstance,originalFieldNames,fieldNames){var record,getter,originalName,idx,setters={},length;for(idx=0,length=data.length;idx<length;idx++)for(getter in record=data[idx],getters)(originalName=fieldNames[getter])&&originalName!==getter&&(setters[originalName]||(setters[originalName]=kendo.setter(originalName)),setters[originalName](record,getters[getter](record)),delete record[getter])}function convertRecords(data,getters,modelInstance,originalFieldNames,fieldNames){var record,getter,originalName,idx,length;for(idx=0,length=data.length;idx<length;idx++)for(getter in record=data[idx],getters)record[getter]=modelInstance._parse(getter,getters[getter](record)),(originalName=fieldNames[getter])&&originalName!==getter&&delete record[originalName]}function convertGroup(data,getters,modelInstance,originalFieldNames,fieldNames){var record,idx,fieldName,length;for(idx=0,length=data.length;idx<length;idx++)(fieldName=originalFieldNames[(record=data[idx]).field])&&fieldName!=record.field&&(record.field=fieldName),record.value=modelInstance._parse(record.field,record.value),record.hasSubgroups?convertGroup(record.items,getters,modelInstance,originalFieldNames,fieldNames):convertRecords(record.items,getters,modelInstance,originalFieldNames,fieldNames)}function wrapDataAccess(originalFunction,model,converter,getters,originalFieldNames,fieldNames){return function(data){return(data=originalFunction(data))&&!isEmptyObject(getters)&&("[object Array]"===toString.call(data)||data instanceof ObservableArray||(data=[data]),converter(data,getters,new model,originalFieldNames,fieldNames)),data||[]}}Cache.create=function(options){var store={inmemory:function(){return new Cache}};return isPlainObject(options)&&isFunction(options.find)?options:!0===options?new Cache:store[options]()};var DataReader=Class.extend({init:function(schema){var that=this,member,get,model,base;for(member in schema=schema||{})get=schema[member],this[member]=typeof get===STRING?getter(get):get;base=schema.modelBase||Model,isPlainObject(this.model)&&(this.model=model=base.define(this.model));var dataFunction=proxy(this.data,this);if(this._dataAccessFunction=dataFunction,this.model){var groupsFunction=proxy(this.groups,this),serializeFunction=proxy(this.serialize,this),originalFieldNames={},getters={},serializeGetters={},fieldNames={},shouldSerialize=!1,fieldName;(model=this.model).fields&&(each(model.fields,function(field,value){var fromName;fieldName=field,isPlainObject(value)&&value.field?fieldName=value.field:typeof value===STRING&&(fieldName=value),isPlainObject(value)&&value.from&&(fromName=value.from),shouldSerialize=shouldSerialize||fromName&&fromName!==field||fieldName!==field,getters[field]=getter(fromName||fieldName),serializeGetters[field]=getter(field),originalFieldNames[fromName||fieldName]=field,fieldNames[field]=fromName||fieldName}),!schema.serialize&&shouldSerialize&&(this.serialize=wrapDataAccess(serializeFunction,model,serializeRecords,serializeGetters,originalFieldNames,fieldNames))),this._dataAccessFunction=dataFunction,this.data=wrapDataAccess(dataFunction,model,convertRecords,getters,originalFieldNames,fieldNames),this.groups=wrapDataAccess(groupsFunction,model,convertGroup,getters,originalFieldNames,fieldNames)}},errors:function(data){return data?data.errors:null},parse:identity,data:identity,total:function(data){return data.length},groups:identity,aggregates:function(){return{}},serialize:function(data){return data}});function mergeGroups(target,dest,skip,take){for(var group,idx=0,items;dest.length&&take;){var length=(items=(group=dest[idx]).items).length;if(target&&target.field===group.field&&target.value===group.value?(target.hasSubgroups&&target.items.length?mergeGroups(target.items[target.items.length-1],group.items,skip,take):(items=items.slice(skip,skip+take),target.items=target.items.concat(items)),dest.splice(idx--,1)):group.hasSubgroups&&items.length?(mergeGroups(group,items,skip,take),group.items.length||dest.splice(idx--,1)):(items=items.slice(skip,skip+take),group.items=items,group.items.length||dest.splice(idx--,1)),0===items.length?skip-=length:(skip=0,take-=items.length),++idx>=dest.length)break}idx<dest.length&&dest.splice(idx,dest.length-idx)}function flattenGroups(data){var idx,result=[],length,items,itemIndex;for(idx=0,length=data.length;idx<length;idx++){var group=data.at(idx);if(group.hasSubgroups)result=result.concat(flattenGroups(group.items));else for(items=group.items,itemIndex=0;itemIndex<items.length;itemIndex++)result.push(items.at(itemIndex))}return result}function wrapGroupItems(data,model){var idx,length,group;if(model)for(idx=0,length=data.length;idx<length;idx++)(group=data.at(idx)).hasSubgroups?wrapGroupItems(group.items,model):group.items=new LazyObservableArray(group.items,model)}function eachGroupItems(data,func){for(var idx=0,length=data.length;idx<length;idx++)if(data[idx].hasSubgroups){if(eachGroupItems(data[idx].items,func))return!0}else if(func(data[idx].items,data[idx]))return!0}function replaceInRanges(ranges,data,item,observable){for(var idx=0;idx<ranges.length&&ranges[idx].data!==data&&!replaceInRange(ranges[idx].data,item,observable);idx++);}function replaceInRange(items,item,observable){for(var idx=0,length=items.length;idx<length;idx++){if(items[idx]&&items[idx].hasSubgroups)return replaceInRange(items[idx].items,item,observable);if(items[idx]===item||items[idx]===observable)return items[idx]=observable,!0}}function replaceWithObservable(view,data,ranges,type,serverGrouping){for(var viewIndex=0,length=view.length;viewIndex<length;viewIndex++){var item=view[viewIndex];if(item&&!(item instanceof type))if(item.hasSubgroups===undefined||serverGrouping){for(var idx=0;idx<data.length;idx++)if(data[idx]===item){view[viewIndex]=data.at(idx),replaceInRanges(ranges,data,item,view[viewIndex]);break}}else replaceWithObservable(item.items,data,ranges,type,serverGrouping)}}function removeModel(data,model){var idx,length;for(idx=0,length=data.length;idx<length;idx++){var dataItem=data.at(idx);if(dataItem.uid==model.uid)return data.splice(idx,1),dataItem}}function indexOfPristineModel(data,model){return model?indexOf(data,function(item){return item.uid&&item.uid==model.uid||item[model.idField]===model.id&&model.id!==model._defaultId}):-1}function indexOfModel(data,model){return model?indexOf(data,function(item){return item.uid==model.uid}):-1}function indexOf(data,comparer){var idx,length;for(idx=0,length=data.length;idx<length;idx++)if(comparer(data[idx]))return idx;return-1}function fieldNameFromModel(fields,name){if(fields&&!isEmptyObject(fields)){var descriptor=fields[name],fieldName;return fieldName=isPlainObject(descriptor)?descriptor.from||descriptor.field||name:fields[name]||name,isFunction(fieldName)?name:fieldName}return name}function convertFilterDescriptorsField(descriptor,model){var idx,length,target={};for(var field in descriptor)"filters"!==field&&(target[field]=descriptor[field]);if(descriptor.filters)for(target.filters=[],idx=0,length=descriptor.filters.length;idx<length;idx++)target.filters[idx]=convertFilterDescriptorsField(descriptor.filters[idx],model);else target.field=fieldNameFromModel(model.fields,target.field);return target}function convertDescriptorsField(descriptors,model){var idx,length,result=[],target,descriptor;for(idx=0,length=descriptors.length;idx<length;idx++){for(var field in target={},descriptor=descriptors[idx])target[field]=descriptor[field];target.field=fieldNameFromModel(model.fields,target.field),target.aggregates&&isArray(target.aggregates)&&(target.aggregates=convertDescriptorsField(target.aggregates,model)),result.push(target)}return result}var DataSource=Observable.extend({init:function(options){var that=this,model,data;if(options&&(data=options.data),options=that.options=extend({},that.options,options),that._map={},that._prefetch={},that._data=[],that._pristineData=[],that._ranges=[],that._view=[],that._pristineTotal=0,that._destroyed=[],that._pageSize=options.pageSize,that._page=options.page||(options.pageSize?1:undefined),that._sort=normalizeSort(options.sort),that._filter=normalizeFilter(options.filter),that._group=normalizeGroup(options.group),that._aggregate=options.aggregate,that._total=options.total,that._shouldDetachObservableParents=!0,Observable.fn.init.call(that),that.transport=Transport.create(options,data,that),isFunction(that.transport.push)&&that.transport.push({pushCreate:proxy(that._pushCreate,that),pushUpdate:proxy(that._pushUpdate,that),pushDestroy:proxy(that._pushDestroy,that)}),null!=options.offlineStorage)if("string"==typeof options.offlineStorage){var key=options.offlineStorage;that._storage={getItem:function(){return JSON.parse(localStorage.getItem(key))},setItem:function(item){localStorage.setItem(key,stringify(that.reader.serialize(item)))}}}else that._storage=options.offlineStorage;that.reader=new kendo.data.readers[options.schema.type||"json"](options.schema),model=that.reader.model||{},that._detachObservableParents(),that._data=that._observe(that._data),that._online=!0,that.bind(["push",ERROR,CHANGE,REQUESTSTART,SYNC,REQUESTEND,PROGRESS],options)},options:{data:null,schema:{modelBase:Model},offlineStorage:null,serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1},clone:function(){return this},online:function(value){return value!==undefined?this._online!=value&&(this._online=value,value)?this.sync():$.Deferred().resolve().promise():this._online},offlineData:function(state){return null==this.options.offlineStorage?null:state!==undefined?this._storage.setItem(state):this._storage.getItem()||[]},_isServerGrouped:function(){var group=this.group()||[];return this.options.serverGrouping&&group.length},_pushCreate:function(result){this._push(result,"pushCreate")},_pushUpdate:function(result){this._push(result,"pushUpdate")},_pushDestroy:function(result){this._push(result,"pushDestroy")},_push:function(result,operation){var data=this._readData(result);data||(data=result),this[operation](data)},_flatData:function(data,skip){if(data){if(this._isServerGrouped())return flattenGroups(data);if(!skip)for(var idx=0;idx<data.length;idx++)data.at(idx)}return data},parent:noop,get:function(id){var idx,length,data=this._flatData(this._data);for(idx=0,length=data.length;idx<length;idx++)if(data[idx].id==id)return data[idx]},getByUid:function(id){var idx,length,data=this._flatData(this._data);if(data)for(idx=0,length=data.length;idx<length;idx++)if(data[idx].uid==id)return data[idx]},indexOf:function(model){return indexOfModel(this._data,model)},at:function(index){return this._data.at(index)},data:function(value){var that=this;if(value===undefined){if(this._data)for(var idx=0;idx<this._data.length;idx++)this._data.at(idx);return this._data}this._detachObservableParents(),this._data=this._observe(value),this._pristineData=value.slice(0),this._storeData(),this._ranges=[],this.trigger("reset"),this._addRange(this._data),this._total=this._data.length,this._pristineTotal=this._total,this._process(this._data)},view:function(value){if(value===undefined)return this._view;this._view=this._observeView(value)},_observeView:function(data){var that=this;replaceWithObservable(data,that._data,that._ranges,that.reader.model||ObservableObject,that._isServerGrouped());var view=new LazyObservableArray(data,that.reader.model);return view.parent=function(){return that.parent()},view},flatView:function(){var groups;return(this.group()||[]).length?flattenGroups(this._view):this._view},add:function(model){return this.insert(this._data.length,model)},_createNewModel:function(model){return this.reader.model?new this.reader.model(model):model instanceof ObservableObject?model:new ObservableObject(model)},insert:function(index,model){return model||(model=index,index=0),model instanceof Model||(model=this._createNewModel(model)),this._isServerGrouped()?this._data.splice(index,0,this._wrapInEmptyGroup(model)):this._data.splice(index,0,model),model},pushInsert:function(index,items){items||(items=index,index=0),isArray(items)||(items=[items]);var pushed=[],autoSync=this.options.autoSync;this.options.autoSync=!1;try{for(var idx=0;idx<items.length;idx++){var item=items[idx],result=this.insert(index,item);pushed.push(result);var pristine=result.toJSON();this._isServerGrouped()&&(pristine=this._wrapInEmptyGroup(pristine)),this._pristineData.push(pristine),index++}}finally{this.options.autoSync=autoSync}pushed.length&&this.trigger("push",{type:"create",items:pushed})},pushCreate:function(items){this.pushInsert(this._data.length,items)},pushUpdate:function(items){isArray(items)||(items=[items]);for(var pushed=[],idx=0;idx<items.length;idx++){var item=items[idx],model=this._createNewModel(item),target=this.get(model.id);target?(pushed.push(target),target.accept(item),target.trigger(CHANGE),this._updatePristineForModel(target,item)):this.pushCreate(item)}pushed.length&&this.trigger("push",{type:"update",items:pushed})},pushDestroy:function(items){var pushed=this._removeItems(items);pushed.length&&this.trigger("push",{type:"destroy",items:pushed})},_removeItems:function(items){isArray(items)||(items=[items]);var destroyed=[],autoSync=this.options.autoSync;this.options.autoSync=!1;try{for(var idx=0;idx<items.length;idx++){var item=items[idx],model=this._createNewModel(item),found=!1;this._eachItem(this._data,function(items){for(var idx=0;idx<items.length;idx++){var item=items.at(idx);if(item.id===model.id){destroyed.push(item),items.splice(idx,1),found=!0;break}}}),found&&(this._removePristineForModel(model),this._destroyed.pop())}}finally{this.options.autoSync=autoSync}return destroyed},remove:function(model){var result,that=this,hasGroups=that._isServerGrouped();return this._eachItem(that._data,function(items){if((result=removeModel(items,model))&&hasGroups)return result.isNew&&result.isNew()||that._destroyed.push(result),!0}),this._removeModelFromRanges(model),this._updateRangesLength(),model},destroyed:function(){return this._destroyed},created:function(){var idx,length,result=[],data=this._flatData(this._data);for(idx=0,length=data.length;idx<length;idx++)data[idx].isNew&&data[idx].isNew()&&result.push(data[idx]);return result},updated:function(){var idx,length,result=[],data=this._flatData(this._data);for(idx=0,length=data.length;idx<length;idx++)data[idx].isNew&&!data[idx].isNew()&&data[idx].dirty&&result.push(data[idx]);return result},sync:function(){var that=this,created=[],updated=[],destroyed=that._destroyed,promise=$.Deferred().resolve().promise();if(that.online()){if(!that.reader.model)return promise;created=that.created(),updated=that.updated();var promises=[];that.options.batch&&that.transport.submit?promises=that._sendSubmit(created,updated,destroyed):(promises.push.apply(promises,that._send("create",created)),promises.push.apply(promises,that._send("update",updated)),promises.push.apply(promises,that._send("destroy",destroyed))),promise=$.when.apply(null,promises).then(function(){var idx,length;for(idx=0,length=arguments.length;idx<length;idx++)arguments[idx]&&that._accept(arguments[idx]);that._storeData(!0),that._change({action:"sync"}),that.trigger(SYNC)})}else that._storeData(!0),that._change({action:"sync"});return promise},cancelChanges:function(model){var that=this;model instanceof kendo.data.Model?this._cancelModel(model):(this._destroyed=[],this._detachObservableParents(),this._data=this._observe(this._pristineData),this.options.serverPaging&&(this._total=this._pristineTotal),this._ranges=[],this._addRange(this._data),this._change(),this._markOfflineUpdatesAsDirty())},_markOfflineUpdatesAsDirty:function(){var that=this;null!=this.options.offlineStorage&&this._eachItem(this._data,function(items){for(var idx=0;idx<items.length;idx++){var item=items.at(idx);"update"!=item.__state__&&"create"!=item.__state__||(item.dirty=!0)}})},hasChanges:function(){var idx,length,data=this._flatData(this._data);if(this._destroyed.length)return!0;for(idx=0,length=data.length;idx<length;idx++)if(data[idx].isNew&&data[idx].isNew()||data[idx].dirty)return!0;return!1},_accept:function(result){var that=this,models=result.models,response=result.response,idx=0,serverGroup=this._isServerGrouped(),pristine=this._pristineData,type=result.type,length;if(this.trigger(REQUESTEND,{response:response,type:type}),response&&!isEmptyObject(response)){if(response=this.reader.parse(response),this._handleCustomErrors(response))return;response=this.reader.data(response),isArray(response)||(response=[response])}else response=$.map(models,function(model){return model.toJSON()});for("destroy"===type&&(this._destroyed=[]),idx=0,length=models.length;idx<length;idx++)"destroy"!==type?(models[idx].accept(response[idx]),"create"===type?pristine.push(serverGroup?this._wrapInEmptyGroup(models[idx]):response[idx]):"update"===type&&this._updatePristineForModel(models[idx],response[idx])):this._removePristineForModel(models[idx])},_updatePristineForModel:function(model,values){this._executeOnPristineForModel(model,function(index,items){kendo.deepExtend(items[index],values)})},_executeOnPristineForModel:function(model,callback){this._eachPristineItem(function(items){var index=indexOfPristineModel(items,model);if(index>-1)return callback(index,items),!0})},_removePristineForModel:function(model){this._executeOnPristineForModel(model,function(index,items){items.splice(index,1)})},_readData:function(data){var read;return(this._isServerGrouped()?this.reader.groups:this.reader.data).call(this.reader,data)},_eachPristineItem:function(callback){this._eachItem(this._pristineData,callback)},_eachItem:function(data,callback){data&&data.length&&(this._isServerGrouped()?eachGroupItems(data,callback):callback(data))},_pristineForModel:function(model){var pristine,idx,callback=function(items){if((idx=indexOfPristineModel(items,model))>-1)return pristine=items[idx],!0};return this._eachPristineItem(callback),pristine},_cancelModel:function(model){var pristine=this._pristineForModel(model);this._eachItem(this._data,function(items){var idx=indexOfModel(items,model);idx>=0&&(!pristine||model.isNew()&&!pristine.__state__?items.splice(idx,1):(items[idx].accept(pristine),"update"==pristine.__state__&&(items[idx].dirty=!0)))})},_submit:function(promises,data){var that=this;that.trigger(REQUESTSTART,{type:"submit"}),that.trigger(PROGRESS),that.transport.submit(extend({success:function(response,type){var promise=$.grep(promises,function(x){return x.type==type})[0];promise&&promise.resolve({response:response,models:promise.models,type:type})},error:function(response,status,error){for(var idx=0;idx<promises.length;idx++)promises[idx].reject(response);that.error(response,status,error)}},data))},_sendSubmit:function(created,updated,destroyed){var that=this,promises=[];return this.options.batch&&(created.length&&promises.push($.Deferred(function(deferred){deferred.type="create",deferred.models=created})),updated.length&&promises.push($.Deferred(function(deferred){deferred.type="update",deferred.models=updated})),destroyed.length&&promises.push($.Deferred(function(deferred){deferred.type="destroy",deferred.models=destroyed})),this._submit(promises,{data:{created:this.reader.serialize(toJSON(created)),updated:this.reader.serialize(toJSON(updated)),destroyed:this.reader.serialize(toJSON(destroyed))}})),promises},_promise:function(data,models,type){var that=this;return $.Deferred(function(deferred){that.trigger(REQUESTSTART,{type:type}),that.trigger(PROGRESS),that.transport[type].call(that.transport,extend({success:function(response){deferred.resolve({response:response,models:models,type:type})},error:function(response,status,error){deferred.reject(response),that.error(response,status,error)}},data))}).promise()},_send:function(method,data){var that=this,idx,length,promises=[],converted=this.reader.serialize(toJSON(data));if(this.options.batch)data.length&&promises.push(this._promise({data:{models:converted}},data,method));else for(idx=0,length=data.length;idx<length;idx++)promises.push(this._promise({data:converted[idx]},[data[idx]],method));return promises},read:function(data){var that=this,params=that._params(data),deferred=$.Deferred();return that._queueRequest(params,function(){var isPrevented=that.trigger(REQUESTSTART,{type:"read"});isPrevented?(that._dequeueRequest(),deferred.resolve(isPrevented)):(that.trigger(PROGRESS),that._ranges=[],that.trigger("reset"),that.online()?that.transport.read({data:params,success:function(data){that._ranges=[],that.success(data,params),deferred.resolve()},error:function(){var args=slice.call(arguments);that.error.apply(that,args),deferred.reject.apply(deferred,args)}}):null!=that.options.offlineStorage&&(that.success(that.offlineData(),params),deferred.resolve()))}),deferred.promise()},_readAggregates:function(data){return this.reader.aggregates(data)},success:function(data){var that=this,options=this.options;if(this.trigger(REQUESTEND,{response:data,type:"read"}),this.online()){if(data=this.reader.parse(data),this._handleCustomErrors(data))return void this._dequeueRequest();this._total=this.reader.total(data),this._aggregate&&options.serverAggregates&&(this._aggregateResult=this._readAggregates(data)),data=this._readData(data),this._destroyed=[]}else{data=this._readData(data);var items=[],itemIds={},model=this.reader.model,idField=model?model.idField:"id",idx;for(idx=0;idx<this._destroyed.length;idx++){var id=this._destroyed[idx][idField];itemIds[id]=id}for(idx=0;idx<data.length;idx++){var item=data[idx],state;"destroy"==item.__state__?itemIds[item[idField]]||this._destroyed.push(this._createNewModel(item)):items.push(item)}data=items,this._total=data.length}this._pristineTotal=this._total,this._pristineData=data.slice(0),this._detachObservableParents(),this._data=this._observe(data),this._markOfflineUpdatesAsDirty(),this._storeData(),this._addRange(this._data),this._process(this._data),this._dequeueRequest()},_detachObservableParents:function(){if(this._data&&this._shouldDetachObservableParents)for(var idx=0;idx<this._data.length;idx++)this._data[idx].parent&&(this._data[idx].parent=noop)},_storeData:function(updatePristine){var serverGrouping=this._isServerGrouped(),model=this.reader.model;function items(data){for(var state=[],idx=0;idx<data.length;idx++){var dataItem=data.at(idx),item=dataItem.toJSON();serverGrouping&&dataItem.items?item.items=items(dataItem.items):(item.uid=dataItem.uid,model&&(dataItem.isNew()?item.__state__="create":dataItem.dirty&&(item.__state__="update"))),state.push(item)}return state}if(null!=this.options.offlineStorage){for(var state=items(this._data),destroyed=[],idx=0;idx<this._destroyed.length;idx++){var item=this._destroyed[idx].toJSON();item.__state__="destroy",destroyed.push(item)}this.offlineData(state.concat(destroyed)),updatePristine&&(this._pristineData=this._readData(state))}},_addRange:function(data){var that=this,start=this._skip||0,end=start+this._flatData(data,!0).length;this._ranges.push({start:start,end:end,data:data,timestamp:(new Date).getTime()}),this._ranges.sort(function(x,y){return x.start-y.start})},error:function(xhr,status,errorThrown){this._dequeueRequest(),this.trigger(REQUESTEND,{}),this.trigger(ERROR,{xhr:xhr,status:status,errorThrown:errorThrown})},_params:function(data){var that=this,options=extend({take:this.take(),skip:this.skip(),page:this.page(),pageSize:this.pageSize(),sort:this._sort,filter:this._filter,group:this._group,aggregate:this._aggregate},data);return this.options.serverPaging||(delete options.take,delete options.skip,delete options.page,delete options.pageSize),this.options.serverGrouping?this.reader.model&&options.group&&(options.group=convertDescriptorsField(options.group,this.reader.model)):delete options.group,this.options.serverFiltering?this.reader.model&&options.filter&&(options.filter=convertFilterDescriptorsField(options.filter,this.reader.model)):delete options.filter,this.options.serverSorting?this.reader.model&&options.sort&&(options.sort=convertDescriptorsField(options.sort,this.reader.model)):delete options.sort,this.options.serverAggregates?this.reader.model&&options.aggregate&&(options.aggregate=convertDescriptorsField(options.aggregate,this.reader.model)):delete options.aggregate,options},_queueRequest:function(options,callback){var that=this;this._requestInProgress?this._pending={callback:proxy(callback,this),options:options}:(this._requestInProgress=!0,this._pending=undefined,callback())},_dequeueRequest:function(){var that=this;this._requestInProgress=!1,this._pending&&this._queueRequest(this._pending.options,this._pending.callback)},_handleCustomErrors:function(response){if(this.reader.errors){var errors=this.reader.errors(response);if(errors)return this.trigger(ERROR,{xhr:null,status:"customerror",errorThrown:"custom error",errors:errors}),!0}return!1},_shouldWrap:function(data){var model=this.reader.model;return!(!model||!data.length)&&!(data[0]instanceof model)},_observe:function(data){var that=this,model=that.reader.model,arrayType;(that._shouldDetachObservableParents=!0,data instanceof ObservableArray)?(that._shouldDetachObservableParents=!1,that._shouldWrap(data)&&(data.type=that.reader.model,data.wrapAll(data,data))):(data=new(that.pageSize()&&!that.options.serverPaging?LazyObservableArray:ObservableArray)(data,that.reader.model)).parent=function(){return that.parent()};return that._isServerGrouped()&&wrapGroupItems(data,model),that._changeHandler&&that._data&&that._data instanceof ObservableArray?that._data.unbind(CHANGE,that._changeHandler):that._changeHandler=proxy(that._change,that),data.bind(CHANGE,that._changeHandler)},_updateTotalForAction:function(action,items){var that=this,total=parseInt(this._total,10);isNumber(this._total)||(total=parseInt(this._pristineTotal,10)),"add"===action?total+=items.length:"remove"===action?total-=items.length:"itemchange"===action||"sync"===action||this.options.serverPaging?"sync"===action&&(total=this._pristineTotal=parseInt(this._total,10)):total=this._pristineTotal,this._total=total},_change:function(e){var that=this,idx,length,action=e?e.action:"";if("remove"===action)for(idx=0,length=e.items.length;idx<length;idx++)e.items[idx].isNew&&e.items[idx].isNew()||that._destroyed.push(e.items[idx]);if(!that.options.autoSync||"add"!==action&&"remove"!==action&&"itemchange"!==action)that._updateTotalForAction(action,e?e.items:[]),that._process(that._data,e);else{var handler=function(args){"sync"===args.action&&(that.unbind("change",handler),that._updateTotalForAction(action,e.items))};that.first("change",handler),that.sync()}},_calculateAggregates:function(data,options){options=options||{};var query=new Query(data),aggregates=options.aggregate,filter=options.filter;return filter&&(query=query.filter(filter)),query.aggregate(aggregates)},_process:function(data,e){var that=this,options={},result;!0!==this.options.serverPaging&&(options.skip=this._skip,options.take=this._take||this._pageSize,options.skip===undefined&&this._page!==undefined&&this._pageSize!==undefined&&(options.skip=(this._page-1)*this._pageSize)),!0!==this.options.serverSorting&&(options.sort=this._sort),!0!==this.options.serverFiltering&&(options.filter=this._filter),!0!==this.options.serverGrouping&&(options.group=this._group),!0!==this.options.serverAggregates&&(options.aggregate=this._aggregate,this._aggregateResult=this._calculateAggregates(data,options)),result=this._queryProcess(data,options),this.view(result.data),result.total===undefined||this.options.serverFiltering||(this._total=result.total),(e=e||{}).items=e.items||this._view,this.trigger(CHANGE,e)},_queryProcess:function(data,options){return Query.process(data,options)},_mergeState:function(options){var that=this;return options!==undefined&&(this._pageSize=options.pageSize,this._page=options.page,this._sort=options.sort,this._filter=options.filter,this._group=options.group,this._aggregate=options.aggregate,this._skip=this._currentRangeStart=options.skip,this._take=options.take,this._skip===undefined&&(this._skip=this._currentRangeStart=this.skip(),options.skip=this.skip()),this._take===undefined&&this._pageSize!==undefined&&(this._take=this._pageSize,options.take=this._take),options.sort&&(this._sort=options.sort=normalizeSort(options.sort)),options.filter&&(this._filter=options.filter=normalizeFilter(options.filter)),options.group&&(this._group=options.group=normalizeGroup(options.group)),options.aggregate&&(this._aggregate=options.aggregate=normalizeAggregate(options.aggregate))),options},query:function(options){var result,remote;if(this.options.serverSorting||this.options.serverPaging||this.options.serverFiltering||this.options.serverGrouping||this.options.serverAggregates||(this._data===undefined||0===this._data.length)&&!this._destroyed.length)return this.read(this._mergeState(options));var isPrevented=this.trigger(REQUESTSTART,{type:"read"});return isPrevented||(this.trigger(PROGRESS),result=this._queryProcess(this._data,this._mergeState(options)),this.options.serverFiltering||(result.total!==undefined?this._total=result.total:this._total=this._data.length),this._aggregateResult=this._calculateAggregates(this._data,options),this.view(result.data),this.trigger(REQUESTEND,{type:"read"}),this.trigger(CHANGE,{items:result.data})),$.Deferred().resolve(isPrevented).promise()},fetch:function(callback){var that=this,fn=function(isPrevented){!0!==isPrevented&&isFunction(callback)&&callback.call(that)};return this._query().then(fn)},_query:function(options){var that=this;return this.query(extend({},{page:this.page(),pageSize:this.pageSize(),sort:this.sort(),filter:this.filter(),group:this.group(),aggregate:this.aggregate()},options))},next:function(options){var that=this,page=this.page(),total=this.total();if(options=options||{},page&&!(total&&page+1>this.totalPages()))return this._skip=this._currentRangeStart=page*this.take(),page+=1,options.page=page,this._query(options),page},prev:function(options){var that=this,page=this.page();if(options=options||{},page&&1!==page)return this._skip=this._currentRangeStart=this._skip-this.take(),page-=1,options.page=page,this._query(options),page},page:function(val){var that=this,skip;return val!==undefined?(val=math.max(math.min(math.max(val,1),this.totalPages()),1),void this._query({page:val})):(skip=this.skip())!==undefined?math.round((skip||0)/(this.take()||1))+1:undefined},pageSize:function(val){var that=this;if(val===undefined)return this.take();this._query({pageSize:val,page:1})},sort:function(val){var that=this;if(val===undefined)return this._sort;this._query({sort:val})},filter:function(val){var that=this;if(val===undefined)return this._filter;this.trigger("reset"),this._query({filter:val,page:1})},group:function(val){var that=this;if(val===undefined)return this._group;this._query({group:val})},total:function(){return parseInt(this._total||0,10)},aggregate:function(val){var that=this;if(val===undefined)return this._aggregate;this._query({aggregate:val})},aggregates:function(){var result=this._aggregateResult;return isEmptyObject(result)&&(result=this._emptyAggregates(this.aggregate())),result},_emptyAggregates:function(aggregates){var result={};if(!isEmptyObject(aggregates)){var aggregate={};isArray(aggregates)||(aggregates=[aggregates]);for(var idx=0;idx<aggregates.length;idx++)aggregate[aggregates[idx].aggregate]=0,result[aggregates[idx].field]=aggregate}return result},_wrapInEmptyGroup:function(model){var groups=this.group(),parent,group,idx,length;for(idx=groups.length-1,length=0;idx>=0;idx--)group=groups[idx],parent={value:model.get(group.field),field:group.field,items:parent?[parent]:[model],hasSubgroups:!!parent,aggregates:this._emptyAggregates(group.aggregates)};return parent},totalPages:function(){var that=this,pageSize=this.pageSize()||this.total();return math.ceil((this.total()||0)/pageSize)},inRange:function(skip,take){var that=this,end=math.min(skip+take,this.total());return!this.options.serverPaging&&this._data.length>0||this._findRange(skip,end).length>0},lastRange:function(){var ranges=this._ranges;return ranges[ranges.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var ranges=this._ranges;return ranges.length&&ranges[0].data.length&&ranges[0].data[0].uid},enableRequestsInProgress:function(){this._skipRequestsInProgress=!1},_timeStamp:function(){return(new Date).getTime()},range:function(skip,take){this._currentRequestTimeStamp=this._timeStamp(),this._skipRequestsInProgress=!0,skip=math.min(skip||0,this.total());var that=this,pageSkip=math.max(math.floor(skip/take),0)*take,size=math.min(pageSkip+take,that.total()),data;if((data=that._findRange(skip,math.min(skip+take,that.total()))).length){that._pending=undefined,that._skip=skip>that.skip()?math.min(size,(that.totalPages()-1)*that.take()):pageSkip,that._currentRangeStart=skip,that._take=take;var paging=that.options.serverPaging,sorting=that.options.serverSorting,filtering=that.options.serverFiltering,aggregates=that.options.serverAggregates;try{that.options.serverPaging=!0,that._isServerGrouped()||that.group()&&that.group().length||(that.options.serverSorting=!0),that.options.serverFiltering=!0,that.options.serverPaging=!0,that.options.serverAggregates=!0,paging&&(that._detachObservableParents(),that._data=data=that._observe(data)),that._process(data)}finally{that.options.serverPaging=paging,that.options.serverSorting=sorting,that.options.serverFiltering=filtering,that.options.serverAggregates=aggregates}}else take!==undefined&&(that._rangeExists(pageSkip,size)?pageSkip<skip&&that.prefetch(size,take,function(){that.range(skip,take)}):that.prefetch(pageSkip,take,function(){skip>pageSkip&&size<that.total()&&!that._rangeExists(size,math.min(size+take,that.total()))?that.prefetch(size,take,function(){that.range(skip,take)}):that.range(skip,take)}))},_findRange:function(start,end){var that=this,ranges=this._ranges,range,data=[],skipIdx,takeIdx,startIndex,endIndex,rangeData,rangeEnd,processed,options=this.options,remote=options.serverSorting||options.serverPaging||options.serverFiltering||options.serverGrouping||options.serverAggregates,flatData,count,length;for(skipIdx=0,length=ranges.length;skipIdx<length;skipIdx++)if(start>=(range=ranges[skipIdx]).start&&start<=range.end){for(count=0,takeIdx=skipIdx;takeIdx<length;takeIdx++)if(range=ranges[takeIdx],(flatData=this._flatData(range.data,!0)).length&&start+count>=range.start){if(rangeData=range.data,rangeEnd=range.end,!remote){var sort=normalizeGroup(this.group()||[]).concat(normalizeSort(this.sort()||[]));flatData=rangeData=(processed=this._queryProcess(range.data,{sort:sort,filter:this.filter()})).data,processed.total!==undefined&&(rangeEnd=processed.total)}if(startIndex=0,start+count>range.start&&(startIndex=start+count-range.start),endIndex=flatData.length,rangeEnd>end&&(endIndex-=rangeEnd-end),count+=endIndex-startIndex,data=this._mergeGroups(data,rangeData,startIndex,endIndex),end<=range.end&&count==end-start)return data}break}return[]},_mergeGroups:function(data,range,skip,take){if(this._isServerGrouped()){var temp=range.toJSON(),prevGroup;return data.length&&(prevGroup=data[data.length-1]),mergeGroups(prevGroup,temp,skip,take),data.concat(temp)}return data.concat(range.slice(skip,take))},skip:function(){var that=this;return this._skip===undefined?this._page!==undefined?(this._page-1)*(this.take()||1):undefined:this._skip},currentRangeStart:function(){return this._currentRangeStart||0},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(skip,size,callback,force){var that=this,timestamp=that._timeStamp();return function(data){var found=!1,range={start:skip,end:size,data:[],timestamp:that._timeStamp()},idx,length,temp;if(that._dequeueRequest(),that.trigger(REQUESTEND,{response:data,type:"read"}),data=that.reader.parse(data),(temp=that._readData(data)).length){for(idx=0,length=that._ranges.length;idx<length;idx++)if(that._ranges[idx].start===skip){found=!0,range=that._ranges[idx];break}found||that._ranges.push(range)}range.data=that._observe(temp),range.end=range.start+that._flatData(range.data,!0).length,that._ranges.sort(function(x,y){return x.start-y.start}),that._total=that.reader.total(data),(force||timestamp>=that._currentRequestTimeStamp||!that._skipRequestsInProgress)&&(callback&&temp.length?callback():that.trigger(CHANGE,{}))}},prefetch:function(skip,take,callback){var that=this,size=math.min(skip+take,that.total()),options={take:take,skip:skip,page:skip/take+1,pageSize:take,sort:that._sort,filter:that._filter,group:that._group,aggregate:that._aggregate};that._rangeExists(skip,size)?callback&&callback():(clearTimeout(that._timeout),that._timeout=setTimeout(function(){that._queueRequest(options,function(){that.trigger(REQUESTSTART,{type:"read"})?that._dequeueRequest():that.transport.read({data:that._params(options),success:that._prefetchSuccessHandler(skip,size,callback),error:function(){var args=slice.call(arguments);that.error.apply(that,args)}})})},100))},_multiplePrefetch:function(skip,take,callback){var that=this,size=math.min(skip+take,this.total()),options={take:take,skip:skip,page:skip/take+1,pageSize:take,sort:this._sort,filter:this._filter,group:this._group,aggregate:this._aggregate};this._rangeExists(skip,size)?callback&&callback():this.trigger(REQUESTSTART,{type:"read"})||this.transport.read({data:this._params(options),success:this._prefetchSuccessHandler(skip,size,callback,!0)})},_rangeExists:function(start,end){var that=this,ranges=this._ranges,idx,length;for(idx=0,length=ranges.length;idx<length;idx++)if(ranges[idx].start<=start&&ranges[idx].end>=end)return!0;return!1},_removeModelFromRanges:function(model){for(var result,found,range,idx=0,length=this._ranges.length;idx<length&&(range=this._ranges[idx],this._eachItem(range.data,function(items){(result=removeModel(items,model))&&(found=!0)}),!found);idx++);},_updateRangesLength:function(){for(var startOffset=0,range,rangeLength,idx=0,length=this._ranges.length;idx<length;idx++)(range=this._ranges[idx]).start=range.start-startOffset,rangeLength=this._flatData(range.data,!0).length,startOffset=range.end-rangeLength,range.end=range.start+rangeLength}}),Transport={};function inferSelect(select,fields){var options=(select=$(select)[0]).options,firstField=fields[0],secondField=fields[1],data=[],idx,length,optgroup,option,record,value;for(idx=0,length=options.length;idx<length;idx++)record={},(optgroup=(option=options[idx]).parentNode)===select&&(optgroup=null),option.disabled||optgroup&&optgroup.disabled||(optgroup&&(record.optgroup=optgroup.label),record[firstField.field]=option.text,value=(value=option.attributes.value)&&value.specified?option.value:option.text,record[secondField.field]=value,data.push(record));return data}function inferTable(table,fields){var tbody=$(table)[0].tBodies[0],rows=tbody?tbody.rows:[],idx,length,fieldIndex,fieldCount=fields.length,data=[],cells,record,cell,empty;for(idx=0,length=rows.length;idx<length;idx++){for(record={},empty=!0,cells=rows[idx].cells,fieldIndex=0;fieldIndex<fieldCount;fieldIndex++)"th"!==(cell=cells[fieldIndex]).nodeName.toLowerCase()&&(empty=!1,record[fields[fieldIndex].field]=cell.innerHTML);empty||data.push(record)}return data}Transport.create=function(options,data,dataSource){var transport,transportOptions=options.transport?$.extend({},options.transport):null;return transportOptions?(transportOptions.read=typeof transportOptions.read===STRING?{url:transportOptions.read}:transportOptions.read,"jsdo"===options.type&&(transportOptions.dataSource=dataSource),options.type&&(kendo.data.transports=kendo.data.transports||{},kendo.data.schemas=kendo.data.schemas||{},kendo.data.transports[options.type]?isPlainObject(kendo.data.transports[options.type])?transportOptions=extend(!0,{},kendo.data.transports[options.type],transportOptions):transport=new kendo.data.transports[options.type](extend(transportOptions,{data:data})):kendo.logToConsole("Unknown DataSource transport type '"+options.type+"'.\nVerify that registration scripts for this type are included after Kendo UI on the page.","warn"),options.schema=extend(!0,{},kendo.data.schemas[options.type],options.schema)),transport||(transport=isFunction(transportOptions.read)?transportOptions:new RemoteTransport(transportOptions))):transport=new LocalTransport({data:options.data||[]}),transport},DataSource.create=function(options){(isArray(options)||options instanceof ObservableArray)&&(options={data:options});var dataSource=options||{},data=dataSource.data,fields=dataSource.fields,table=dataSource.table,select=dataSource.select,idx,length,model={},field;if(data||!fields||dataSource.transport||(table?data=inferTable(table,fields):select&&(data=inferSelect(select,fields),dataSource.group===undefined&&data[0]&&data[0].optgroup!==undefined&&(dataSource.group="optgroup"))),kendo.data.Model&&fields&&(!dataSource.schema||!dataSource.schema.model)){for(idx=0,length=fields.length;idx<length;idx++)(field=fields[idx]).type&&(model[field.field]=field);isEmptyObject(model)||(dataSource.schema=extend(!0,dataSource.schema,{model:{fields:model}}))}return dataSource.data=data,select=null,dataSource.select=null,table=null,dataSource.table=null,dataSource instanceof DataSource?dataSource:new DataSource(dataSource)};var Node=Model.define({idField:"id",init:function(value){var that=this,hasChildren=this.hasChildren||value&&value.hasChildren,childrenField="items",childrenOptions={};if(kendo.data.Model.fn.init.call(this,value),typeof this.children===STRING&&(childrenField=this.children),childrenOptions={schema:{data:childrenField,model:{hasChildren:hasChildren,id:this.idField,fields:this.fields}}},typeof this.children!==STRING&&extend(childrenOptions,this.children),childrenOptions.data=value,hasChildren||(hasChildren=childrenOptions.schema.data),typeof hasChildren===STRING&&(hasChildren=kendo.getter(hasChildren)),isFunction(hasChildren)){var hasChildrenObject=hasChildren.call(this,this);hasChildrenObject&&0===hasChildrenObject.length?this.hasChildren=!1:this.hasChildren=!!hasChildrenObject}this._childrenOptions=childrenOptions,this.hasChildren&&this._initChildren(),this._loaded=!(!value||!value._loaded)},_initChildren:function(){var that=this,children,transport,parameterMap;that.children instanceof HierarchicalDataSource||(transport=(children=that.children=new HierarchicalDataSource(that._childrenOptions)).transport,parameterMap=transport.parameterMap,transport.parameterMap=function(data,type){return data[that.idField||"id"]=that.id,parameterMap&&(data=parameterMap(data,type)),data},children.parent=function(){return that},children.bind(CHANGE,function(e){e.node=e.node||that,that.trigger(CHANGE,e)}),children.bind(ERROR,function(e){var collection=that.parent();collection&&(e.node=e.node||that,collection.trigger(ERROR,e))}),that._updateChildrenField())},append:function(model){this._initChildren(),this.loaded(!0),this.children.add(model)},hasChildren:!1,level:function(){for(var parentNode=this.parentNode(),level=0;parentNode&&parentNode.parentNode;)level++,parentNode=parentNode.parentNode?parentNode.parentNode():null;return level},_updateChildrenField:function(){var fieldName;this[this._childrenOptions.schema.data||"items"]=this.children.data()},_childrenLoaded:function(){this._loaded=!0,this._updateChildrenField()},load:function(){var options={},method="_query",children,promise;return this.hasChildren?(this._initChildren(),children=this.children,options[this.idField||"id"]=this.id,this._loaded||(children._data=undefined,method="read"),children.one(CHANGE,proxy(this._childrenLoaded,this)),this._matchFilter&&(options.filter={field:"_matchFilter",operator:"eq",value:!0}),promise=children[method](options)):this.loaded(!0),promise||$.Deferred().resolve().promise()},parentNode:function(){var array;return this.parent().parent()},loaded:function(value){if(value===undefined)return this._loaded;this._loaded=value},shouldSerialize:function(field){return Model.fn.shouldSerialize.call(this,field)&&"children"!==field&&"_loaded"!==field&&"hasChildren"!==field&&"_childrenOptions"!==field}});function dataMethod(name){return function(){var data=this._data,result=DataSource.fn[name].apply(this,slice.call(arguments));return this._data!=data&&this._attachBubbleHandlers(),result}}var HierarchicalDataSource=DataSource.extend({init:function(options){var node=Node.define({children:options});options.filter&&!options.serverFiltering&&(this._hierarchicalFilter=options.filter,options.filter=null),DataSource.fn.init.call(this,extend(!0,{},{schema:{modelBase:node,model:node}},options)),this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var that=this;that._data.bind(ERROR,function(e){that.trigger(ERROR,e)})},read:function(data){var result=DataSource.fn.read.call(this,data);return this._hierarchicalFilter&&this.filter(this._hierarchicalFilter),result},remove:function(node){var parentNode=node.parentNode(),dataSource=this,result;return parentNode&&parentNode._initChildren&&(dataSource=parentNode.children),result=DataSource.fn.remove.call(dataSource,node),parentNode&&!dataSource.data().length&&(parentNode.hasChildren=!1),result},success:dataMethod("success"),data:dataMethod("data"),insert:function(index,model){var parentNode=this.parent();return parentNode&&parentNode._initChildren&&(parentNode.hasChildren=!0,parentNode._initChildren()),DataSource.fn.insert.call(this,index,model)},filter:function(val){if(val===undefined)return this._filter;this.options.serverFiltering||(this._markHierarchicalQuery(val),val={logic:"or",filters:[val,{field:"_matchFilter",operator:"equals",value:!0}]}),this.trigger("reset"),this._query({filter:val,page:1})},_markHierarchicalQuery:function(expressions){var compiled,predicate,fields,operators,filter;if(!(expressions=normalizeFilter(expressions))||0===expressions.filters.length)return this;compiled=Query.filterExpr(expressions),fields=compiled.fields,operators=compiled.operators,predicate=filter=new Function("d, __f, __o","return "+compiled.expression),(fields.length||operators.length)&&(filter=function(d){return predicate(d,fields,operators)}),this._updateHierarchicalFilter(filter)},_updateHierarchicalFilter:function(filter){for(var current,data=this._data,result=!1,idx=0;idx<data.length;idx++)(current=data[idx]).hasChildren?(current._matchFilter=current.children._updateHierarchicalFilter(filter),current._matchFilter||(current._matchFilter=filter(current))):current._matchFilter=filter(current),current._matchFilter&&(result=!0);return result},_find:function(method,value){var idx,length,node,children,data=this._data;if(data){if(node=DataSource.fn[method].call(this,value))return node;for(idx=0,length=(data=this._flatData(this._data)).length;idx<length;idx++)if((children=data[idx].children)instanceof HierarchicalDataSource&&(node=children[method](value)))return node}},get:function(id){return this._find("get",id)},getByUid:function(uid){return this._find("getByUid",uid)}});function inferList(list,fields){var items=$(list).children(),idx,length,data=[],record,textField=fields[0].field,urlField=fields[1]&&fields[1].field,spriteCssClassField=fields[2]&&fields[2].field,imageUrlField=fields[3]&&fields[3].field,item,id,textChild,className,children;function elements(collection,tagName){return collection.filter(tagName).add(collection.find(tagName))}for(idx=0,length=items.length;idx<length;idx++)record={_loaded:!0},textChild=(item=items.eq(idx))[0].firstChild,list=(children=item.children()).filter("ul"),children=children.filter(":not(ul)"),(id=item.attr("data-id"))&&(record.id=id),textChild&&(record[textField]=3==textChild.nodeType?textChild.nodeValue:children.text()),urlField&&(record[urlField]=elements(children,"a").attr("href")),imageUrlField&&(record[imageUrlField]=elements(children,"img").attr("src")),spriteCssClassField&&(className=elements(children,".k-sprite").prop("className"),record[spriteCssClassField]=className&&$.trim(className.replace("k-sprite",""))),list.length&&(record.items=inferList(list.eq(0),fields)),"true"==item.attr("data-hasChildren")&&(record.hasChildren=!0),data.push(record);return data}HierarchicalDataSource.create=function(options){var dataSource=(options=options&&options.push?{data:options}:options)||{},data=dataSource.data,fields=dataSource.fields,list=dataSource.list;return data&&data._dataSource?data._dataSource:(data||!fields||dataSource.transport||list&&(data=inferList(list,fields)),dataSource.data=data,dataSource instanceof HierarchicalDataSource?dataSource:new HierarchicalDataSource(dataSource))};var Buffer=kendo.Observable.extend({init:function(dataSource,viewSize,disablePrefetch){kendo.Observable.fn.init.call(this),this._prefetching=!1,this.dataSource=dataSource,this.prefetch=!disablePrefetch;var buffer=this;dataSource.bind("change",function(){buffer._change()}),dataSource.bind("reset",function(){buffer._reset()}),this._syncWithDataSource(),this.setViewSize(viewSize)},setViewSize:function(viewSize){this.viewSize=viewSize,this._recalculate()},at:function(index){var pageSize=this.pageSize,itemPresent=!0;return index>=this.total()?(this.trigger("endreached",{index:index}),null):this.useRanges?this.useRanges?((index<this.dataOffset||index>=this.skip+pageSize)&&(itemPresent=this.range(Math.floor(index/pageSize)*pageSize)),index===this.prefetchThreshold&&this._prefetch(),index===this.midPageThreshold?this.range(this.nextMidRange,!0):index===this.nextPageThreshold?this.range(this.nextFullRange):index===this.pullBackThreshold&&(this.offset===this.skip?this.range(this.previousMidRange):this.range(this.previousFullRange)),itemPresent?this.dataSource.at(index-this.dataOffset):(this.trigger("endreached",{index:index}),null)):void 0:this.dataSource.view()[index]},indexOf:function(item){return this.dataSource.data().indexOf(item)+this.dataOffset},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var buffer=this,pageSize=buffer.pageSize,offset=buffer.skip-buffer.viewSize+pageSize,pageSkip=math.max(math.floor(offset/pageSize),0)*pageSize;this.offset=offset,this.dataSource.prefetch(pageSkip,pageSize,function(){buffer._goToRange(offset,!0)})},range:function(offset,nextRange){if(this.offset===offset)return!0;var buffer=this,pageSize=this.pageSize,pageSkip=math.max(math.floor(offset/pageSize),0)*pageSize,dataSource=this.dataSource;return nextRange&&(pageSkip+=pageSize),dataSource.inRange(offset,pageSize)?(this.offset=offset,this._recalculate(),this._goToRange(offset),!0):!this.prefetch||(dataSource.prefetch(pageSkip,pageSize,function(){buffer.offset=offset,buffer._recalculate(),buffer._goToRange(offset,!0)}),!1)},syncDataSource:function(){var offset=this.offset;this.offset=null,this.range(offset)},destroy:function(){this.unbind()},_prefetch:function(){var buffer=this,pageSize=this.pageSize,prefetchOffset=this.skip+pageSize,dataSource=this.dataSource;dataSource.inRange(prefetchOffset,pageSize)||this._prefetching||!this.prefetch||(this._prefetching=!0,this.trigger("prefetching",{skip:prefetchOffset,take:pageSize}),dataSource.prefetch(prefetchOffset,pageSize,function(){buffer._prefetching=!1,buffer.trigger("prefetched",{skip:prefetchOffset,take:pageSize})}))},_goToRange:function(offset,expanding){this.offset===offset&&(this.dataOffset=offset,this._expanding=expanding,this.dataSource.range(offset,this.pageSize),this.dataSource.enableRequestsInProgress())},_reset:function(){this._syncPending=!0},_change:function(){var dataSource=this.dataSource;this.length=this.useRanges?dataSource.lastRange().end:dataSource.view().length,this._syncPending&&(this._syncWithDataSource(),this._recalculate(),this._syncPending=!1,this.trigger("reset",{offset:this.offset})),this.trigger("resize"),this._expanding&&this.trigger("expand"),delete this._expanding},_syncWithDataSource:function(){var dataSource=this.dataSource;this._firstItemUid=dataSource.firstItemUid(),this.dataOffset=this.offset=dataSource.skip()||0,this.pageSize=dataSource.pageSize(),this.useRanges=dataSource.options.serverPaging},_recalculate:function(){var pageSize=this.pageSize,offset=this.offset,viewSize=this.viewSize,skip=Math.ceil(offset/pageSize)*pageSize;this.skip=skip,this.midPageThreshold=skip+pageSize-1,this.nextPageThreshold=skip+viewSize-1,this.prefetchThreshold=skip+Math.floor(pageSize/3*2),this.pullBackThreshold=this.offset-1,this.nextMidRange=skip+pageSize-viewSize,this.nextFullRange=skip,this.previousMidRange=offset-viewSize,this.previousFullRange=skip-pageSize}}),BatchBuffer=kendo.Observable.extend({init:function(dataSource,batchSize){var batchBuffer=this;kendo.Observable.fn.init.call(batchBuffer),this.dataSource=dataSource,this.batchSize=batchSize,this._total=0,this.buffer=new Buffer(dataSource,3*batchSize),this.buffer.bind({endreached:function(e){batchBuffer.trigger("endreached",{index:e.index})},prefetching:function(e){batchBuffer.trigger("prefetching",{skip:e.skip,take:e.take})},prefetched:function(e){batchBuffer.trigger("prefetched",{skip:e.skip,take:e.take})},reset:function(){batchBuffer._total=0,batchBuffer.trigger("reset")},resize:function(){batchBuffer._total=Math.ceil(this.length/batchBuffer.batchSize),batchBuffer.trigger("resize",{total:batchBuffer.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(index){var buffer=this.buffer,skip=index*this.batchSize,take=this.batchSize,view=[],item;buffer.offset>skip&&buffer.at(buffer.offset-1);for(var i=0;i<take&&null!==(item=buffer.at(skip+i));i++)view.push(item);return view},total:function(){return this._total},destroy:function(){this.buffer.destroy(),this.unbind()}});extend(!0,kendo.data,{readers:{json:DataReader},Query:Query,DataSource:DataSource,HierarchicalDataSource:HierarchicalDataSource,Node:Node,ObservableObject:ObservableObject,ObservableArray:ObservableArray,LazyObservableArray:LazyObservableArray,LocalTransport:LocalTransport,RemoteTransport:RemoteTransport,Cache:Cache,DataReader:DataReader,Model:Model,Buffer:Buffer,BatchBuffer:BatchBuffer})}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(a1,a2,a3){(a3||a2)()}),function(f,define){define("kendo.calendar",["kendo.core"],f)}(function(){var __meta___id="calendar",__meta___name="Calendar",__meta___category="web",__meta___description="The Calendar widget renders a graphical calendar that supports navigation and selection.",__meta___depends=["core"];return function($,undefined){var kendo=window.kendo,support=kendo.support,ui=kendo.ui,Widget=ui.Widget,keys=kendo.keys,parse=kendo.parseDate,adjustDST=kendo.date.adjustDST,getDate=kendo.date.getDate,weekInYear=kendo.date.weekInYear,extractFormat=kendo._extractFormat,template=kendo.template,getCulture=kendo.getCulture,transitions=kendo.support.transitions,transitionOrigin=transitions?transitions.css+"transform-origin":"",cellTemplate=template('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link" href="\\#" data-#=data.ns#value="#=data.dateString#">#=data.value#</a></td>',{useWithBlock:!1}),emptyCellTemplate=template('<td role="gridcell">&nbsp;</td>',{useWithBlock:!1}),weekNumberTemplate=template('<td class="k-alt">#= data.weekNumber #</td>',{useWithBlock:!1}),browser=kendo.support.browser,isIE8=browser.msie&&browser.version<9,outerHeight=kendo._outerHeight,outerWidth=kendo._outerWidth,ns=".kendoCalendar",CLICK="click"+ns,KEYDOWN_NS="keydown"+ns,ID="id",MIN="min",LEFT="left",SLIDE="slideIn",MONTH="month",CENTURY="century",CHANGE="change",NAVIGATE="navigate",VALUE="value",HOVER="k-state-hover",DISABLED="k-state-disabled",FOCUSED="k-state-focused",OTHERMONTH="k-other-month",OTHERMONTHCLASS=' class="k-other-month"',TODAY="k-nav-today",CELLSELECTOR="td:has(.k-link)",BLUR="blur"+ns,FOCUS="focus",FOCUS_WITH_NS=FOCUS+ns,MOUSEENTER=support.touch?"touchstart":"mouseenter",MOUSEENTER_WITH_NS=support.touch?"touchstart"+ns:"mouseenter"+ns,MOUSELEAVE=support.touch?"touchend"+ns+" touchmove"+ns:"mouseleave"+ns,MS_PER_MINUTE=6e4,MS_PER_DAY=864e5,PREVARROW="_prevArrow",NEXTARROW="_nextArrow",ARIA_DISABLED="aria-disabled",ARIA_SELECTED="aria-selected",ARIA_LABEL="aria-label",proxy=$.proxy,extend=$.extend,DATE=Date,views={month:0,year:1,decade:2,century:3},Calendar=Widget.extend({init:function(element,options){var that=this,value,id;Widget.fn.init.call(that,element,options),element=that.wrapper=that.element,(options=that.options).url=window.unescape(options.url),that.options.disableDates=getDisabledExpr(that.options.disableDates),that._templates(),that._header(),that._footer(that.footer),(id=element.addClass("k-widget k-calendar "+(options.weekNumber?" k-week-number":"")).on(MOUSEENTER_WITH_NS+" "+MOUSELEAVE,CELLSELECTOR,mousetoggle).on(KEYDOWN_NS,"table.k-content",proxy(that._move,that)).on(CLICK,CELLSELECTOR,function(e){var link=e.currentTarget.firstChild,value=that._toDateObject(link);-1!=link.href.indexOf("#")&&e.preventDefault(),"month"==that._view.name&&that.options.disableDates(value)||that._click($(link))}).on("mouseup"+ns,"table.k-content, .k-footer",function(){that._focusView(!1!==that.options.focusOnNav)}).attr(ID))&&(that._cellID=id+"_cell_selected"),normalize(options),value=parse(options.value,options.format,options.culture),that._index=views[options.start],that._current=new DATE(+restrictValue(value,options.min,options.max)),that._addClassProxy=function(){if(that._active=!0,that._cell.hasClass(DISABLED)){var todayString=that._view.toDateString(getToday());that._cell=that._cellByDate(todayString)}that._cell.addClass(FOCUSED)},that._removeClassProxy=function(){that._active=!1,that._cell.removeClass(FOCUSED)},that.value(value),kendo.notify(that)},options:{name:"Calendar",value:null,min:new DATE(1900,0,1),max:new DATE(2099,11,31),dates:[],url:"",culture:"",footer:"",format:"",month:{},weekNumber:!1,start:MONTH,depth:MONTH,animation:{horizontal:{effects:SLIDE,reverse:!0,duration:500,divisor:2},vertical:{effects:"zoomIn",duration:400}},messages:{weekColumnHeader:""}},events:[CHANGE,NAVIGATE],setOptions:function(options){var that=this;normalize(options),options.disableDates=getDisabledExpr(options.disableDates),Widget.fn.setOptions.call(this,options),this._templates(),this._footer(this.footer),this._index=views[this.options.start],this.navigate()},destroy:function(){var that=this,today=this._today;this.element.off(ns),this._title.off(ns),this._prevArrow.off(ns),this._nextArrow.off(ns),kendo.destroy(this._table),today&&kendo.destroy(today.off(ns)),Widget.fn.destroy.call(this)},current:function(){return this._current},view:function(){return this._view},focus:function(table){table=table||this._table,this._bindTable(table),table.focus()},min:function(value){return this._option(MIN,value)},max:function(value){return this._option("max",value)},navigateToPast:function(){this._navigate(PREVARROW,-1)},navigateToFuture:function(){this._navigate(NEXTARROW,1)},navigateUp:function(){var that=this,index=this._index;this._title.hasClass(DISABLED)||this.navigate(this._current,++index)},navigateDown:function(value){var that=this,index=this._index,depth=this.options.depth;value&&(index!==views[depth]?this.navigate(value,--index):isEqualDate(this._value,this._current)&&isEqualDate(this._value,value)||(this.value(value),this.trigger(CHANGE)))},navigate:function(value,view){view=isNaN(view)?views[view]:view;var that=this,options=this.options,culture=options.culture,min=options.min,max=options.max,title=this._title,from=this._table,old=this._oldTable,selectedValue=this._value,currentValue=this._current,future=value&&+value>+currentValue,vertical=view!==undefined&&view!==this._index,to,currentView,compare,disabled;if(value||(value=currentValue),this._current=value=new DATE(+restrictValue(value,min,max)),view===undefined?view=this._index:this._index=view,this._view=currentView=calendar.views[view],compare=currentView.compare,disabled=view===views.century,title.toggleClass(DISABLED,disabled).attr(ARIA_DISABLED,disabled),disabled=compare(value,min)<1,this._prevArrow.toggleClass(DISABLED,disabled).attr(ARIA_DISABLED,disabled),disabled=compare(value,max)>-1,this._nextArrow.toggleClass(DISABLED,disabled).attr(ARIA_DISABLED,disabled),from&&old&&old.data("animating")&&(old.kendoStop(!0,!0),from.kendoStop(!0,!0)),this._oldTable=from,!from||this._changeView){title.html(currentView.title(value,min,max,culture)),this._table=to=$(currentView.content(extend({min:min,max:max,date:value,url:options.url,dates:options.dates,format:options.format,culture:culture,disableDates:options.disableDates,isWeekColumnVisible:options.weekNumber,messages:options.messages},this[currentView.name]))),addClassToViewContainer(to,currentView.name),makeUnselectable(to);var replace=from&&from.data("start")===to.data("start");this._animate({from:from,to:to,vertical:vertical,future:future,replace:replace}),this.trigger(NAVIGATE),this._focus(value)}view===views[options.depth]&&selectedValue&&!this.options.disableDates(selectedValue)&&this._class("k-state-selected",selectedValue),this._class(FOCUSED,value),!from&&this._cell&&this._cell.removeClass(FOCUSED),this._changeView=!0},value:function(value){var that=this,view=this._view,options=this.options,old=this._view,min=options.min,max=options.max;if(value===undefined)return this._value;null===value&&(this._current=new Date(this._current.getFullYear(),this._current.getMonth(),this._current.getDate())),null!==(value=parse(value,options.format,options.culture))&&(isInRange(value=new DATE(+value),min,max)||(value=null)),null!==value&&this.options.disableDates(value)?this._value===undefined&&(this._value=null):this._value=value,old&&null===value&&this._cell?this._cell.removeClass("k-state-selected"):(this._changeView=!value||view&&0!==view.compare(value,this._current),this.navigate(value))},_move:function(e){var that=this,options=this.options,key=e.keyCode,view=this._view,index=this._index,min=this.options.min,max=this.options.max,currentValue=new DATE(+this._current),isRtl=kendo.support.isRtl(this.wrapper),isDisabled=this.options.disableDates,value,prevent,method,temp;return e.target===this._table[0]&&(this._active=!0),e.ctrlKey?key==keys.RIGHT&&!isRtl||key==keys.LEFT&&isRtl?(this.navigateToFuture(),prevent=!0):key==keys.LEFT&&!isRtl||key==keys.RIGHT&&isRtl?(this.navigateToPast(),prevent=!0):key==keys.UP?(this.navigateUp(),prevent=!0):key==keys.DOWN&&(this._click($(this._cell[0].firstChild)),prevent=!0):(key==keys.RIGHT&&!isRtl||key==keys.LEFT&&isRtl?(value=1,prevent=!0):key==keys.LEFT&&!isRtl||key==keys.RIGHT&&isRtl?(value=-1,prevent=!0):key==keys.UP?(value=0===index?-7:-4,prevent=!0):key==keys.DOWN?(value=0===index?7:4,prevent=!0):key==keys.ENTER?(this._click($(this._cell[0].firstChild)),prevent=!0):key==keys.HOME||key==keys.END?(temp=view[method=key==keys.HOME?"first":"last"](currentValue),currentValue=new DATE(temp.getFullYear(),temp.getMonth(),temp.getDate(),currentValue.getHours(),currentValue.getMinutes(),currentValue.getSeconds(),currentValue.getMilliseconds()),prevent=!0):key==keys.PAGEUP?(prevent=!0,this.navigateToPast()):key==keys.PAGEDOWN&&(prevent=!0,this.navigateToFuture()),(value||method)&&(method||view.setDate(currentValue,value),isDisabled(currentValue)&&(currentValue=this._nextNavigatable(currentValue,value)),isInRange(currentValue,min=getDate(min),max)&&this._focus(restrictValue(currentValue,options.min,options.max)))),prevent&&e.preventDefault(),this._current},_nextNavigatable:function(currentValue,value){var that=this,disabled=!0,view=this._view,min=this.options.min,max=this.options.max,isDisabled=this.options.disableDates,navigatableDate=new Date(currentValue.getTime());for(view.setDate(navigatableDate,-value);disabled;){if(view.setDate(currentValue,value),!isInRange(currentValue,min,max)){currentValue=navigatableDate;break}disabled=isDisabled(currentValue)}return currentValue},_animate:function(options){var that=this,from=options.from,to=options.to,active=this._active;from?from.parent().data("animating")?(from.off(ns),from.parent().kendoStop(!0,!0).remove(),from.remove(),to.insertAfter(this.element[0].firstChild),this._focusView(active)):!from.is(":visible")||!1===this.options.animation||options.replace?(to.insertAfter(from),from.off(ns).remove(),this._focusView(active)):this[options.vertical?"_vertical":"_horizontal"](from,to,options.future):(to.insertAfter(this.element[0].firstChild),this._bindTable(to))},_horizontal:function(from,to,future){var that=this,active=that._active,horizontal=that.options.animation.horizontal,effects=horizontal.effects,viewWidth=outerWidth(from);effects&&-1!=effects.indexOf(SLIDE)&&(from.add(to).css({width:viewWidth}),from.wrap("<div/>"),that._focusView(active,from),from.parent().css({position:"relative",width:2*viewWidth,float:LEFT,"margin-left":future?0:-viewWidth}),to[future?"insertAfter":"insertBefore"](from),extend(horizontal,{effects:SLIDE+":"+(future?"right":LEFT),complete:function(){from.off(ns).remove(),that._oldTable=null,to.unwrap(),that._focusView(active)}}),from.parent().kendoStop(!0,!0).kendoAnimate(horizontal))},_vertical:function(from,to){var that=this,vertical=that.options.animation.vertical,effects=vertical.effects,active=that._active,cell,position;effects&&-1!=effects.indexOf("zoom")&&(to.css({position:"absolute",top:outerHeight(from.prev()),left:0}).insertBefore(from),transitionOrigin&&(position=(position=(cell=that._cellByDate(that._view.toDateString(that._current))).position()).left+parseInt(cell.width()/2,10)+"px "+(position.top+parseInt(cell.height()/2,10))+"px",to.css(transitionOrigin,position)),from.kendoStop(!0,!0).kendoAnimate({effects:"fadeOut",duration:600,complete:function(){from.off(ns).remove(),that._oldTable=null,to.css({position:"static",top:0,left:0}),that._focusView(active)}}),to.kendoStop(!0,!0).kendoAnimate(vertical))},_cellByDate:function(value){return this._table.find("td:not(.k-other-month)").filter(function(){return $(this.firstChild).attr(kendo.attr(VALUE))===value})},_class:function(className,date){var that=this,id=this._cellID,cell=this._cell,value=this._view.toDateString(date),disabledDate;cell&&cell.removeAttr(ARIA_SELECTED).removeAttr(ARIA_LABEL).removeAttr(ID),date&&"month"==this._view.name&&(disabledDate=this.options.disableDates(date)),cell=this._table.find("td:not(.k-other-month)").removeClass(className).filter(function(){return $(this.firstChild).attr(kendo.attr(VALUE))===value}).attr(ARIA_SELECTED,!0),(className===FOCUSED&&!this._active&&!1!==this.options.focusOnNav||disabledDate)&&(className=""),cell.addClass(className),cell[0]&&(this._cell=cell),id&&(cell.attr(ID,id),this._table.removeAttr("aria-activedescendant").attr("aria-activedescendant",id))},_bindTable:function(table){table.on(FOCUS_WITH_NS,this._addClassProxy).on(BLUR,this._removeClassProxy)},_click:function(link){var that=this,options=this.options,currentValue=new Date(+this._current),value=this._toDateObject(link);adjustDST(value,0),"month"==this._view.name&&this.options.disableDates(value)&&(value=this._value),this._view.setDate(currentValue,value),this.navigateDown(restrictValue(currentValue,options.min,options.max))},_focus:function(value){var that=this,view;0!==this._view.compare(value,this._current)?this.navigate(value):(this._current=value,this._class(FOCUSED,value))},_focusView:function(active,table){active&&this.focus(table)},_footer:function(template){var that=this,today=getToday(),element=this.element,footer=element.find(".k-footer");if(!template)return this._toggle(!1),void footer.hide();footer[0]||(footer=$('<div class="k-footer"><a href="#" class="k-link k-nav-today"></a></div>').appendTo(element)),this._today=footer.show().find(".k-link").html(template(today)).attr("title",kendo.toString(today,"D",this.options.culture)),this._toggle()},_header:function(){var that=this,element=that.element,links;element.find(".k-header")[0]||element.html('<div class="k-header"><a href="#" role="button" class="k-link k-nav-prev" aria-label="Previous"><span class="k-icon k-i-arrow-60-left"></span></a><a href="#" role="button" aria-live="assertive" aria-atomic="true" class="k-link k-nav-fast"></a><a href="#" role="button" class="k-link k-nav-next" aria-label="Next"><span class="k-icon k-i-arrow-60-right"></span></a></div>'),links=element.find(".k-link").on(MOUSEENTER_WITH_NS+" "+MOUSELEAVE+" "+FOCUS_WITH_NS+" "+BLUR,mousetoggle).click(!1),that._title=links.eq(1).on(CLICK,function(){that._active=!1!==that.options.focusOnNav,that.navigateUp()}),that._prevArrow=links.eq(0).on(CLICK,function(){that._active=!1!==that.options.focusOnNav,that.navigateToPast()}),that._nextArrow=links.eq(2).on(CLICK,function(){that._active=!1!==that.options.focusOnNav,that.navigateToFuture()})},_navigate:function(arrow,modifier){var that=this,index=this._index+1,currentValue=new DATE(+this._current);(arrow=this[arrow]).hasClass(DISABLED)||(index>3?currentValue.setFullYear(currentValue.getFullYear()+100*modifier):calendar.views[index].setDate(currentValue,modifier),this.navigate(currentValue))},_option:function(option,value){var that=this,options=this.options,currentValue=this._value||this._current,isBigger;if(value===undefined)return options[option];(value=parse(value,options.format,options.culture))&&(options[option]=new DATE(+value),((isBigger=option===MIN?value>currentValue:currentValue>value)||isEqualMonth(currentValue,value))&&(isBigger&&(this._value=null),this._changeView=!0),this._changeView||(this._changeView=!(!options.month.content&&!options.month.empty)),this.navigate(this._value),this._toggle())},_toggle:function(toggle){var that=this,options=this.options,isTodayDisabled=this.options.disableDates(getToday()),link=this._today;toggle===undefined&&(toggle=isInRange(getToday(),options.min,options.max)),link&&(link.off(CLICK),toggle&&!isTodayDisabled?link.addClass(TODAY).removeClass(DISABLED).on(CLICK,proxy(this._todayClick,this)):link.removeClass(TODAY).addClass(DISABLED).on(CLICK,prevent))},_todayClick:function(e){var that=this,depth=views[this.options.depth],disabled=this.options.disableDates,today=getToday();e.preventDefault(),disabled(today)||(0===this._view.compare(this._current,today)&&this._index==depth&&(this._changeView=!1),this._value=today,this.navigate(today,depth),this.trigger(CHANGE))},_toDateObject:function(link){var value=$(link).attr(kendo.attr(VALUE)).split("/");return value=new DATE(value[0],value[1],value[2])},_templates:function(){var that=this,options=this.options,footer=options.footer,month=options.month,content=month.content,weekNumber=month.weekNumber,empty=month.empty;this.month={content:template('<td#=data.cssClass# role="gridcell"><a tabindex="-1" class="k-link#=data.linkClass#" href="#=data.url#" '+kendo.attr("value")+'="#=data.dateString#" title="#=data.title#">'+(content||"#=data.value#")+"</a></td>",{useWithBlock:!!content}),empty:template('<td role="gridcell">'+(empty||"&nbsp;")+"</td>",{useWithBlock:!!empty}),weekNumber:template('<td class="k-alt">'+(weekNumber||"#= data.weekNumber #")+"</td>",{useWithBlock:!!weekNumber})},this.footer=!1!==footer?template(footer||'#= kendo.toString(data,"D","'+options.culture+'") #',{useWithBlock:!1}):null}});ui.plugin(Calendar);var calendar={firstDayOfMonth:function(date){return new DATE(date.getFullYear(),date.getMonth(),1)},firstVisibleDay:function(date,calendarInfo){for(var firstDay=(calendarInfo=calendarInfo||kendo.culture().calendar).firstDay,firstVisibleDay=new DATE(date.getFullYear(),date.getMonth(),0,date.getHours(),date.getMinutes(),date.getSeconds(),date.getMilliseconds());firstVisibleDay.getDay()!=firstDay;)calendar.setTime(firstVisibleDay,-864e5);return firstVisibleDay},setTime:function(date,time){var tzOffsetBefore=date.getTimezoneOffset(),resultDATE=new DATE(date.getTime()+time),tzOffsetDiff=resultDATE.getTimezoneOffset()-tzOffsetBefore;date.setTime(resultDATE.getTime()+6e4*tzOffsetDiff)},views:[{name:MONTH,title:function(date,min,max,culture){return getCalendarInfo(culture).months.names[date.getMonth()]+" "+date.getFullYear()},content:function(options){var that=this,idx=0,min=options.min,max=options.max,date=options.date,dates=options.dates,format=options.format,culture=options.culture,navigateUrl=options.url,isWeekColumnVisible=options.isWeekColumnVisible,hasUrl=navigateUrl&&dates[0],currentCalendar=getCalendarInfo(culture),firstDayIdx=currentCalendar.firstDay,days=currentCalendar.days,names=shiftArray(days.names,firstDayIdx),shortNames=shiftArray(days.namesShort,firstDayIdx),start=calendar.firstVisibleDay(date,currentCalendar),firstDayOfMonth=this.first(date),lastDayOfMonth=this.last(date),toDateString=this.toDateString,today=new DATE,html='<table tabindex="0" role="grid" class="k-content" cellspacing="0" data-start="'+toDateString(start)+'"><thead><tr role="row">';for(isWeekColumnVisible&&(html+='<th scope="col" class="k-alt">'+options.messages.weekColumnHeader+"</th>");idx<7;idx++)html+='<th scope="col" title="'+names[idx]+'">'+shortNames[idx]+"</th>";return today=new DATE(today.getFullYear(),today.getMonth(),today.getDate()),adjustDST(today,0),today=+today,view({cells:42,perRow:7,html:html+='</tr></thead><tbody><tr role="row">',start:start,isWeekColumnVisible:isWeekColumnVisible,weekNumber:options.weekNumber,min:new DATE(min.getFullYear(),min.getMonth(),min.getDate()),max:new DATE(max.getFullYear(),max.getMonth(),max.getDate()),content:options.content,empty:options.empty,setter:this.setDate,disableDates:options.disableDates,build:function(date,idx,disableDates){var cssClass=[],day=date.getDay(),linkClass="",url="#";return(date<firstDayOfMonth||date>lastDayOfMonth)&&cssClass.push(OTHERMONTH),disableDates(date)&&cssClass.push(DISABLED),+date===today&&cssClass.push("k-today"),0!==day&&6!==day||cssClass.push("k-weekend"),hasUrl&&inArray(+date,dates)&&(url=navigateUrl.replace("{0}",kendo.toString(date,format,culture)),linkClass=" k-action-link"),{date:date,dates:dates,ns:kendo.ns,title:kendo.toString(date,"D",culture),value:date.getDate(),dateString:toDateString(date),cssClass:cssClass[0]?' class="'+cssClass.join(" ")+'"':"",linkClass:linkClass,url:url}},weekNumberBuild:function(date){return{weekNumber:weekInYear(date,kendo.culture().calendar.firstDay),currentDate:date}}})},first:function(date){return calendar.firstDayOfMonth(date)},last:function(date){var last=new DATE(date.getFullYear(),date.getMonth()+1,0),first=calendar.firstDayOfMonth(date),timeOffset=Math.abs(last.getTimezoneOffset()-first.getTimezoneOffset());return timeOffset&&last.setHours(first.getHours()+timeOffset/60),last},compare:function(date1,date2){var result,month1=date1.getMonth(),year1=date1.getFullYear(),month2=date2.getMonth(),year2=date2.getFullYear();return result=year1>year2?1:year1<year2?-1:month1==month2?0:month1>month2?1:-1},setDate:function(date,value){var hours=date.getHours();value instanceof DATE?date.setFullYear(value.getFullYear(),value.getMonth(),value.getDate()):calendar.setTime(date,864e5*value),adjustDST(date,hours)},toDateString:function(date){return date.getFullYear()+"/"+date.getMonth()+"/"+date.getDate()}},{name:"year",title:function(date){return date.getFullYear()},content:function(options){var namesAbbr=getCalendarInfo(options.culture).months.namesAbbr,toDateString=this.toDateString,min=options.min,max=options.max;return view({min:new DATE(min.getFullYear(),min.getMonth(),1),max:new DATE(max.getFullYear(),max.getMonth(),1),start:new DATE(options.date.getFullYear(),0,1),setter:this.setDate,build:function(date){return{value:namesAbbr[date.getMonth()],ns:kendo.ns,dateString:toDateString(date),cssClass:""}}})},first:function(date){return new DATE(date.getFullYear(),0,date.getDate())},last:function(date){return new DATE(date.getFullYear(),11,date.getDate())},compare:function(date1,date2){return compare(date1,date2)},setDate:function(date,value){var month,hours=date.getHours();value instanceof DATE?(month=value.getMonth(),date.setFullYear(value.getFullYear(),month,date.getDate()),month!==date.getMonth()&&date.setDate(0)):(month=date.getMonth()+value,date.setMonth(month),month>11&&(month-=12),month>0&&date.getMonth()!=month&&date.setDate(0)),adjustDST(date,hours)},toDateString:function(date){return date.getFullYear()+"/"+date.getMonth()+"/1"}},{name:"decade",title:function(date,min,max){return title(date,min,max,10)},content:function(options){var year=options.date.getFullYear(),toDateString=this.toDateString;return view({start:new DATE(year-year%10-1,0,1),min:new DATE(options.min.getFullYear(),0,1),max:new DATE(options.max.getFullYear(),0,1),setter:this.setDate,build:function(date,idx){return{value:date.getFullYear(),ns:kendo.ns,dateString:toDateString(date),cssClass:0===idx||11==idx?OTHERMONTHCLASS:""}}})},first:function(date){var year=date.getFullYear();return new DATE(year-year%10,date.getMonth(),date.getDate())},last:function(date){var year=date.getFullYear();return new DATE(year-year%10+9,date.getMonth(),date.getDate())},compare:function(date1,date2){return compare(date1,date2,10)},setDate:function(date,value){setDate(date,value,1)},toDateString:function(date){return date.getFullYear()+"/0/1"}},{name:CENTURY,title:function(date,min,max){return title(date,min,max,100)},content:function(options){var year=options.date.getFullYear(),min=options.min.getFullYear(),max=options.max.getFullYear(),toDateString=this.toDateString,minYear=min,maxYear=max;return(maxYear-=maxYear%10)-(minYear-=minYear%10)<10&&(maxYear=minYear+9),view({start:new DATE(year-year%100-10,0,1),min:new DATE(minYear,0,1),max:new DATE(maxYear,0,1),setter:this.setDate,build:function(date,idx){var start=date.getFullYear(),end=start+9;return start<min&&(start=min),end>max&&(end=max),{ns:kendo.ns,value:start+" - "+end,dateString:toDateString(date),cssClass:0===idx||11==idx?OTHERMONTHCLASS:""}}})},first:function(date){var year=date.getFullYear();return new DATE(year-year%100,date.getMonth(),date.getDate())},last:function(date){var year=date.getFullYear();return new DATE(year-year%100+99,date.getMonth(),date.getDate())},compare:function(date1,date2){return compare(date1,date2,100)},setDate:function(date,value){setDate(date,value,10)},toDateString:function(date){var year=date.getFullYear();return year-year%10+"/0/1"}}]};function title(date,min,max,modular){var start=date.getFullYear(),minYear=min.getFullYear(),maxYear=max.getFullYear(),end;return end=(start-=start%modular)+(modular-1),start<minYear&&(start=minYear),end>maxYear&&(end=maxYear),start+"-"+end}function view(options){var idx=0,data,min=options.min,max=options.max,start=options.start,setter=options.setter,build=options.build,weekNumberBuild=options.weekNumberBuild,length=options.cells||12,isWeekColumnVisible=options.isWeekColumnVisible,cellsPerRow=options.perRow||4,weekNumber=options.weekNumber||weekNumberTemplate,content=options.content||cellTemplate,empty=options.empty||emptyCellTemplate,html=options.html||'<table tabindex="0" role="grid" class="k-content k-meta-view" cellspacing="0"><tbody><tr role="row">';for(isWeekColumnVisible&&(html+=weekNumber(weekNumberBuild(start)));idx<length;idx++)idx>0&&idx%cellsPerRow==0&&(html+='</tr><tr role="row">',isWeekColumnVisible&&(html+=weekNumber(weekNumberBuild(start)))),start=new DATE(start.getFullYear(),start.getMonth(),start.getDate(),0,0,0),adjustDST(start,0),data=build(start,idx,options.disableDates),html+=isInRange(start,min,max)?content(data):empty(data),setter(start,1);return html+"</tr></tbody></table>"}function compare(date1,date2,modifier){var year1=date1.getFullYear(),start=date2.getFullYear(),end=start,result=0;return modifier&&(end=(start-=start%modifier)-start%modifier+modifier-1),year1>end?result=1:year1<start&&(result=-1),result}function getToday(){var today=new DATE;return new DATE(today.getFullYear(),today.getMonth(),today.getDate())}function restrictValue(value,min,max){var today=getToday();return value&&(today=new DATE(+value)),min>today?today=new DATE(+min):max<today&&(today=new DATE(+max)),today}function isInRange(date,min,max){return+date>=+min&&+date<=+max}function shiftArray(array,idx){return array.slice(idx).concat(array.slice(0,idx))}function setDate(date,value,multiplier){value=value instanceof DATE?value.getFullYear():date.getFullYear()+multiplier*value,date.setFullYear(value)}function mousetoggle(e){var disabled;$(this).hasClass("k-state-disabled")||$(this).toggleClass(HOVER,MOUSEENTER.indexOf(e.type)>-1||e.type==FOCUS)}function prevent(e){e.preventDefault()}function getCalendarInfo(culture){return getCulture(culture).calendars.standard}function normalize(options){var start=views[options.start],depth=views[options.depth],culture=getCulture(options.culture);options.format=extractFormat(options.format||culture.calendars.standard.patterns.d),isNaN(start)&&(start=0,options.start=MONTH),(depth===undefined||depth>start)&&(options.depth=MONTH),null===options.dates&&(options.dates=[])}function makeUnselectable(element){isIE8&&element.find("*").attr("unselectable","on")}function addClassToViewContainer(element,currentView){element.addClass("k-"+currentView)}function inArray(date,dates){for(var i=0,length=dates.length;i<length;i++)if(date===+dates[i])return!0;return!1}function isEqualDatePart(value1,value2){return!!value1&&(value1.getFullYear()===value2.getFullYear()&&value1.getMonth()===value2.getMonth()&&value1.getDate()===value2.getDate())}function isEqualMonth(value1,value2){return!!value1&&(value1.getFullYear()===value2.getFullYear()&&value1.getMonth()===value2.getMonth())}function getDisabledExpr(option){return kendo.isFunction(option)?option:$.isArray(option)?createDisabledExpr(option):$.noop}function convertDatesArray(dates){for(var result=[],i=0;i<dates.length;i++)result.push(dates[i].setHours(0,0,0,0));return result}function createDisabledExpr(dates){var body,callback,disabledDates=[],days=["su","mo","tu","we","th","fr","sa"],searchExpression="if (found) { return true } else {return false}";if(dates[0]instanceof DATE)body="var found = date && $.inArray(date.setHours(0, 0, 0, 0),["+(disabledDates=convertDatesArray(dates))+"]) > -1;"+searchExpression;else{for(var i=0;i<dates.length;i++){var day=dates[i].slice(0,2).toLowerCase(),index=$.inArray(day,days);index>-1&&disabledDates.push(index)}body="var found = date && $.inArray(date.getDay(),["+disabledDates+"]) > -1;"+searchExpression}return callback=new Function("date",body)}function isEqualDate(oldValue,newValue){return oldValue instanceof Date&&newValue instanceof Date&&(oldValue=oldValue.getTime(),newValue=newValue.getTime()),oldValue===newValue}calendar.isEqualDatePart=isEqualDatePart,calendar.isEqualDate=isEqualDate,calendar.makeUnselectable=makeUnselectable,calendar.restrictValue=restrictValue,calendar.isInRange=isInRange,calendar.addClassToViewContainer=addClassToViewContainer,calendar.normalize=normalize,calendar.viewsEnum=views,calendar.disabled=getDisabledExpr,kendo.calendar=calendar}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(a1,a2,a3){(a3||a2)()}),function(f,define){define("kendo.popup",["kendo.core"],f)}(function(){var __meta___id="popup",__meta___name="Pop-up",__meta___category="framework",__meta___depends=["core"],__meta___advanced=!0;return function($,undefined){var kendo=window.kendo,ui=kendo.ui,Widget=ui.Widget,Class=kendo.Class,support=kendo.support,getOffset=kendo.getOffset,outerWidth=kendo._outerWidth,outerHeight=kendo._outerHeight,OPEN="open",CLOSE="close",DEACTIVATE="deactivate",ACTIVATE="activate",CENTER="center",LEFT="left",RIGHT="right",TOP="top",BOTTOM="bottom",ABSOLUTE="absolute",HIDDEN="hidden",BODY="body",LOCATION="location",POSITION="position",VISIBLE="visible",EFFECTS="effects",ACTIVE="k-state-active",ACTIVEBORDER="k-state-border",ACTIVEBORDERREGEXP=/k-state-border-(\w+)/,ACTIVECHILDREN=".k-picker-wrap, .k-dropdown-wrap, .k-link",MOUSEDOWN="down",DOCUMENT_ELEMENT=$(document.documentElement),proxy=$.proxy,WINDOW=$(window),SCROLL="scroll",cssPrefix,TRANSFORM=support.transitions.css+"transform",extend=$.extend,NS=".kendoPopup",styles=["font-size","font-family","font-stretch","font-style","font-weight","line-height"];function contains(container,target){return!(!container||!target)&&(container===target||$.contains(container,target))}var Popup=Widget.extend({init:function(element,options){var that=this,parentPopup;(options=options||{}).isRtl&&(options.origin=options.origin||"bottom right",options.position=options.position||"top right"),Widget.fn.init.call(that,element,options),element=that.element,options=that.options,that.collisions=options.collision?options.collision.split(" "):[],that.downEvent=kendo.applyEventMap("down",kendo.guid()),1===that.collisions.length&&that.collisions.push(that.collisions[0]),parentPopup=$(that.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])"),options.appendTo=$($(options.appendTo)[0]||parentPopup[0]||document.body),that.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!options.isRtl).css({position:ABSOLUTE}).appendTo(options.appendTo).on("mouseenter"+NS,function(){that._hovered=!0}).on("mouseleave"+NS,function(){that._hovered=!1}),that.wrapper=$(),!1===options.animation&&(options.animation={open:{effects:{}},close:{hide:!0,effects:{}}}),extend(options.animation.open,{complete:function(){that.wrapper.css({overflow:VISIBLE}),that._activated=!0,that._trigger(ACTIVATE)}}),extend(options.animation.close,{complete:function(){that._animationClose()}}),that._mousedownProxy=function(e){that._mousedown(e)},support.mobileOS.android?that._resizeProxy=function(e){setTimeout(function(){that._resize(e)},600)}:that._resizeProxy=function(e){that._resize(e)},options.toggleTarget&&$(options.toggleTarget).on(options.toggleEvent+NS,$.proxy(that.toggle,that))},events:[OPEN,ACTIVATE,CLOSE,DEACTIVATE],options:{name:"Popup",toggleEvent:"click",origin:"bottom left",position:"top left",anchor:BODY,appendTo:null,collision:"flip fit",viewport:window,copyAnchorStyles:!0,autosize:!1,modal:!1,adjustSize:{width:0,height:0},animation:{open:{effects:"slideIn:down",transition:!0,duration:200},close:{duration:100,hide:!0}}},_animationClose:function(){var that=this,location=this.wrapper.data(LOCATION);this.wrapper.hide(),location&&this.wrapper.css(location),this.options.anchor!=BODY&&this._hideDirClass(),this._closing=!1,this._trigger(DEACTIVATE)},destroy:function(){var that=this,options=this.options,element=this.element.off(NS),parent;Widget.fn.destroy.call(this),options.toggleTarget&&$(options.toggleTarget).off(NS),options.modal||(DOCUMENT_ELEMENT.unbind(this.downEvent,this._mousedownProxy),this._toggleResize(!1)),kendo.destroy(this.element.children()),element.removeData(),options.appendTo[0]===document.body&&((parent=element.parent(".k-animation-container"))[0]?parent.remove():element.remove())},open:function(x,y){var that=this,fixed={isFixed:!isNaN(parseInt(y,10)),x:x,y:y},element=this.element,options=this.options,animation,wrapper,anchor=$(options.anchor),mobile=element[0]&&element.hasClass("km-widget");if(!this.visible()){if(options.copyAnchorStyles&&(mobile&&"font-size"==styles[0]&&styles.shift(),element.css(kendo.getComputedStyles(anchor[0],styles))),element.data("animating")||this._trigger(OPEN))return;this._activated=!1,options.modal||(DOCUMENT_ELEMENT.unbind(this.downEvent,this._mousedownProxy).bind(this.downEvent,this._mousedownProxy),this._toggleResize(!1),this._toggleResize(!0)),this.wrapper=wrapper=kendo.wrap(element,options.autosize).css({overflow:HIDDEN,display:"block",position:ABSOLUTE}),support.mobileOS.android&&wrapper.css(TRANSFORM,"translatez(0)"),wrapper.css(POSITION),$(options.appendTo)[0]==document.body&&wrapper.css(TOP,"-10000px"),this.flipped=this._position(fixed),animation=this._openAnimation(),options.anchor!=BODY&&this._showDirClass(animation),element.data(EFFECTS,animation.effects).kendoStop(!0).kendoAnimate(animation)}},_location:function(isFixed){var that=this,element=this.element,options=this.options,wrapper,anchor=$(options.anchor),mobile=element[0]&&element.hasClass("km-widget");options.copyAnchorStyles&&(mobile&&"font-size"==styles[0]&&styles.shift(),element.css(kendo.getComputedStyles(anchor[0],styles))),this.wrapper=wrapper=kendo.wrap(element,options.autosize).css({overflow:HIDDEN,display:"block",position:ABSOLUTE}),support.mobileOS.android&&wrapper.css(TRANSFORM,"translatez(0)"),wrapper.css(POSITION),$(options.appendTo)[0]==document.body&&wrapper.css(TOP,"-10000px"),this._position(isFixed||{});var offset=wrapper.offset();return{width:kendo._outerWidth(wrapper),height:kendo._outerHeight(wrapper),left:offset.left,top:offset.top}},_openAnimation:function(){var animation=extend(!0,{},this.options.animation.open);return animation.effects=kendo.parseEffects(animation.effects,this.flipped),animation},_hideDirClass:function(){var anchor=$(this.options.anchor),direction=((anchor.attr("class")||"").match(ACTIVEBORDERREGEXP)||["","down"])[1],dirClass=ACTIVEBORDER+"-"+direction;anchor.removeClass(dirClass).children(ACTIVECHILDREN).removeClass(ACTIVE).removeClass(dirClass),this.element.removeClass(ACTIVEBORDER+"-"+kendo.directions[direction].reverse)},_showDirClass:function(animation){var direction=animation.effects.slideIn?animation.effects.slideIn.direction:"down",dirClass=ACTIVEBORDER+"-"+direction;$(this.options.anchor).addClass(dirClass).children(ACTIVECHILDREN).addClass(ACTIVE).addClass(dirClass),this.element.addClass(ACTIVEBORDER+"-"+kendo.directions[direction].reverse)},position:function(){this.visible()&&(this.flipped=this._position())},toggle:function(){var that=this;this[this.visible()?CLOSE:OPEN]()},visible:function(){return this.element.is(":visible")},close:function(skipEffects){var that=this,options=this.options,wrap,animation,openEffects,closeEffects;if(this.visible()){if(wrap=this.wrapper[0]?this.wrapper:kendo.wrap(this.element).hide(),this._toggleResize(!1),this._closing||this._trigger(CLOSE))return void this._toggleResize(!0);this.element.find(".k-popup").each(function(){var that,popup=$(this).data("kendoPopup");popup&&popup.close(skipEffects)}),DOCUMENT_ELEMENT.unbind(this.downEvent,this._mousedownProxy),skipEffects?animation={hide:!0,effects:{}}:(animation=extend(!0,{},options.animation.close),openEffects=this.element.data(EFFECTS),!(closeEffects=animation.effects)&&!kendo.size(closeEffects)&&openEffects&&kendo.size(openEffects)&&(animation.effects=openEffects,animation.reverse=!0),this._closing=!0),this.element.kendoStop(!0),wrap.css({overflow:HIDDEN}),this.element.kendoAnimate(animation),skipEffects&&this._animationClose()}},_trigger:function(ev){return this.trigger(ev,{type:ev})},_resize:function(e){var that=this;-1!==support.resize.indexOf(e.type)?(clearTimeout(that._resizeTimeout),that._resizeTimeout=setTimeout(function(){that._position(),that._resizeTimeout=null},50)):(!that._hovered||that._activated&&that.element.hasClass("k-list-container"))&&that.close()},_toggleResize:function(toggle){var method=toggle?"on":"off",eventNames=support.resize;support.mobileOS.ios||support.mobileOS.android||(eventNames+=" scroll"),this._scrollableParents()[method](SCROLL,this._resizeProxy),WINDOW[method](eventNames,this._resizeProxy)},_mousedown:function(e){var that=this,container=this.element[0],options=this.options,anchor=$(options.anchor)[0],toggleTarget=options.toggleTarget,target=kendo.eventTarget(e),popup=$(target).closest(".k-popup"),mobile=popup.parent().parent(".km-shim").length;popup=popup[0],!mobile&&popup&&popup!==this.element[0]||"popover"!==$(e.target).closest("a").data("rel")&&(contains(container,target)||contains(anchor,target)||toggleTarget&&contains($(toggleTarget)[0],target)||this.close())},_fit:function(position,size,viewPortSize){var output=0;return position+size>viewPortSize&&(output=viewPortSize-(position+size)),position<0&&(output=-position),output},_flip:function(offset,size,anchorSize,viewPortSize,origin,position,boxSize){var output=0;return boxSize=boxSize||size,position!==origin&&position!==CENTER&&origin!==CENTER&&(offset+boxSize>viewPortSize&&(output+=-(anchorSize+size)),offset+output<0&&(output+=anchorSize+size)),output},_scrollableParents:function(){return $(this.options.anchor).parentsUntil("body").filter(function(index,element){return kendo.isScrollable(element)})},_position:function(fixed){var that=this,element=this.element,wrapper=this.wrapper,options=this.options,viewport=$(options.viewport),zoomLevel=support.zoomLevel(),isWindow=!!(viewport[0]==window&&window.innerWidth&&zoomLevel<=1.02),anchor=$(options.anchor),origins=options.origin.toLowerCase().split(" "),positions=options.position.toLowerCase().split(" "),collisions=this.collisions,siblingContainer,parents,parentZIndex,zIndex=10002,idx=0,docEl=document.documentElement,length,viewportOffset,viewportWidth,viewportHeight,sign;(viewportOffset=options.viewport===window?{top:window.pageYOffset||document.documentElement.scrollTop||0,left:window.pageXOffset||document.documentElement.scrollLeft||0}:viewport.offset(),isWindow?(viewportWidth=window.innerWidth,viewportHeight=window.innerHeight):(viewportWidth=viewport.width(),viewportHeight=viewport.height()),isWindow&&docEl.scrollHeight-docEl.clientHeight>0)&&(viewportWidth-=(options.isRtl?-1:1)*kendo.support.scrollbar());if((siblingContainer=anchor.parents().filter(wrapper.siblings()))[0])if(parentZIndex=Math.max(Number(siblingContainer.css("zIndex")),0))zIndex=parentZIndex+10;else for(length=(parents=anchor.parentsUntil(siblingContainer)).length;idx<length;idx++)(parentZIndex=Number($(parents[idx]).css("zIndex")))&&zIndex<parentZIndex&&(zIndex=parentZIndex+10);wrapper.css("zIndex",zIndex),fixed&&fixed.isFixed?wrapper.css({left:fixed.x,top:fixed.y}):wrapper.css(this._align(origins,positions));var pos=getOffset(wrapper,POSITION,anchor[0]===wrapper.offsetParent()[0]),offset=getOffset(wrapper),anchorParent;anchor.offsetParent().parent(".k-animation-container,.k-popup,.k-group").length&&(pos=getOffset(wrapper,POSITION,!0),offset=getOffset(wrapper)),offset.top-=viewportOffset.top,offset.left-=viewportOffset.left,this.wrapper.data(LOCATION)||wrapper.data(LOCATION,extend({},pos));var offsets=extend({},offset),location=extend({},pos),adjustSize=options.adjustSize;"fit"===collisions[0]&&(location.top+=this._fit(offsets.top,outerHeight(wrapper)+adjustSize.height,viewportHeight/zoomLevel)),"fit"===collisions[1]&&(location.left+=this._fit(offsets.left,outerWidth(wrapper)+adjustSize.width,viewportWidth/zoomLevel));var flipPos=extend({},location),elementHeight=outerHeight(element),wrapperHeight=outerHeight(wrapper);return!wrapper.height()&&elementHeight&&(wrapperHeight+=elementHeight),"flip"===collisions[0]&&(location.top+=this._flip(offsets.top,elementHeight,outerHeight(anchor),viewportHeight/zoomLevel,origins[0],positions[0],wrapperHeight)),"flip"===collisions[1]&&(location.left+=this._flip(offsets.left,outerWidth(element),outerWidth(anchor),viewportWidth/zoomLevel,origins[1],positions[1],outerWidth(wrapper))),element.css(POSITION,ABSOLUTE),wrapper.css(location),location.left!=flipPos.left||location.top!=flipPos.top},_align:function(origin,position){var that=this,element=this.wrapper,anchor=$(this.options.anchor),verticalOrigin=origin[0],horizontalOrigin=origin[1],verticalPosition=position[0],horizontalPosition=position[1],anchorOffset=getOffset(anchor),appendTo=$(this.options.appendTo),appendToOffset,width=outerWidth(element),height=outerHeight(element),anchorWidth=outerWidth(anchor),anchorHeight=outerHeight(anchor),top=anchorOffset.top,left=anchorOffset.left,round=Math.round;return appendTo[0]!=document.body&&(top-=(appendToOffset=getOffset(appendTo)).top,left-=appendToOffset.left),verticalOrigin===BOTTOM&&(top+=anchorHeight),verticalOrigin===CENTER&&(top+=round(anchorHeight/2)),verticalPosition===BOTTOM&&(top-=height),verticalPosition===CENTER&&(top-=round(height/2)),horizontalOrigin===RIGHT&&(left+=anchorWidth),horizontalOrigin===CENTER&&(left+=round(anchorWidth/2)),horizontalPosition===RIGHT&&(left-=width),horizontalPosition===CENTER&&(left-=round(width/2)),{top:top,left:left}}});ui.plugin(Popup);var tabKeyTrapNS="kendoTabKeyTrap",focusableNodesSelector="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex], *[contenteditable]",TabKeyTrap=Class.extend({init:function(element){this.element=$(element),this.element.autoApplyNS(tabKeyTrapNS)},trap:function(){this.element.on("keydown",proxy(this._keepInTrap,this))},removeTrap:function(){this.element.kendoDestroy(tabKeyTrapNS)},destroy:function(){this.element.kendoDestroy(tabKeyTrapNS),this.element=void 0},shouldTrap:function(){return!0},_keepInTrap:function(e){if(9===e.which&&this.shouldTrap()){var target=e.target,elements,focusableItems=this.element.find(focusableNodesSelector).filter(":visible[tabindex!=-1]").sort(function(prevEl,nextEl){return prevEl.tabIndex-nextEl.tabIndex}),focusableItemsCount,lastIndex=focusableItems.length-1,focusedItemIndex=focusableItems.index(target);e.shiftKey?0===focusedItemIndex?focusableItems.get(lastIndex).focus():focusableItems.get(focusedItemIndex-1).focus():focusedItemIndex===lastIndex?focusableItems.get(0).focus():focusableItems.get(focusedItemIndex+1).focus(),e.preventDefault()}}});ui.Popup.TabKeyTrap=TabKeyTrap}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(a1,a2,a3){(a3||a2)()}),function(f,define){define("kendo.datepicker",["kendo.calendar","kendo.popup"],f)}(function(){var __meta___id="datepicker",__meta___name="DatePicker",__meta___category="web",__meta___description="The DatePicker widget allows the user to select a date from a calendar or by direct input.",__meta___depends=["calendar","popup"];return function($,undefined){var kendo=window.kendo,ui=kendo.ui,Widget=ui.Widget,parse=kendo.parseDate,keys=kendo.keys,template=kendo.template,activeElement=kendo._activeElement,DIV="<div />",SPAN="<span />",ns=".kendoDatePicker",CLICK="click"+ns,OPEN="open",CLOSE="close",CHANGE="change",DISABLED="disabled",READONLY="readonly",DEFAULT="k-state-default",FOCUSED="k-state-focused",SELECTED="k-state-selected",STATEDISABLED="k-state-disabled",HOVER="k-state-hover",HOVEREVENTS="mouseenter"+ns+" mouseleave"+ns,MOUSEDOWN="mousedown"+ns,ID="id",MIN="min",MAX="max",MONTH="month",ARIA_DISABLED="aria-disabled",ARIA_EXPANDED="aria-expanded",ARIA_HIDDEN="aria-hidden",calendar=kendo.calendar,isInRange=calendar.isInRange,restrictValue=calendar.restrictValue,isEqualDatePart=calendar.isEqualDatePart,extend=$.extend,proxy=$.proxy,DATE=Date;function normalize(options){var parseFormats=options.parseFormats,format=options.format;calendar.normalize(options),(parseFormats=$.isArray(parseFormats)?parseFormats:[parseFormats]).length||parseFormats.push("yyyy-MM-dd"),-1===$.inArray(format,parseFormats)&&parseFormats.splice(0,0,options.format),options.parseFormats=parseFormats}function preventDefault(e){e.preventDefault()}var DateView=function(options){var that=this,id,body=document.body,div=$(DIV).attr(ARIA_HIDDEN,"true").addClass("k-calendar-container").appendTo(body);this.options=options=options||{},(id=options.id)&&(id+="_dateview",div.attr(ID,id),this._dateViewID=id),this.popup=new ui.Popup(div,extend(options.popup,options,{name:"Popup",isRtl:kendo.support.isRtl(options.anchor)})),this.div=div,this.value(options.value)};DateView.prototype={_calendar:function(){var that=this,calendar=this.calendar,options=this.options,div;calendar||(div=$(DIV).attr(ID,kendo.guid()).appendTo(this.popup.element).on(MOUSEDOWN,preventDefault).on(CLICK,"td:has(.k-link)",proxy(this._click,this)),this.calendar=calendar=new ui.Calendar(div),this._setOptions(options),kendo.calendar.makeUnselectable(calendar.element),calendar.navigate(this._value||this._current,options.start),this.value(this._value))},_setOptions:function(options){this.calendar.setOptions({focusOnNav:!1,change:options.change,culture:options.culture,dates:options.dates,depth:options.depth,footer:options.footer,format:options.format,max:options.max,min:options.min,month:options.month,weekNumber:options.weekNumber,start:options.start,disableDates:options.disableDates})},setOptions:function(options){var old=this.options,disableDates=options.disableDates;disableDates&&(options.disableDates=calendar.disabled(disableDates)),this.options=extend(old,options,{change:old.change,close:old.close,open:old.open}),this.calendar&&this._setOptions(this.options)},destroy:function(){this.popup.destroy()},open:function(){var that=this;this._calendar(),this.popup.open()},close:function(){this.popup.close()},min:function(value){this._option(MIN,value)},max:function(value){this._option(MAX,value)},toggle:function(){var that=this;this[this.popup.visible()?CLOSE:OPEN]()},move:function(e){var that=this,key=e.keyCode,calendar=this.calendar,selectIsClicked=e.ctrlKey&&key==keys.DOWN||key==keys.ENTER,handled=!1;if(e.altKey)key==keys.DOWN?(this.open(),e.preventDefault(),handled=!0):key==keys.UP&&(this.close(),e.preventDefault(),handled=!0);else if(this.popup.visible()){if(key==keys.ESC||selectIsClicked&&calendar._cell.hasClass(SELECTED))return this.close(),e.preventDefault(),!0;this._current=calendar._move(e),handled=!0}return handled},current:function(date){this._current=date,this.calendar._focus(date)},value:function(value){var that=this,calendar=this.calendar,options=this.options,disabledDate=options.disableDates;disabledDate&&disabledDate(value)&&(value=null),this._value=value,this._current=new DATE(+restrictValue(value,options.min,options.max)),calendar&&calendar.value(value)},_click:function(e){-1!==e.currentTarget.className.indexOf(SELECTED)&&this.close()},_option:function(option,value){var that=this,calendar=this.calendar;this.options[option]=value,calendar&&calendar[option](value)}},DateView.normalize=normalize,kendo.DateView=DateView;var DatePicker=Widget.extend({init:function(element,options){var that=this,disabled,div;Widget.fn.init.call(that,element,options),element=that.element,(options=that.options).disableDates=kendo.calendar.disabled(options.disableDates),options.min=parse(element.attr("min"))||parse(options.min),options.max=parse(element.attr("max"))||parse(options.max),normalize(options),that._initialOptions=extend({},options),that._wrapper(),that.dateView=new DateView(extend({},options,{id:element.attr(ID),anchor:that.wrapper,change:function(){that._change(this.value()),that.close()},close:function(e){that.trigger(CLOSE)?e.preventDefault():(element.attr(ARIA_EXPANDED,!1),div.attr(ARIA_HIDDEN,!0))},open:function(e){var options=that.options,date;that.trigger(OPEN)?e.preventDefault():(that.element.val()!==that._oldText&&(date=parse(element.val(),options.parseFormats,options.culture),that.dateView[date?"current":"value"](date)),element.attr(ARIA_EXPANDED,!0),div.attr(ARIA_HIDDEN,!1),that._updateARIA(date))}})),div=that.dateView.div,that._icon();try{element[0].setAttribute("type","text")}catch(e){element[0].type="text"}element.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":that.dateView._dateViewID}),that._reset(),that._template(),(disabled=element.is("[disabled]")||$(that.element).parents("fieldset").is(":disabled"))?that.enable(!1):that.readonly(element.is("[readonly]")),options.dateInput&&(that._dateInput=new ui.DateInput(element,{culture:options.culture,format:options.format,min:options.min,max:options.max,value:options.value})),that._old=that._update(options.value||that.element.val()),that._oldText=element.val(),kendo.notify(that)},events:[OPEN,CLOSE,CHANGE],options:{name:"DatePicker",value:null,footer:"",format:"",culture:"",parseFormats:[],min:new Date(1900,0,1),max:new Date(2099,11,31),start:MONTH,depth:MONTH,animation:{},month:{},dates:[],ARIATemplate:'Current focused date is #=kendo.toString(data.current, "D")#',dateInput:!1},setOptions:function(options){var that=this,value=this._value;Widget.fn.setOptions.call(this,options),(options=this.options).min=parse(options.min),options.max=parse(options.max),normalize(options),this.dateView.setOptions(options),this._dateInput&&this._dateInput.setOptions({culture:options.culture,format:options.format,min:options.min,max:options.max,value:options.value}),value&&(this.element.val(kendo.toString(value,options.format,options.culture)),this._updateARIA(value))},_editable:function(options){var that=this,icon=that._dateIcon.off(ns),element=that.element.off(ns),wrapper=that._inputWrapper.off(ns),readonly=options.readonly,disable=options.disable;readonly||disable?(wrapper.addClass(disable?STATEDISABLED:DEFAULT).removeClass(disable?DEFAULT:STATEDISABLED),element.attr(DISABLED,disable).attr(READONLY,readonly).attr(ARIA_DISABLED,disable)):(wrapper.addClass(DEFAULT).removeClass(STATEDISABLED).on(HOVEREVENTS,that._toggleHover),element.removeAttr(DISABLED).removeAttr(READONLY).attr(ARIA_DISABLED,!1).on("keydown"+ns,proxy(that._keydown,that)).on("focusout"+ns,proxy(that._blur,that)).on("focus"+ns,function(){that._inputWrapper.addClass(FOCUSED)}),icon.on(CLICK,proxy(that._click,that)).on(MOUSEDOWN,preventDefault))},readonly:function(readonly){this._editable({readonly:void 0===readonly||readonly,disable:!1})},enable:function(enable){this._editable({readonly:!1,disable:!(enable=void 0===enable||enable)})},destroy:function(){var that=this;Widget.fn.destroy.call(this),this.dateView.destroy(),this.element.off(ns),this._dateIcon.off(ns),this._inputWrapper.off(ns),this._form&&this._form.off("reset",this._resetHandler)},open:function(){this.dateView.open()},close:function(){this.dateView.close()},min:function(value){return this._option(MIN,value)},max:function(value){return this._option(MAX,value)},value:function(value){var that=this;if(void 0===value)return this._value;this._old=this._update(value),null===this._old&&this.element.val(""),this._oldText=this.element.val()},_toggleHover:function(e){$(e.currentTarget).toggleClass(HOVER,"mouseenter"===e.type)},_blur:function(){var that=this,value=this.element.val();this.close(),value!==this._oldText&&this._change(value),this._inputWrapper.removeClass(FOCUSED)},_click:function(){var that=this,element=this.element;this.dateView.toggle(),kendo.support.touch||element[0]===activeElement()||element.focus()},_change:function(value){var that=this,oldValue=this.element.val(),dateChanged;value=this._update(value);var valueUpdated=(dateChanged=!kendo.calendar.isEqualDate(this._old,value))&&!this._typing,textFormatted=oldValue!==this.element.val();(valueUpdated||textFormatted)&&this.element.trigger(CHANGE),dateChanged&&(this._old=value,this._oldText=this.element.val(),this.trigger(CHANGE)),this._typing=!1},_keydown:function(e){var that=this,dateView=this.dateView,value=this.element.val(),handled=!1;dateView.popup.visible()||e.keyCode!=keys.ENTER||value===this._oldText?(handled=dateView.move(e),this._updateARIA(dateView._current),handled?this._dateInput&&e.stopImmediatePropagation&&e.stopImmediatePropagation():this._typing=!0):this._change(value)},_icon:function(){var that=this,element=this.element,icon;(icon=element.next("span.k-select"))[0]||(icon=$('<span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-calendar"></span></span>').insertAfter(element)),this._dateIcon=icon.attr({role:"button","aria-controls":this.dateView._dateViewID})},_option:function(option,value){var that=this,options=this.options;if(void 0===value)return options[option];(value=parse(value,options.parseFormats,options.culture))&&(options[option]=new DATE(+value),this.dateView[option](value))},_update:function(value){var that=this,options=this.options,min=options.min,max=options.max,current=this._value,date=parse(value,options.parseFormats,options.culture),isSameType=null===date&&null===current||date instanceof Date&&current instanceof Date,formattedValue;return options.disableDates(date)&&(date=null,this._old||this.element.val()||(value=null)),+date==+current&&isSameType?((formattedValue=kendo.toString(date,options.format,options.culture))!==value&&this.element.val(null===date?value:formattedValue),date):(null!==date&&isEqualDatePart(date,min)?date=restrictValue(date,min,max):isInRange(date,min,max)||(date=null),this._value=date,this.dateView.value(date),this._dateInput?this._dateInput.value(date||value):this.element.val(kendo.toString(date||value,options.format,options.culture)),this._updateARIA(date),date)},_wrapper:function(){var that=this,element=this.element,wrapper;(wrapper=element.parents(".k-datepicker"))[0]||(wrapper=(wrapper=element.wrap(SPAN).parent().addClass("k-picker-wrap k-state-default")).wrap(SPAN).parent()),wrapper[0].style.cssText=element[0].style.cssText,element.css({width:"100%",height:element[0].style.height}),this.wrapper=wrapper.addClass("k-widget k-datepicker k-header").addClass(element[0].className),this._inputWrapper=$(wrapper[0].firstChild)},_reset:function(){var that=this,element=that.element,formId=element.attr("form"),form=formId?$("#"+formId):element.closest("form");form[0]&&(that._resetHandler=function(){that.value(element[0].defaultValue),that.max(that._initialOptions.max),that.min(that._initialOptions.min)},that._form=form.on("reset",that._resetHandler))},_template:function(){this._ariaTemplate=template(this.options.ARIATemplate)},_updateARIA:function(date){var cell,that=this,calendar=this.dateView.calendar;this.element.removeAttr("aria-activedescendant"),calendar&&((cell=calendar._cell).attr("aria-label",this._ariaTemplate({current:date||calendar.current()})),this.element.attr("aria-activedescendant",cell.attr("id")))}});ui.plugin(DatePicker)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(a1,a2,a3){(a3||a2)()}),function(f,define){define("kendo.timepicker",["kendo.popup"],f)}(function(){var __meta___id="timepicker",__meta___name="TimePicker",__meta___category="web",__meta___description="The TimePicker widget allows the end user to select a value from a list of predefined values or to type a new value.",__meta___depends=["popup"];return function($,undefined){var kendo=window.kendo,keys=kendo.keys,parse=kendo.parseDate,activeElement=kendo._activeElement,extractFormat=kendo._extractFormat,support=kendo.support,browser=support.browser,ui=kendo.ui,Widget=ui.Widget,OPEN="open",CLOSE="close",CHANGE="change",ns=".kendoTimePicker",CLICK="click"+ns,DEFAULT="k-state-default",DISABLED="disabled",READONLY="readonly",LI="li",SPAN="<span/>",FOCUSED="k-state-focused",HOVER="k-state-hover",HOVEREVENTS="mouseenter"+ns+" mouseleave"+ns,MOUSEDOWN="mousedown"+ns,MS_PER_MINUTE=6e4,MS_PER_DAY=864e5,SELECTED="k-state-selected",STATEDISABLED="k-state-disabled",ARIA_SELECTED="aria-selected",ARIA_EXPANDED="aria-expanded",ARIA_HIDDEN="aria-hidden",ARIA_DISABLED="aria-disabled",ARIA_ACTIVEDESCENDANT="aria-activedescendant",ID="id",isArray=$.isArray,extend=$.extend,proxy=$.proxy,DATE=Date,TODAY=new DATE;TODAY=new DATE(TODAY.getFullYear(),TODAY.getMonth(),TODAY.getDate(),0,0,0);var TimeView=function(options){var that=this,id=options.id;this.options=options,this._dates=[],this.ul=$('<ul tabindex="-1" role="listbox" aria-hidden="true" unselectable="on" class="k-list k-reset"/>').css({overflow:support.kineticScrollNeeded?"":"auto"}).on(CLICK,LI,proxy(this._click,this)).on("mouseenter"+ns,LI,function(){$(this).addClass(HOVER)}).on("mouseleave"+ns,LI,function(){$(this).removeClass(HOVER)}),this.list=$("<div class='k-list-container k-list-scroller' unselectable='on'/>").append(this.ul).on(MOUSEDOWN,preventDefault),id&&(this._timeViewID=id+"_timeview",this._optionID=id+"_option_selected",this.ul.attr(ID,this._timeViewID)),this._popup(),this._heightHandler=proxy(this._height,this),this.template=kendo.template('<li tabindex="-1" role="option" class="k-item" unselectable="on">#=data#</li>',{useWithBlock:!1})};function setTime(date,time,ignoreDST){var offset=date.getTimezoneOffset(),offsetDiff;date.setTime(date.getTime()+time),ignoreDST||(offsetDiff=date.getTimezoneOffset()-offset,date.setTime(date.getTime()+offsetDiff*MS_PER_MINUTE))}function dst(){var today=new DATE,midnight=new DATE(today.getFullYear(),today.getMonth(),today.getDate(),0,0,0),noon=new DATE(today.getFullYear(),today.getMonth(),today.getDate(),12,0,0);return-1*(midnight.getTimezoneOffset()-noon.getTimezoneOffset())}function getMilliseconds(date){return 60*date.getHours()*MS_PER_MINUTE+date.getMinutes()*MS_PER_MINUTE+1e3*date.getSeconds()+date.getMilliseconds()}function isInRange(value,min,max){var msMin=getMilliseconds(min),msMax=getMilliseconds(max),msValue;return!value||msMin==msMax||(msMin>(msValue=getMilliseconds(value))&&(msValue+=MS_PER_DAY),msMax<msMin&&(msMax+=MS_PER_DAY),msValue>=msMin&&msValue<=msMax)}TimeView.prototype={current:function(candidate){var that=this,active=this.options.active;if(void 0===candidate)return this._current;this._current&&this._current.removeClass(SELECTED).removeAttr(ARIA_SELECTED).removeAttr(ID),candidate&&(candidate=$(candidate).addClass(SELECTED).attr(ID,this._optionID).attr(ARIA_SELECTED,!0),this.scroll(candidate[0])),this._current=candidate,active&&active(candidate)},close:function(){this.popup.close()},destroy:function(){var that=this;this.ul.off(ns),this.list.off(ns),this.popup.destroy()},open:function(){var that=this;this.ul[0].firstChild||this.bind(),this.popup.open(),this._current&&this.scroll(this._current[0])},dataBind:function(dates){for(var that=this,options=this.options,format=options.format,toString=kendo.toString,template=this.template,length=dates.length,idx=0,date,html="";idx<length;idx++)isInRange(date=dates[idx],options.min,options.max)&&(html+=template(toString(date,format,options.culture)));this._html(html)},refresh:function(){var that=this,options=this.options,format=options.format,offset=dst(),ignoreDST=offset<0,min=options.min,max=options.max,msMin=getMilliseconds(min),msMax=getMilliseconds(max),msInterval=options.interval*MS_PER_MINUTE,toString=kendo.toString,template=this.template,start=new DATE(+min),startDay=start.getDate(),msStart,lastIdx,idx=0,length,html="";for(length=ignoreDST?(MS_PER_DAY+offset*MS_PER_MINUTE)/msInterval:MS_PER_DAY/msInterval,msMin!=msMax&&(msMin>msMax&&(msMax+=MS_PER_DAY),length=(msMax-msMin)/msInterval+1),lastIdx=parseInt(length,10);idx<length;idx++)idx&&setTime(start,msInterval,ignoreDST),msMax&&lastIdx==idx&&(msStart=getMilliseconds(start),startDay<start.getDate()&&(msStart+=MS_PER_DAY),msStart>msMax&&(start=new DATE(+max))),this._dates.push(getMilliseconds(start)),html+=template(toString(start,format,options.culture));this._html(html)},bind:function(){var that=this,dates=this.options.dates;dates&&dates[0]?this.dataBind(dates):this.refresh()},_html:function(html){var that=this;this.ul[0].innerHTML=html,this.popup.unbind(OPEN,this._heightHandler),this.popup.one(OPEN,this._heightHandler),this.current(null),this.select(this._value)},scroll:function(item){if(item){var content=this.list[0],itemOffsetTop=item.offsetTop,itemOffsetHeight=item.offsetHeight,contentScrollTop=content.scrollTop,contentOffsetHeight=content.clientHeight,bottomDistance=itemOffsetTop+itemOffsetHeight;contentScrollTop>itemOffsetTop?contentScrollTop=itemOffsetTop:bottomDistance>contentScrollTop+contentOffsetHeight&&(contentScrollTop=bottomDistance-contentOffsetHeight),content.scrollTop=contentScrollTop}},select:function(li){var that=this,options=this.options,current=this._current,selection;li instanceof Date&&(li=kendo.toString(li,options.format,options.culture)),"string"==typeof li&&(li=current&&current.text()===li?current:(li=$.grep(this.ul[0].childNodes,function(node){return(node.textContent||node.innerText)==li}))[0]?li:null),selection=this._distinctSelection(li),this.current(selection)},_distinctSelection:function(selection){var that=this,currentValue,selectionIndex;return selection&&selection.length>1&&(currentValue=getMilliseconds(this._value),selectionIndex=$.inArray(currentValue,this._dates),selection=this.ul.children()[selectionIndex]),selection},setOptions:function(options){var old=this.options;options.min=parse(options.min),options.max=parse(options.max),this.options=extend(old,options,{active:old.active,change:old.change,close:old.close,open:old.open}),this.bind()},toggle:function(){var that=this;this.popup.visible()?this.close():this.open()},value:function(value){var that=this;this._value=value,this.ul[0].firstChild&&this.select(value)},_click:function(e){var that=this,li=$(e.currentTarget),date=li.text(),dates=this.options.dates;dates&&dates.length>0&&(date=dates[li.index()]),e.isDefaultPrevented()||(this.select(li),this.options.change(date,!0),this.close())},_height:function(){var that=this,list=this.list,parent=list.parent(".k-animation-container"),height=this.options.height;this.ul[0].children.length&&list.add(parent).show().height(this.ul[0].scrollHeight>height?height:"auto").hide()},_parse:function(value){var that=this,options=this.options,current=this._value||TODAY;return value instanceof DATE?value:((value=parse(value,options.parseFormats,options.culture))&&(value=new DATE(current.getFullYear(),current.getMonth(),current.getDate(),value.getHours(),value.getMinutes(),value.getSeconds(),value.getMilliseconds())),value)},_adjustListWidth:function(){var list=this.list,width=list[0].style.width,wrapper=this.options.anchor,computedStyle,computedWidth,outerWidth=kendo._outerWidth;!list.data("width")&&width||(computedWidth=(computedStyle=window.getComputedStyle?window.getComputedStyle(wrapper[0],null):0)?parseFloat(computedStyle.width):outerWidth(wrapper),computedStyle&&(browser.mozilla||browser.msie)&&(computedWidth+=parseFloat(computedStyle.paddingLeft)+parseFloat(computedStyle.paddingRight)+parseFloat(computedStyle.borderLeftWidth)+parseFloat(computedStyle.borderRightWidth)),width=computedWidth-(outerWidth(list)-list.width()),list.css({fontFamily:wrapper.css("font-family"),width:width}).data("width",width))},_popup:function(){var that=this,list=this.list,options=this.options,anchor=options.anchor;this.popup=new ui.Popup(list,extend(options.popup,{anchor:anchor,open:options.open,close:options.close,animation:options.animation,isRtl:support.isRtl(options.anchor)}))},move:function(e){var that=this,key=e.keyCode,ul=this.ul[0],current=this._current,down=key===keys.DOWN;if(key===keys.UP||down){if(e.altKey)return void this.toggle(down);(current=down?current?current[0].nextSibling:ul.firstChild:current?current[0].previousSibling:ul.lastChild)&&this.select(current),this.options.change(this._current.text()),e.preventDefault()}else key!==keys.ENTER&&key!==keys.TAB&&key!==keys.ESC||(e.preventDefault(),current&&this.options.change(current.text(),!0),this.close())}},TimeView.getMilliseconds=getMilliseconds,kendo.TimeView=TimeView;var TimePicker=Widget.extend({init:function(element,options){var that=this,ul,timeView,disabled;Widget.fn.init.call(that,element,options),element=that.element,(options=that.options).min=parse(element.attr("min"))||parse(options.min),options.max=parse(element.attr("max"))||parse(options.max),normalize(options),that._initialOptions=extend({},options),that._wrapper(),that.timeView=timeView=new TimeView(extend({},options,{id:element.attr(ID),anchor:that.wrapper,format:options.format,change:function(value,trigger){trigger?that._change(value):element.val(value)},open:function(e){that.timeView._adjustListWidth(),that.trigger(OPEN)?e.preventDefault():(element.attr(ARIA_EXPANDED,!0),ul.attr(ARIA_HIDDEN,!1))},close:function(e){that.trigger(CLOSE)?e.preventDefault():(element.attr(ARIA_EXPANDED,!1),ul.attr(ARIA_HIDDEN,!0))},active:function(current){element.removeAttr(ARIA_ACTIVEDESCENDANT),current&&element.attr(ARIA_ACTIVEDESCENDANT,timeView._optionID)}})),ul=timeView.ul,that._icon(),that._reset();try{element[0].setAttribute("type","text")}catch(e){element[0].type="text"}if(element.addClass("k-input").attr({role:"combobox","aria-expanded":!1,"aria-owns":timeView._timeViewID}),(disabled=element.is("[disabled]")||$(that.element).parents("fieldset").is(":disabled"))?that.enable(!1):that.readonly(element.is("[readonly]")),options.dateInput){var min=options.min,max=options.max,today=new DATE;getMilliseconds(min)==getMilliseconds(max)?(min=new DATE(today.getFullYear(),today.getMonth(),today.getDate(),0,0,0),max=new DATE(today.getFullYear(),today.getMonth(),today.getDate(),24,0,0)):(min=new DATE(today.getFullYear(),today.getMonth(),today.getDate(),min.getHours(),min.getMinutes(),min.getSeconds(),min.getMilliseconds()),max=new DATE(today.getFullYear(),today.getMonth(),today.getDate(),max.getHours(),max.getMinutes(),max.getSeconds(),max.getMilliseconds())),that._dateInput=new ui.DateInput(element,{culture:options.culture,format:options.format,min:min,max:max,value:options.value})}that._old=that._update(options.value||that.element.val()),that._oldText=element.val(),kendo.notify(that)},options:{name:"TimePicker",min:TODAY,max:TODAY,format:"",dates:[],parseFormats:[],value:null,interval:30,height:200,animation:{}},events:[OPEN,CLOSE,CHANGE],setOptions:function(options){var that=this,value=this._value;Widget.fn.setOptions.call(this,options),normalize(options=this.options),this.timeView.setOptions(options),value&&this.element.val(kendo.toString(value,options.format,options.culture))},dataBind:function(dates){isArray(dates)&&this.timeView.dataBind(dates)},_editable:function(options){var that=this,disable=options.disable,readonly=options.readonly,arrow=that._arrow.off(ns),element=that.element.off(ns),wrapper=that._inputWrapper.off(ns);readonly||disable?(wrapper.addClass(disable?STATEDISABLED:DEFAULT).removeClass(disable?DEFAULT:STATEDISABLED),element.attr(DISABLED,disable).attr(READONLY,readonly).attr(ARIA_DISABLED,disable)):(wrapper.addClass(DEFAULT).removeClass(STATEDISABLED).on(HOVEREVENTS,that._toggleHover),element.removeAttr(DISABLED).removeAttr(READONLY).attr(ARIA_DISABLED,!1).on("keydown"+ns,proxy(that._keydown,that)).on("focusout"+ns,proxy(that._blur,that)).on("focus"+ns,function(){that._inputWrapper.addClass(FOCUSED)}),arrow.on(CLICK,proxy(that._click,that)).on(MOUSEDOWN,preventDefault))},readonly:function(readonly){this._editable({readonly:void 0===readonly||readonly,disable:!1})},enable:function(enable){this._editable({readonly:!1,disable:!(enable=void 0===enable||enable)})},destroy:function(){var that=this;Widget.fn.destroy.call(this),this.timeView.destroy(),this.element.off(ns),this._arrow.off(ns),this._inputWrapper.off(ns),this._form&&this._form.off("reset",this._resetHandler)},close:function(){this.timeView.close()},open:function(){this.timeView.open()},min:function(value){return this._option("min",value)},max:function(value){return this._option("max",value)},value:function(value){var that=this;if(void 0===value)return this._value;this._old=this._update(value),null===this._old&&this.element.val(""),this._oldText=this.element.val()},_blur:function(){var that=this,value=this.element.val();this.close(),value!==this._oldText&&this._change(value),this._inputWrapper.removeClass(FOCUSED)},_click:function(){var that=this,element=this.element;this.timeView.toggle(),support.touch||element[0]===activeElement()||element.focus()},_change:function(value){var that=this;value=this._update(value),+this._old!=+value&&(this._old=value,this._oldText=this.element.val(),this._typing||this.element.trigger(CHANGE),this.trigger(CHANGE)),this._typing=!1},_icon:function(){var that=this,element=this.element,arrow;(arrow=element.next("span.k-select"))[0]||(arrow=$('<span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-clock"></span></span>').insertAfter(element)),this._arrow=arrow.attr({role:"button","aria-controls":this.timeView._timeViewID})},_keydown:function(e){var that=this,key=e.keyCode,timeView=this.timeView,value=this.element.val();timeView.popup.visible()||e.altKey?(timeView.move(e),this._dateInput&&e.stopImmediatePropagation&&e.stopImmediatePropagation()):key===keys.ENTER&&value!==this._oldText?this._change(value):this._typing=!0},_option:function(option,value){var that=this,options=this.options;if(void 0===value)return options[option];(value=this.timeView._parse(value))&&(value=new DATE(+value),options[option]=value,this.timeView.options[option]=value,this.timeView.bind())},_toggleHover:function(e){$(e.currentTarget).toggleClass(HOVER,"mouseenter"===e.type)},_update:function(value){var that=this,options=this.options,timeView=this.timeView,date=timeView._parse(value);return isInRange(date,options.min,options.max)||(date=null),this._value=date,this._dateInput?this._dateInput.value(date||value):this.element.val(kendo.toString(date||value,options.format,options.culture)),timeView.value(date),date},_wrapper:function(){var that=this,element=this.element,wrapper;(wrapper=element.parents(".k-timepicker"))[0]||(wrapper=(wrapper=element.wrap(SPAN).parent().addClass("k-picker-wrap k-state-default")).wrap(SPAN).parent()),wrapper[0].style.cssText=element[0].style.cssText,this.wrapper=wrapper.addClass("k-widget k-timepicker k-header").addClass(element[0].className),element.css({width:"100%",height:element[0].style.height}),this._inputWrapper=$(wrapper[0].firstChild)},_reset:function(){var that=this,element=that.element,formId=element.attr("form"),form=formId?$("#"+formId):element.closest("form");form[0]&&(that._resetHandler=function(){that.value(element[0].defaultValue),that.max(that._initialOptions.max),that.min(that._initialOptions.min)},that._form=form.on("reset",that._resetHandler))}});function normalize(options){var parseFormats=options.parseFormats;options.format=extractFormat(options.format||kendo.getCulture(options.culture).calendars.standard.patterns.t),(parseFormats=isArray(parseFormats)?parseFormats:[parseFormats]).splice(0,0,options.format),options.parseFormats=parseFormats}function preventDefault(e){e.preventDefault()}ui.plugin(TimePicker)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(a1,a2,a3){(a3||a2)()}),function(f,define){define("kendo.datetimepicker",["kendo.datepicker","kendo.timepicker"],f)}(function(){var __meta___id="datetimepicker",__meta___name="DateTimePicker",__meta___category="web",__meta___description="The DateTimePicker allows the end user to select a value from a calendar or a time drop-down list.",__meta___depends=["datepicker","timepicker"];return function($,undefined){var kendo=window.kendo,TimeView=kendo.TimeView,parse=kendo.parseDate,activeElement=kendo._activeElement,extractFormat=kendo._extractFormat,calendar=kendo.calendar,isInRange=calendar.isInRange,restrictValue=calendar.restrictValue,isEqualDatePart=calendar.isEqualDatePart,getMilliseconds=TimeView.getMilliseconds,ui=kendo.ui,Widget=ui.Widget,OPEN="open",CLOSE="close",CHANGE="change",ns=".kendoDateTimePicker",CLICK="click"+ns,DISABLED="disabled",READONLY="readonly",DEFAULT="k-state-default",FOCUSED="k-state-focused",HOVER="k-state-hover",STATEDISABLED="k-state-disabled",HOVEREVENTS="mouseenter"+ns+" mouseleave"+ns,MOUSEDOWN="mousedown"+ns,MONTH="month",SPAN="<span/>",ARIA_ACTIVEDESCENDANT="aria-activedescendant",ARIA_EXPANDED="aria-expanded",ARIA_HIDDEN="aria-hidden",ARIA_OWNS="aria-owns",ARIA_DISABLED="aria-disabled",DATE=Date,MIN=new DATE(1800,0,1),MAX=new DATE(2099,11,31),dateViewParams={view:"date"},timeViewParams={view:"time"},extend=$.extend,DateTimePicker=Widget.extend({init:function(element,options){var that=this,disabled;Widget.fn.init.call(this,element,options),element=this.element,(options=this.options).disableDates=kendo.calendar.disabled(options.disableDates),options.min=parse(element.attr("min"))||parse(options.min),options.max=parse(element.attr("max"))||parse(options.max),normalize(options),this._initialOptions=extend({},options),this._wrapper(),this._views(),this._icons(),this._reset(),this._template();try{element[0].setAttribute("type","text")}catch(e){element[0].type="text"}element.addClass("k-input").attr({role:"combobox","aria-expanded":!1}),this._midnight=this._calculateMidnight(options.min,options.max),(disabled=element.is("[disabled]")||$(this.element).parents("fieldset").is(":disabled"))?this.enable(!1):this.readonly(element.is("[readonly]")),options.dateInput&&(this._dateInput=new ui.DateInput(element,{culture:options.culture,format:options.format,min:options.min,max:options.max,value:options.value})),this._old=this._update(options.value||this.element.val()),this._oldText=element.val(),kendo.notify(this)},options:{name:"DateTimePicker",value:null,format:"",timeFormat:"",culture:"",parseFormats:[],dates:[],min:new DATE(MIN),max:new DATE(MAX),interval:30,height:200,footer:"",start:MONTH,depth:MONTH,animation:{},month:{},ARIATemplate:'Current focused date is #=kendo.toString(data.current, "d")#',dateButtonText:"Open the date view",timeButtonText:"Open the time view"},events:[OPEN,CLOSE,CHANGE],setOptions:function(options){var that=this,value=this._value,min,max,currentValue;Widget.fn.setOptions.call(this,options),(options=this.options).min=min=parse(options.min),options.max=max=parse(options.max),normalize(options),this._midnight=this._calculateMidnight(options.min,options.max),currentValue=options.value||this._value||this.dateView._current,min&&!isEqualDatePart(min,currentValue)&&(min=new DATE(MIN)),max&&!isEqualDatePart(max,currentValue)&&(max=new DATE(MAX)),this.dateView.setOptions(options),this.timeView.setOptions(extend({},options,{format:options.timeFormat,min:min,max:max})),value&&(this.element.val(kendo.toString(value,options.format,options.culture)),this._updateARIA(value))},_editable:function(options){var that=this,element=that.element.off(ns),dateIcon=that._dateIcon.off(ns),timeIcon=that._timeIcon.off(ns),wrapper=that._inputWrapper.off(ns),readonly=options.readonly,disable=options.disable;readonly||disable?(wrapper.addClass(disable?STATEDISABLED:DEFAULT).removeClass(disable?DEFAULT:STATEDISABLED),element.attr(DISABLED,disable).attr(READONLY,readonly).attr(ARIA_DISABLED,disable)):(wrapper.addClass(DEFAULT).removeClass(STATEDISABLED).on(HOVEREVENTS,that._toggleHover),element.removeAttr(DISABLED).removeAttr(READONLY).attr(ARIA_DISABLED,!1).on("keydown"+ns,$.proxy(that._keydown,that)).on("focus"+ns,function(){that._inputWrapper.addClass(FOCUSED)}).on("focusout"+ns,function(){that._inputWrapper.removeClass(FOCUSED),element.val()!==that._oldText&&that._change(element.val()),that.close("date"),that.close("time")}),dateIcon.on(MOUSEDOWN,preventDefault).on(CLICK,function(){that.toggle("date"),kendo.support.touch||element[0]===activeElement()||element.focus()}),timeIcon.on(MOUSEDOWN,preventDefault).on(CLICK,function(){that.toggle("time"),kendo.support.touch||element[0]===activeElement()||element.focus()}))},readonly:function(readonly){this._editable({readonly:void 0===readonly||readonly,disable:!1})},enable:function(enable){this._editable({readonly:!1,disable:!(enable=void 0===enable||enable)})},destroy:function(){var that=this;Widget.fn.destroy.call(this),this.dateView.destroy(),this.timeView.destroy(),this.element.off(ns),this._dateIcon.off(ns),this._timeIcon.off(ns),this._inputWrapper.off(ns),this._form&&this._form.off("reset",this._resetHandler)},close:function(view){"time"!==view&&(view="date"),this[view+"View"].close()},open:function(view){"time"!==view&&(view="date"),this[view+"View"].open()},min:function(value){return this._option("min",value)},max:function(value){return this._option("max",value)},toggle:function(view){var secondView="timeView";"time"!==view?view="date":secondView="dateView",this[view+"View"].toggle(),this[secondView].close()},value:function(value){var that=this;if(void 0===value)return this._value;this._old=this._update(value),null===this._old&&this.element.val(""),this._oldText=this.element.val()},_change:function(value){var that=this,oldValue=this.element.val(),dateChanged;value=this._update(value);var valueUpdated=(dateChanged=+this._old!=+value)&&!this._typing,textFormatted=oldValue!==this.element.val();(valueUpdated||textFormatted)&&this.element.trigger(CHANGE),dateChanged&&(this._old=value,this._oldText=this.element.val(),this.trigger(CHANGE)),this._typing=!1},_option:function(option,value){var that=this,options=this.options,timeView=this.timeView,timeViewOptions=timeView.options,current=this._value||this._old,minDateEqual,maxDateEqual;if(void 0===value)return options[option];if(value=parse(value,options.parseFormats,options.culture)){if(options.min.getTime()===options.max.getTime()&&(timeViewOptions.dates=[]),options[option]=new DATE(value.getTime()),this.dateView[option](value),this._midnight=this._calculateMidnight(options.min,options.max),current&&(minDateEqual=isEqualDatePart(options.min,current),maxDateEqual=isEqualDatePart(options.max,current)),minDateEqual||maxDateEqual){if(timeViewOptions[option]=value,minDateEqual&&!maxDateEqual&&(timeViewOptions.max=lastTimeOption(options.interval)),maxDateEqual){if(this._midnight)return void timeView.dataBind([MAX]);minDateEqual||(timeViewOptions.min=MIN)}}else timeViewOptions.max=MAX,timeViewOptions.min=MIN;timeView.bind()}},_toggleHover:function(e){$(e.currentTarget).toggleClass(HOVER,"mouseenter"===e.type)},_update:function(value){var that=this,options=this.options,min=options.min,max=options.max,dates=options.dates,timeView=this.timeView,current=this._value,date=parse(value,options.parseFormats,options.culture),isSameType=null===date&&null===current||date instanceof Date&&current instanceof Date,rebind,timeViewOptions,old,skip,formattedValue;return options.disableDates&&options.disableDates(date)&&(date=null,this._old||this.element.val()||(value=null)),+date==+current&&isSameType?((formattedValue=kendo.toString(date,options.format,options.culture))!==value&&(this.element.val(null===date?value:formattedValue),value instanceof String&&this.element.trigger(CHANGE)),date):(null!==date&&isEqualDatePart(date,min)?date=restrictValue(date,min,max):isInRange(date,min,max)||(date=null),this._value=date,timeView.value(date),this.dateView.value(date),date&&(old=this._old,timeViewOptions=timeView.options,dates[0]&&(dates=$.grep(dates,function(d){return isEqualDatePart(date,d)}))[0]&&(timeView.dataBind(dates),skip=!0),skip||(isEqualDatePart(date,min)&&(timeViewOptions.min=min,timeViewOptions.max=lastTimeOption(options.interval),rebind=!0),isEqualDatePart(date,max)&&(this._midnight?(timeView.dataBind([MAX]),skip=!0):(timeViewOptions.max=max,rebind||(timeViewOptions.min=MIN),rebind=!0))),!skip&&(!old&&rebind||old&&!isEqualDatePart(old,date))&&(rebind||(timeViewOptions.max=MAX,timeViewOptions.min=MIN),timeView.bind())),this._dateInput?this._dateInput.value(date||value):this.element.val(kendo.toString(date||value,options.format,options.culture)),this._updateARIA(date),date)},_keydown:function(e){var that=this,dateView=this.dateView,timeView=this.timeView,value=this.element.val(),isDateViewVisible=dateView.popup.visible(),stopPropagation=this._dateInput&&e.stopImmediatePropagation;e.altKey&&e.keyCode===kendo.keys.DOWN?this.toggle(isDateViewVisible?"time":"date"):isDateViewVisible?(dateView.move(e),this._updateARIA(dateView._current)):timeView.popup.visible()?timeView.move(e):e.keyCode===kendo.keys.ENTER&&value!==this._oldText?this._change(value):(this._typing=!0,stopPropagation=!1),stopPropagation&&e.stopImmediatePropagation()},_views:function(){var that=this,element=that.element,options=that.options,id=element.attr("id"),dateView,timeView,div,ul,msMin,date;that.dateView=dateView=new kendo.DateView(extend({},options,{id:id,anchor:that.wrapper,change:function(){var value=dateView.calendar.value(),msValue=+value,msMin=+options.min,msMax=+options.max,current,adjustedDate;msValue!==msMin&&msValue!==msMax||(current=msValue===msMin?msMin:msMax,(current=new DATE(that._value||current)).setFullYear(value.getFullYear(),value.getMonth(),value.getDate()),isInRange(current,msMin,msMax)&&(value=current)),that._value&&(adjustedDate=kendo.date.setHours(new Date(value),that._value),isInRange(adjustedDate,msMin,msMax)&&(value=adjustedDate)),that._change(value),that.close("date")},close:function(e){that.trigger(CLOSE,dateViewParams)?e.preventDefault():(element.attr(ARIA_EXPANDED,!1),div.attr(ARIA_HIDDEN,!0),timeView.popup.visible()||element.removeAttr(ARIA_OWNS))},open:function(e){that.trigger(OPEN,dateViewParams)?e.preventDefault():(element.val()!==that._oldText&&(date=parse(element.val(),options.parseFormats,options.culture),that.dateView[date?"current":"value"](date)),div.attr(ARIA_HIDDEN,!1),element.attr(ARIA_EXPANDED,!0).attr(ARIA_OWNS,dateView._dateViewID),that._updateARIA(date))}})),div=dateView.div,msMin=options.min.getTime(),that.timeView=timeView=new TimeView({id:id,value:options.value,anchor:that.wrapper,animation:options.animation,format:options.timeFormat,culture:options.culture,height:options.height,interval:options.interval,min:new DATE(MIN),max:new DATE(MAX),dates:msMin===options.max.getTime()?[new Date(msMin)]:[],parseFormats:options.parseFormats,change:function(value,trigger){(value=timeView._parse(value))<options.min?(value=new DATE(+options.min),timeView.options.min=value):value>options.max&&(value=new DATE(+options.max),timeView.options.max=value),trigger?(that._timeSelected=!0,that._change(value)):(element.val(kendo.toString(value,options.format,options.culture)),dateView.value(value),that._updateARIA(value))},close:function(e){that.trigger(CLOSE,timeViewParams)?e.preventDefault():(ul.attr(ARIA_HIDDEN,!0),element.attr(ARIA_EXPANDED,!1),dateView.popup.visible()||element.removeAttr(ARIA_OWNS))},open:function(e){timeView._adjustListWidth(),that.trigger(OPEN,timeViewParams)?e.preventDefault():(element.val()!==that._oldText&&(date=parse(element.val(),options.parseFormats,options.culture),that.timeView.value(date)),ul.attr(ARIA_HIDDEN,!1),element.attr(ARIA_EXPANDED,!0).attr(ARIA_OWNS,timeView._timeViewID),timeView.options.active(timeView.current()))},active:function(current){element.removeAttr(ARIA_ACTIVEDESCENDANT),current&&element.attr(ARIA_ACTIVEDESCENDANT,timeView._optionID)}}),ul=timeView.ul},_icons:function(){var that=this,element=this.element,options=this.options,icons;(icons=element.next("span.k-select"))[0]||(icons=$('<span unselectable="on" class="k-select"><span class="k-link k-link-date" aria-label="'+options.dateButtonText+'"><span unselectable="on" class="k-icon k-i-calendar"></span></span><span class="k-link k-link-time" aria-label="'+options.timeButtonText+'"><span unselectable="on" class="k-icon k-i-clock"></span></span></span>').insertAfter(element)),icons=(icons=icons.children()).children(),this._dateIcon=icons.eq(0).attr("aria-controls",this.dateView._dateViewID),this._timeIcon=icons.eq(1).attr("aria-controls",this.timeView._timeViewID)},_wrapper:function(){var that=this,element=this.element,wrapper;(wrapper=element.parents(".k-datetimepicker"))[0]||(wrapper=(wrapper=element.wrap(SPAN).parent().addClass("k-picker-wrap k-state-default")).wrap(SPAN).parent()),wrapper[0].style.cssText=element[0].style.cssText,element.css({width:"100%",height:element[0].style.height}),this.wrapper=wrapper.addClass("k-widget k-datetimepicker k-header").addClass(element[0].className),this._inputWrapper=$(wrapper[0].firstChild)},_reset:function(){var that=this,element=that.element,formId=element.attr("form"),form=formId?$("#"+formId):element.closest("form");form[0]&&(that._resetHandler=function(){that.value(element[0].defaultValue),that.max(that._initialOptions.max),that.min(that._initialOptions.min)},that._form=form.on("reset",that._resetHandler))},_template:function(){this._ariaTemplate=kendo.template(this.options.ARIATemplate)},_calculateMidnight:function(min,max){return getMilliseconds(min)+getMilliseconds(max)===0},_updateARIA:function(date){var cell,that=this,calendar=this.dateView.calendar;this.element.removeAttr(ARIA_ACTIVEDESCENDANT),calendar&&((cell=calendar._cell).attr("aria-label",this._ariaTemplate({current:date||calendar.current()})),this.element.attr(ARIA_ACTIVEDESCENDANT,cell.attr("id")))}});function lastTimeOption(interval){var date=new Date(2100,0,1);return date.setMinutes(-interval),date}function preventDefault(e){e.preventDefault()}function normalize(options){var patterns=kendo.getCulture(options.culture).calendars.standard.patterns,parseFormats=!options.parseFormats.length,timeFormat;options.format=extractFormat(options.format||patterns.g),options.timeFormat=timeFormat=extractFormat(options.timeFormat||patterns.t),kendo.DateView.normalize(options),parseFormats&&options.parseFormats.unshift("yyyy-MM-ddTHH:mm:ss"),-1===$.inArray(timeFormat,options.parseFormats)&&options.parseFormats.push(timeFormat)}ui.plugin(DateTimePicker)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(a1,a2,a3){(a3||a2)()}),function(f,define){define("kendo.list",["kendo.data","kendo.popup"],f)}(function(){var __meta___id="list",__meta___name="List",__meta___category="framework",__meta___depends=["data","popup"],__meta___hidden=!0;return function($,undefined){var kendo=window.kendo,ui=kendo.ui,outerWidth=kendo._outerWidth,outerHeight=kendo._outerHeight,Widget=ui.Widget,keys=kendo.keys,support=kendo.support,htmlEncode=kendo.htmlEncode,activeElement=kendo._activeElement,ObservableArray=kendo.data.ObservableArray,ID="id",CHANGE="change",FOCUSED="k-state-focused",HOVER="k-state-hover",LOADING="k-i-loading",HIDDENCLASS="k-hidden",GROUPHEADER=".k-group-header",LABELIDPART="_label",OPEN="open",CLOSE="close",CASCADE="cascade",SELECT="select",SELECTED="selected",REQUESTSTART="requestStart",REQUESTEND="requestEnd",WIDTH="width",extend=$.extend,proxy=$.proxy,isArray=$.isArray,browser=support.browser,isIE=browser.msie,isIE8=isIE&&browser.version<9,quotRegExp=/"/g,alternativeNames={ComboBox:"DropDownList",DropDownList:"ComboBox"},List=kendo.ui.DataBoundWidget.extend({init:function(element,options){var that=this,ns=this.ns,id;Widget.fn.init.call(this,element,options),element=this.element,options=this.options,this._isSelect=element.is(SELECT),this._isSelect&&this.element[0].length&&(options.dataSource||(options.dataTextField=options.dataTextField||"text",options.dataValueField=options.dataValueField||"value")),this.ul=$('<ul unselectable="on" class="k-list k-reset"/>').attr({tabIndex:-1,"aria-hidden":!0}),this.list=$("<div class='k-list-container'/>").append(this.ul).on("mousedown"+ns,proxy(this._listMousedown,this)),(id=element.attr(ID))&&(this.list.attr(ID,id+"-list"),this.ul.attr(ID,id+"_listbox")),this._header(),this._noData(),this._footer(),this._accessors(),this._initValue()},options:{valuePrimitive:!1,footerTemplate:"",headerTemplate:"",noDataTemplate:"No data found."},setOptions:function(options){Widget.fn.setOptions.call(this,options),options&&options.enable!==undefined&&(options.enabled=options.enable),this._header(),this._noData(),this._footer(),this._renderFooter(),this._renderNoData()},focus:function(){this._focused.focus()},readonly:function(readonly){this._editable({readonly:readonly===undefined||readonly,disable:!1})},enable:function(enable){this._editable({readonly:!1,disable:!(enable=enable===undefined||enable)})},_listOptions:function(options){var that=this,currentOptions=that.options,virtual=currentOptions.virtual,listBoundHandler=proxy(that._listBound,that);return virtual="object"==typeof virtual?virtual:{},(options=$.extend({autoBind:!1,selectable:!0,dataSource:that.dataSource,click:proxy(that._click,that),change:proxy(that._listChange,that),activate:proxy(that._activateItem,that),deactivate:proxy(that._deactivateItem,that),dataBinding:function(){that.trigger("dataBinding")},dataBound:listBoundHandler,height:currentOptions.height,dataValueField:currentOptions.dataValueField,dataTextField:currentOptions.dataTextField,groupTemplate:currentOptions.groupTemplate,fixedGroupTemplate:currentOptions.fixedGroupTemplate,template:currentOptions.template},options,virtual)).template||(options.template="#:"+kendo.expr(options.dataTextField,"data")+"#"),currentOptions.$angular&&(options.$angular=currentOptions.$angular),options},_initList:function(){var that=this,listOptions=this._listOptions({selectedItemChange:proxy(this._listChange,this)});this.options.virtual?this.listView=new kendo.ui.VirtualList(this.ul,listOptions):this.listView=new kendo.ui.StaticList(this.ul,listOptions),this.listView.bind("listBound",proxy(this._listBound,this)),this._setListValue()},_setListValue:function(value){(value=value||this.options.value)!==undefined&&this.listView.value(value).done(proxy(this._updateSelectionState,this))},_updateSelectionState:$.noop,_listMousedown:function(e){this.filterInput&&this.filterInput[0]===e.target||e.preventDefault()},_isFilterEnabled:function(){var filter=this.options.filter;return filter&&"none"!==filter},_hideClear:function(){var that=this;this._clear&&this._clear.addClass("k-hidden")},_showClear:function(){var that=this;this._clear&&this._clear.removeClass("k-hidden")},_clearValue:function(){this._clearText(),this._accessor(""),this.listView.value([]),this._isFilterEnabled()&&!this.options.enforceMinLength&&this._filter({word:"",open:!1}),this._change()},_clearText:function(){this.text("")},_clearFilter:function(){this.options.virtual||this.listView.bound(!1),this._filterSource()},_filterSource:function(filter,force){var that=this,options=this.options,dataSource=this.dataSource,expression=extend({},dataSource.filter()||{}),resetPageSettings=filter||expression.filters&&expression.filters.length&&!filter,removed=removeFiltersForField(expression,options.dataTextField);if(!filter&&!removed||!this.trigger("filtering",{filter:filter})){var newExpression={filters:[],logic:"and"};isValidFilterExpr(filter)&&newExpression.filters.push(filter),isValidFilterExpr(expression)&&(newExpression.logic===expression.logic?newExpression.filters=newExpression.filters.concat(expression.filters):newExpression.filters.push(expression)),this._cascading&&this.listView.setDSFilter(newExpression);var dataSourceState=extend({},{page:resetPageSettings?1:dataSource.page(),pageSize:resetPageSettings?dataSource.options.pageSize:dataSource.pageSize(),sort:dataSource.sort(),filter:dataSource.filter(),group:dataSource.group(),aggregate:dataSource.aggregate()},{filter:newExpression});dataSource[force?"read":"query"](dataSource._mergeState(dataSourceState))}},_angularElement:function(element,action){element&&this.angular(action,function(){return{elements:element}})},_noData:function(){var noData=$(this.noData),template=this.options.noDataTemplate;this.angular("cleanup",function(){return{elements:noData}}),kendo.destroy(noData),noData.remove(),template?(this.noData=$('<div class="k-nodata" style="display:none"><div></div></div>').appendTo(this.list),this.noDataTemplate="function"!=typeof template?kendo.template(template):template):this.noData=null},_renderNoData:function(){var noData=this.noData;noData&&(this._angularElement(noData,"cleanup"),noData.children(":first").html(this.noDataTemplate({instance:this})),this._angularElement(noData,"compile"))},_toggleNoData:function(show){$(this.noData).toggle(show)},_toggleHeader:function(show){var groupHeader;this.listView.content.prev(GROUPHEADER).toggle(show)},_footer:function(){var footer=$(this.footer),template=this.options.footerTemplate;this._angularElement(footer,"cleanup"),kendo.destroy(footer),footer.remove(),template?(this.footer=$('<div class="k-footer"></div>').appendTo(this.list),this.footerTemplate="function"!=typeof template?kendo.template(template):template):this.footer=null},_renderFooter:function(){var footer=this.footer;footer&&(this._angularElement(footer,"cleanup"),footer.html(this.footerTemplate({instance:this})),this._angularElement(footer,"compile"))},_header:function(){var header=$(this.header),template=this.options.headerTemplate;if(this._angularElement(header,"cleanup"),kendo.destroy(header),header.remove(),template){var headerTemplate="function"!=typeof template?kendo.template(template):template;header=$(headerTemplate({})),this.header=header[0]?header:null,this.list.prepend(header),this._angularElement(this.header,"compile")}else this.header=null},_allowOpening:function(){return this.options.noDataTemplate||this.dataSource.flatView().length},_initValue:function(){var that=this,value=this.options.value;null!==value?this.element.val(value):(value=this._accessor(),this.options.value=value),this._old=value},_ignoreCase:function(){var that=this,model=this.dataSource.reader.model,field;model&&model.fields&&(field=model.fields[this.options.dataTextField])&&field.type&&"string"!==field.type&&(this.options.ignoreCase=!1)},_focus:function(candidate){return this.listView.focus(candidate)},_filter:function(options){var that=this,widgetOptions=this.options,ignoreCase=widgetOptions.ignoreCase,field=widgetOptions.dataTextField,expression={value:ignoreCase?options.word.toLowerCase():options.word,field:field,operator:widgetOptions.filter,ignoreCase:ignoreCase};this._open=options.open,this._filterSource(expression)},search:function(word){var options=this.options;word="string"==typeof word?word:this._inputValue(),clearTimeout(this._typingTimeout),(!options.enforceMinLength&&!word.length||word.length>=options.minLength)&&(this._state="filter",this._isFilterEnabled()?this._filter({word:word,open:!0}):this._searchByWord(word))},current:function(candidate){return this._focus(candidate)},items:function(){return this.ul[0].children},destroy:function(){var that=this,ns=this.ns;Widget.fn.destroy.call(this),this._unbindDataSource(),this.listView.destroy(),this.list.off(ns),this.popup.destroy(),this._form&&this._form.off("reset",this._resetHandler)},dataItem:function(index){var that=this;if(index===undefined)return this.listView.selectedDataItems()[0];if("number"!=typeof index){if(this.options.virtual)return this.dataSource.getByUid($(index).data("uid"));index=$(this.items()).index(index)}return this.dataSource.flatView()[index]},_activateItem:function(){var current=this.listView.focus();current&&this._focused.add(this.filterInput).attr("aria-activedescendant",current.attr("id"))},_deactivateItem:function(){this._focused.add(this.filterInput).removeAttr("aria-activedescendant")},_accessors:function(){var that=this,element=this.element,options=this.options,getter=kendo.getter,textField=element.attr(kendo.attr("text-field")),valueField=element.attr(kendo.attr("value-field"));!options.dataTextField&&textField&&(options.dataTextField=textField),!options.dataValueField&&valueField&&(options.dataValueField=valueField),this._text=getter(options.dataTextField),this._value=getter(options.dataValueField)},_aria:function(id){var that=this,options=this.options,element=this._focused.add(this.filterInput);options.suggest!==undefined&&element.attr("aria-autocomplete",options.suggest?"both":"list"),id=id?id+" "+this.ul[0].id:this.ul[0].id,element.attr("aria-owns",id),this.ul.attr("aria-live",this._isFilterEnabled()?"polite":"off"),this._ariaLabel()},_ariaLabel:function(){var that=this,focusedElm=this._focused,inputElm=this.element,inputId=inputElm.attr("id"),labelElm=$("label[for='"+inputId+"']"),ariaLabel=inputElm.attr("aria-label"),ariaLabelledBy=inputElm.attr("aria-labelledby");if(focusedElm!==inputElm)if(ariaLabel)focusedElm.attr("aria-label",ariaLabel);else if(ariaLabelledBy)focusedElm.attr("aria-labelledby",ariaLabelledBy);else if(labelElm.length){var labelId=labelElm.attr("id")||this._generateLabelId(labelElm,inputId);focusedElm.attr("aria-labelledby",labelId)}},_generateLabelId:function(label,inputId){var labelId=inputId+"_label";return label.attr("id",labelId),labelId},_blur:function(){var that=this;this._change(),this.close()},_change:function(){var that=this,index=this.selectedIndex,optionValue=this.options.value,value=this.value(),trigger;this._isSelect&&!this.listView.bound()&&optionValue&&(value=optionValue),value!==unifyType(this._old,typeof value)?trigger=!0:index!==undefined&&index!==this._oldIndex&&(trigger=!0),trigger&&(this._old=value,this._oldIndex=index,this._typing||this.element.trigger(CHANGE),this.trigger(CHANGE)),this.typing=!1},_data:function(){return this.dataSource.view()},_enable:function(){var that=this,options=this.options,disabled=this.element.is("[disabled]");options.enable!==undefined&&(options.enabled=options.enable),!options.enabled||disabled?this.enable(!1):this.readonly(this.element.is("[readonly]"))},_dataValue:function(dataItem){var value=this._value(dataItem);return value===undefined&&(value=this._text(dataItem)),value},_offsetHeight:function(){var offsetHeight=0,siblings;return this.listView.content.prevAll(":visible").each(function(){var element=$(this);offsetHeight+=outerHeight(element,!0)}),offsetHeight},_height:function(length){var that=this,list=this.list,height=this.options.height,visible=this.popup.visible(),offsetTop,popups,footerHeight;if(length||this.options.noDataTemplate){if(popups=list.add(list.parent(".k-animation-container")).show(),!list.is(":visible"))return void popups.hide();height=this.listView.content[0].scrollHeight>height?height:"auto",popups.height(height),"auto"!==height&&(height=height-(offsetTop=this._offsetHeight())-(footerHeight=outerHeight($(this.footer))||0)),this.listView.content.height(height),visible||popups.hide()}return height},_adjustListWidth:function(){var list=this.list,width=list[0].style.width,wrapper=this.wrapper,computedStyle,computedWidth;if(list.data(WIDTH)||!width)return computedStyle=window.getComputedStyle?window.getComputedStyle(wrapper[0],null):0,computedWidth=parseFloat(computedStyle&&computedStyle.width)||outerWidth(wrapper),computedStyle&&browser.msie&&(computedWidth+=parseFloat(computedStyle.paddingLeft)+parseFloat(computedStyle.paddingRight)+parseFloat(computedStyle.borderLeftWidth)+parseFloat(computedStyle.borderRightWidth)),width="border-box"!==list.css("box-sizing")?computedWidth-(outerWidth(list)-list.width()):computedWidth,list.css({fontFamily:wrapper.css("font-family"),width:this.options.autoWidth?"auto":width,minWidth:width}).data(WIDTH,width),!0},_openHandler:function(e){this._adjustListWidth(),this.trigger(OPEN)?e.preventDefault():(this._focused.attr("aria-expanded",!0),this.ul.attr("aria-hidden",!1))},_closeHandler:function(e){this.trigger(CLOSE)?e.preventDefault():(this._focused.attr("aria-expanded",!1),this.ul.attr("aria-hidden",!0))},_focusItem:function(){var listView=this.listView,noFocusedItem=!listView.focus(),index=last(listView.select());index===undefined&&this.options.highlightFirst&&noFocusedItem&&(index=0),index!==undefined?listView.focus(index):noFocusedItem&&listView.scrollToIndex(0)},_calculateGroupPadding:function(height){var li=this.ul.children(".k-first:first"),groupHeader=this.listView.content.prev(GROUPHEADER),padding=0;groupHeader[0]&&"none"!==groupHeader[0].style.display&&("auto"!==height&&(padding=kendo.support.scrollbar()),padding+=parseFloat(li.css("border-right-width"),10)+parseFloat(li.children(".k-group").css("padding-right"),10),groupHeader.css("padding-right",padding))},_calculatePopupHeight:function(force){var height=this._height(this.dataSource.flatView().length||force);this._calculateGroupPadding(height)},_resizePopup:function(force){this.options.virtual||(this.popup.element.is(":visible")?this._calculatePopupHeight(force):this.popup.one("open",function(force){return proxy(function(){this._calculatePopupHeight(force)},this)}.call(this,force)))},_popup:function(){var that=this;this.popup=new ui.Popup(this.list,extend({},this.options.popup,{anchor:this.wrapper,open:proxy(this._openHandler,this),close:proxy(this._closeHandler,this),animation:this.options.animation,isRtl:support.isRtl(this.wrapper),autosize:this.options.autoWidth}))},_makeUnselectable:function(){isIE8&&this.list.find("*").not(".k-textbox").attr("unselectable","on")},_toggleHover:function(e){$(e.currentTarget).toggleClass(HOVER,"mouseenter"===e.type)},_toggle:function(open,preventFocus){var that=this,touchEnabled=support.mobileOS&&(support.touch||support.MSPointers||support.pointers);open=open!==undefined?open:!this.popup.visible(),preventFocus||touchEnabled||this._focused[0]===activeElement()||(this._prevent=!0,this._focused.focus(),this._prevent=!1),this[open?OPEN:CLOSE]()},_triggerCascade:function(){var that=this;this._cascadeTriggered&&this._old===this.value()&&this._oldIndex===this.selectedIndex||(this._cascadeTriggered=!0,this.trigger(CASCADE,{userTriggered:this._userTriggered}))},_triggerChange:function(){this._valueBeforeCascade!==this.value()&&this.trigger(CHANGE)},_unbindDataSource:function(){var that=this;this.dataSource.unbind(REQUESTSTART,this._requestStartHandler).unbind(REQUESTEND,this._requestEndHandler).unbind("error",this._errorHandler)},requireValueMapper:function(options,value){var hasValue;if(((options.value instanceof Array?options.value.length:options.value)||(value instanceof Array?value.length:value))&&options.virtual&&"function"!=typeof options.virtual.valueMapper)throw new Error("ValueMapper is not provided while the value is being set. See http://docs.telerik.com/kendo-ui/controls/editors/combobox/virtualization#the-valuemapper-function")}});function unifyType(value,type){return value!==undefined&&""!==value&&null!==value&&("boolean"===type?value=Boolean(value):"number"===type?value=Number(value):"string"===type&&(value=value.toString())),value}extend(List,{inArray:function(node,parentNode){var idx,length,siblings=parentNode.children;if(!node||node.parentNode!==parentNode)return-1;for(idx=0,length=siblings.length;idx<length;idx++)if(node===siblings[idx])return idx;return-1},unifyType:unifyType}),kendo.ui.List=List,ui.Select=List.extend({init:function(element,options){List.fn.init.call(this,element,options),this._initial=this.element.val()},setDataSource:function(dataSource){var that=this,parent;this.options.dataSource=dataSource,this._dataSource(),this.listView.bound()&&(this._initialIndex=null),this.listView.setDataSource(this.dataSource),this.options.autoBind&&this.dataSource.fetch(),(parent=this._parentWidget())&&this._cascadeSelect(parent)},close:function(){this.popup.close()},select:function(candidate){var that=this;return candidate===undefined?that.selectedIndex:that._select(candidate).done(function(){that._old=that._accessor(),that._oldIndex=that.selectedIndex})},_accessor:function(value,idx){return this[this._isSelect?"_accessorSelect":"_accessorInput"](value,idx)},_accessorInput:function(value){var element=this.element[0];if(value===undefined)return element.value;null===value&&(value=""),element.value=value},_accessorSelect:function(value,idx){var element=this.element[0],hasValue;if(value===undefined)return getSelectedOption(element).value||"";getSelectedOption(element).selected=!1,idx===undefined&&(idx=-1),(hasValue=null!==value&&""!==value)&&-1==idx?this._custom(value):value?element.value=value:element.selectedIndex=idx},_custom:function(value){var that=this,element=this.element,custom=this._customOption;custom||(custom=$("<option/>"),this._customOption=custom,element.append(custom)),custom.text(value),custom[0].selected=!0},_hideBusy:function(){var that=this;clearTimeout(this._busy),this._arrowIcon.removeClass(LOADING),this._focused.attr("aria-busy",!1),this._busy=null,this._showClear()},_showBusy:function(e){var that=this;e.isDefaultPrevented()||(that._request=!0,that._busy||(that._busy=setTimeout(function(){that._arrowIcon&&(that._focused.attr("aria-busy",!0),that._arrowIcon.addClass(LOADING),that._hideClear())},100)))},_requestEnd:function(){this._request=!1,this._hideBusy()},_dataSource:function(){var that=this,element=this.element,options=this.options,dataSource=options.dataSource||{},idx;dataSource=$.isArray(dataSource)?{data:dataSource}:dataSource,this._isSelect&&((idx=element[0].selectedIndex)>-1&&(options.index=idx),dataSource.select=element,dataSource.fields=[{field:options.dataTextField},{field:options.dataValueField}]),this.dataSource?this._unbindDataSource():(this._requestStartHandler=proxy(this._showBusy,this),this._requestEndHandler=proxy(this._requestEnd,this),this._errorHandler=proxy(this._hideBusy,this)),this.dataSource=kendo.data.DataSource.create(dataSource).bind(REQUESTSTART,this._requestStartHandler).bind(REQUESTEND,this._requestEndHandler).bind("error",this._errorHandler)},_firstItem:function(){this.listView.focusFirst()},_lastItem:function(){this.listView.focusLast()},_nextItem:function(){this.listView.focusNext()},_prevItem:function(){this.listView.focusPrev()},_move:function(e){var that=this,listView=that.listView,key=e.keyCode,down=key===keys.DOWN,dataItem,pressed,current;if(key===keys.UP||down){if(e.altKey)that.toggle(down);else{if(!listView.bound())return that._fetch||(that.dataSource.one(CHANGE,function(){that._fetch=!1,that._move(e)}),that._fetch=!0,that._filterSource()),e.preventDefault(),!0;if(current=that._focus(),that._fetch||current&&!current.hasClass("k-state-selected")||(down?(that._nextItem(),that._focus()||that._lastItem()):(that._prevItem(),that._focus()||that._firstItem())),dataItem=listView.dataItemByIndex(listView.getElementIndex(that._focus())),that.trigger(SELECT,{dataItem:dataItem,item:that._focus()}))return void that._focus(current);that._select(that._focus(),!0).done(function(){that.popup.visible()||that._blur()})}e.preventDefault(),pressed=!0}else if(key===keys.ENTER||key===keys.TAB){that.popup.visible()&&e.preventDefault(),current=that._focus(),dataItem=that.dataItem(),that.popup.visible()||dataItem&&that.text()===that._text(dataItem)||(current=null);var activeFilter=that.filterInput&&that.filterInput[0]===activeElement();if(current){var shouldTrigger=!0;if((dataItem=listView.dataItemByIndex(listView.getElementIndex(current)))&&(shouldTrigger=that._value(dataItem)!==List.unifyType(that.value(),typeof that._value(dataItem))),shouldTrigger&&that.trigger(SELECT,{dataItem:dataItem,item:current}))return;that._select(current)}else that.input&&(that._accessor(that.input.val()),that.listView.value(that.input.val()));that._focusElement&&that._focusElement(that.wrapper),activeFilter&&key===keys.TAB?that.wrapper.focusout():that._blur(),that.close(),pressed=!0}else if(key===keys.ESC)that.popup.visible()&&e.preventDefault(),that.close(),pressed=!0;else if(that.popup.visible()&&(key===keys.PAGEDOWN||key===keys.PAGEUP)){e.preventDefault();var direction=key===keys.PAGEDOWN?1:-1;listView.scrollWith(direction*listView.screenHeight()),pressed=!0}return pressed},_fetchData:function(){var that=this,hasItems=!!that.dataSource.view().length;that._request||that.options.cascadeFrom||that.listView.bound()||that._fetch||hasItems||(that._fetch=!0,that.dataSource.fetch().done(function(){that._fetch=!1}))},_options:function(data,optionLabel,value){var that=this,element=this.element,htmlElement=element[0],length=data.length,options="",option,dataItem,dataText,dataValue,idx=0;for(optionLabel&&(options=optionLabel);idx<length;idx++)option="<option",dataItem=data[idx],dataText=this._text(dataItem),(dataValue=this._value(dataItem))!==undefined&&(-1!==(dataValue+="").indexOf('"')&&(dataValue=dataValue.replace(quotRegExp,"&quot;")),option+=' value="'+dataValue+'"'),option+=">",dataText!==undefined&&(option+=htmlEncode(dataText)),options+=option+="</option>";element.html(options),value!==undefined&&(htmlElement.value=value,htmlElement.value&&!value&&(htmlElement.selectedIndex=-1)),-1!==htmlElement.selectedIndex&&(option=getSelectedOption(htmlElement))&&option.setAttribute(SELECTED,SELECTED)},_reset:function(){var that=this,element=that.element,formId=element.attr("form"),form=formId?$("#"+formId):element.closest("form");form[0]&&(that._resetHandler=function(){setTimeout(function(){that.value(that._initial)})},that._form=form.on("reset",that._resetHandler))},_parentWidget:function(){var name=this.options.name;if(this.options.cascadeFrom){var parentElement=$("#"+this.options.cascadeFrom),parent=parentElement.data("kendo"+name);return parent||(parent=parentElement.data("kendo"+alternativeNames[name])),parent}},_cascade:function(){var that=this,options=that.options,cascade,parent;if(options.cascadeFrom){if(!(parent=that._parentWidget()))return;that._cascadeHandlerProxy=proxy(that._cascadeHandler,that),that._cascadeFilterRequests=[],options.autoBind=!1,parent.bind("set",function(){that.one("set",function(e){that._selectedValue=e.value})}),parent.first(CASCADE,that._cascadeHandlerProxy),parent.listView.bound()?(that._toggleCascadeOnFocus(),that._cascadeSelect(parent)):(parent.one("dataBound",function(){that._toggleCascadeOnFocus()}),parent.value()||that.enable(!1))}},_toggleCascadeOnFocus:function(){var that=this,parent=that._parentWidget(),focusout=isIE?"blur":"focusout";parent._focused.add(parent.filterInput).bind("focus",function(){parent.unbind(CASCADE,that._cascadeHandlerProxy),parent.first(CHANGE,that._cascadeHandlerProxy)}),parent._focused.add(parent.filterInput).bind(focusout,function(){parent.unbind(CHANGE,that._cascadeHandlerProxy),parent.first(CASCADE,that._cascadeHandlerProxy)})},_cascadeHandler:function(e){var parent=this._parentWidget(),valueBeforeCascade=this.value();this._userTriggered=e.userTriggered,this.listView.bound()&&this._clearSelection(parent,!0),this._cascadeSelect(parent,valueBeforeCascade)},_cascadeChange:function(parent){var that=this,value=this._accessor()||this._selectedValue;this._cascadeFilterRequests.length||(this._selectedValue=null),this._userTriggered?this._clearSelection(parent,!0):value?(value!==this.listView.value()[0]&&this.value(value),this.dataSource.view()[0]&&-1!==this.selectedIndex||this._clearSelection(parent,!0)):this.dataSource.flatView().length&&this.select(this.options.index),this.enable(),this._triggerCascade(),this._triggerChange(),this._userTriggered=!1},_cascadeSelect:function(parent,valueBeforeCascade){var that=this,dataItem=parent.dataItem(),filterValue=dataItem?parent._value(dataItem):null,valueField=that.options.cascadeFromField||parent.options.dataValueField,expressions;if(that._valueBeforeCascade=valueBeforeCascade!==undefined?valueBeforeCascade:that.value(),filterValue||0===filterValue){removeFiltersForField(expressions=that.dataSource.filter()||{},valueField);var handler=function(){var currentHandler=that._cascadeFilterRequests.shift();currentHandler&&that.unbind("dataBound",currentHandler),(currentHandler=that._cascadeFilterRequests[0])&&that.first("dataBound",currentHandler),that._cascadeChange(parent)};that._cascadeFilterRequests.push(handler),1===that._cascadeFilterRequests.length&&that.first("dataBound",handler),that._cascading=!0,that._filterSource({field:valueField,operator:"eq",value:filterValue}),that._cascading=!1}else that.enable(!1),that._clearSelection(parent),that._triggerCascade(),that._triggerChange(),that._userTriggered=!1}});var STATIC_LIST_NS=".StaticList",StaticList=kendo.ui.DataBoundWidget.extend({init:function(element,options){Widget.fn.init.call(this,element,options),this.element.attr("role","listbox").on("click.StaticList","li",proxy(this._click,this)).on("mouseenter.StaticList","li",function(){$(this).addClass(HOVER)}).on("mouseleave.StaticList","li",function(){$(this).removeClass(HOVER)}),this.content=this.element.wrap("<div class='k-list-scroller' unselectable='on'></div>").parent(),this.header=this.content.before('<div class="k-group-header" style="display:none"></div>').prev(),this.bound(!1),this._optionID=kendo.guid(),this._selectedIndices=[],this._view=[],this._dataItems=[],this._values=[];var value=this.options.value;value&&(this._values=$.isArray(value)?value.slice(0):[value]),this._getter(),this._templates(),this.setDataSource(this.options.dataSource),this._onScroll=proxy(function(){var that=this;clearTimeout(that._scrollId),that._scrollId=setTimeout(function(){that._renderHeader()},50)},this)},options:{name:"StaticList",dataValueField:null,valuePrimitive:!1,selectable:!0,template:null,groupTemplate:null,fixedGroupTemplate:null},events:["click",CHANGE,"activate","deactivate","dataBinding","dataBound","selectedItemChange"],setDataSource:function(source){var that=this,dataSource=source||{},value;dataSource=$.isArray(dataSource)?{data:dataSource}:dataSource,dataSource=kendo.data.DataSource.create(dataSource),this.dataSource?(this.dataSource.unbind(CHANGE,this._refreshHandler),value=this.value(),this.value([]),this.bound(!1),this.value(value)):this._refreshHandler=proxy(this.refresh,this),this.setDSFilter(dataSource.filter()),this.dataSource=dataSource.bind(CHANGE,this._refreshHandler),this._fixedHeader()},skip:function(){return this.dataSource.skip()},setOptions:function(options){Widget.fn.setOptions.call(this,options),this._getter(),this._templates(),this._render()},destroy:function(){this.element.off(".StaticList"),this._refreshHandler&&this.dataSource.unbind(CHANGE,this._refreshHandler),clearTimeout(this._scrollId),Widget.fn.destroy.call(this)},dataItemByIndex:function(index){return this.dataSource.flatView()[index]},screenHeight:function(){return this.content[0].clientHeight},scrollToIndex:function(index){var item=this.element[0].children[index];item&&this.scroll(item)},scrollWith:function(value){this.content.scrollTop(this.content.scrollTop()+value)},scroll:function(item){if(item){item[0]&&(item=item[0]);var content=this.content[0],itemOffsetTop=item.offsetTop,itemOffsetHeight=item.offsetHeight,contentScrollTop=content.scrollTop,contentOffsetHeight=content.clientHeight,bottomDistance=itemOffsetTop+itemOffsetHeight;contentScrollTop>itemOffsetTop?contentScrollTop=itemOffsetTop:bottomDistance>contentScrollTop+contentOffsetHeight&&(contentScrollTop=bottomDistance-contentOffsetHeight),content.scrollTop=contentScrollTop}},selectedDataItems:function(dataItems){if(dataItems===undefined)return this._dataItems.slice();this._dataItems=dataItems,this._values=this._getValues(dataItems)},_getValues:function(dataItems){var getter=this._valueGetter;return $.map(dataItems,function(dataItem){return getter(dataItem)})},focusNext:function(){var current=this.focus();current=current?current.next():0,this.focus(current)},focusPrev:function(){var current=this.focus();current=current?current.prev():this.element[0].children.length-1,this.focus(current)},focusFirst:function(){this.focus(this.element[0].children[0])},focusLast:function(){this.focus(last(this.element[0].children))},focus:function(candidate){var that=this,id=this._optionID,hasCandidate;if(candidate===undefined)return this._current;candidate=last(this._get(candidate)),candidate=$(this.element[0].children[candidate]),this._current&&(this._current.removeClass(FOCUSED).removeAttr("aria-selected").removeAttr(ID),this.trigger("deactivate")),(hasCandidate=!!candidate[0])&&(candidate.addClass(FOCUSED),this.scroll(candidate),candidate.attr("id",id)),this._current=hasCandidate?candidate:null,this.trigger("activate")},focusIndex:function(){return this.focus()?this.focus().index():undefined},skipUpdate:function(skipUpdate){this._skipUpdate=skipUpdate},select:function(indices){var that=this,selectable=this.options.selectable,singleSelection="multiple"!==selectable&&!1!==selectable,selectedIndices=this._selectedIndices,added=[],removed=[],result;if(indices===undefined)return selectedIndices.slice();1===(indices=this._get(indices)).length&&-1===indices[0]&&(indices=[]);var deferred=$.Deferred().resolve(),filtered=this.isFiltered();return filtered&&!singleSelection&&this._deselectFiltered(indices)?deferred:singleSelection&&!filtered&&-1!==$.inArray(last(indices),selectedIndices)?(this._dataItems.length&&this._view.length&&(this._dataItems=[this._view[selectedIndices[0]].item]),deferred):(removed=(result=this._deselect(indices)).removed,(indices=result.indices).length&&(singleSelection&&(indices=[last(indices)]),added=this._select(indices)),(added.length||removed.length)&&(this._valueComparer=null,this.trigger(CHANGE,{added:added,removed:removed})),deferred)},removeAt:function(position){return this._selectedIndices.splice(position,1),this._values.splice(position,1),this._valueComparer=null,{position:position,dataItem:this._dataItems.splice(position,1)[0]}},setValue:function(value){value=$.isArray(value)||value instanceof ObservableArray?value.slice(0):[value],this._values=value,this._valueComparer=null},value:function(value){var that=this,deferred=this._valueDeferred,indices;return value===undefined?this._values.slice():(this.setValue(value),deferred&&"resolved"!==deferred.state()||(this._valueDeferred=deferred=$.Deferred()),this.bound()&&(indices=this._valueIndices(this._values),"multiple"===this.options.selectable&&this.select(-1),this.select(indices),deferred.resolve()),this._skipUpdate=!1,deferred)},items:function(){return this.element.children(".k-item")},_click:function(e){e.isDefaultPrevented()||this.trigger("click",{item:$(e.currentTarget)})||this.select(e.currentTarget)},_valueExpr:function(type,values){var that=this,idx=0,body,comparer,normalized=[];if(!this._valueComparer||this._valueType!==type){for(this._valueType=type;idx<values.length;idx++)normalized.push(unifyType(values[idx],type));body="for (var idx = 0; idx < "+normalized.length+"; idx++) { if (current === values[idx]) {   return idx; }} return -1;",comparer=new Function("current","values",body),this._valueComparer=function(current){return comparer(current,normalized)}}return this._valueComparer},_dataItemPosition:function(dataItem,values){var value=this._valueGetter(dataItem),valueExpr;return this._valueExpr(typeof value,values)(value)},_getter:function(){this._valueGetter=kendo.getter(this.options.dataValueField)},_deselect:function(indices){var that=this,children=this.element[0].children,selectable=this.options.selectable,selectedIndices=this._selectedIndices,dataItems=this._dataItems,values=this._values,removed=[],i=0,j,index,selectedIndex,removedIndices=0;if(indices=indices.slice(),!0!==selectable&&indices.length){if("multiple"===selectable)for(;i<indices.length;i++)if(index=indices[i],$(children[index]).hasClass("k-state-selected"))for(j=0;j<selectedIndices.length;j++)if((selectedIndex=selectedIndices[j])===index){$(children[selectedIndex]).removeClass("k-state-selected"),removed.push({position:j+removedIndices,dataItem:dataItems.splice(j,1)[0]}),selectedIndices.splice(j,1),indices.splice(i,1),values.splice(j,1),removedIndices+=1,i-=1,j-=1;break}}else{for(;i<selectedIndices.length;i++)$(children[selectedIndices[i]]).removeClass("k-state-selected"),removed.push({position:i,dataItem:dataItems[i]});this._values=[],this._dataItems=[],this._selectedIndices=[]}return{indices:indices,removed:removed}},_deselectFiltered:function(indices){for(var children=this.element[0].children,dataItem,index,position,removed=[],idx=0;idx<indices.length;idx++)index=indices[idx],dataItem=this._view[index].item,(position=this._dataItemPosition(dataItem,this._values))>-1&&(removed.push(this.removeAt(position)),$(children[index]).removeClass("k-state-selected"));return!!removed.length&&(this.trigger(CHANGE,{added:[],removed:removed}),!0)},_select:function(indices){var that=this,children=this.element[0].children,data=this._view,dataItem,index,added=[],idx=0;for(-1!==last(indices)&&this.focus(indices);idx<indices.length;idx++)dataItem=data[index=indices[idx]],-1!==index&&dataItem&&(dataItem=dataItem.item,this._selectedIndices.push(index),this._dataItems.push(dataItem),this._values.push(this._valueGetter(dataItem)),$(children[index]).addClass("k-state-selected").attr("aria-selected",!0),added.push({dataItem:dataItem}));return added},getElementIndex:function(element){return $(element).data("offset-index")},_get:function(candidate){return"number"==typeof candidate?candidate=[candidate]:isArray(candidate)||(candidate=[(candidate=this.getElementIndex(candidate))!==undefined?candidate:-1]),candidate},_template:function(){var that=this,options=this.options,template=options.template;return template?(template=kendo.template(template),template=function(data){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+template(data)+"</li>"}):template=kendo.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+kendo.expr(options.dataTextField,"data")+"}</li>",{useWithBlock:!1}),template},_templates:function(){var template,options=this.options,templates={template:options.template,groupTemplate:options.groupTemplate,fixedGroupTemplate:options.fixedGroupTemplate};for(var key in templates)(template=templates[key])&&"function"!=typeof template&&(templates[key]=kendo.template(template));this.templates=templates},_normalizeIndices:function(indices){for(var newIndices=[],idx=0;idx<indices.length;idx++)indices[idx]!==undefined&&newIndices.push(indices[idx]);return newIndices},_valueIndices:function(values,indices){var data=this._view,idx=0,index;if(indices=indices?indices.slice():[],!values.length)return[];for(;idx<data.length;idx++)-1!==(index=this._dataItemPosition(data[idx].item,values))&&(indices[index]=idx);return this._normalizeIndices(indices)},_firstVisibleItem:function(){for(var element=this.element[0],content,scrollTop=this.content[0].scrollTop,itemHeight=$(element.children[0]).height(),itemIndex=Math.floor(scrollTop/itemHeight)||0,item=element.children[itemIndex]||element.lastChild,forward=item.offsetTop<scrollTop;item;)if(forward){if(item.offsetTop+itemHeight>scrollTop||!item.nextSibling)break;item=item.nextSibling}else{if(item.offsetTop<=scrollTop||!item.previousSibling)break;item=item.previousSibling}return this._view[$(item).data("offset-index")]},_fixedHeader:function(){this.isGrouped()&&this.templates.fixedGroupTemplate?(this.header.show(),this.content.scroll(this._onScroll)):(this.header.hide(),this.content.off("scroll",this._onScroll))},_renderHeader:function(){var template=this.templates.fixedGroupTemplate;if(template){var visibleItem=this._firstVisibleItem();visibleItem&&this.header.html(template(visibleItem.group))}},_renderItem:function(context){var item='<li tabindex="-1" role="option" unselectable="on" class="k-item',dataItem=context.item,notFirstItem=0!==context.index,selected=context.selected;return notFirstItem&&context.newGroup&&(item+=" k-first"),selected&&(item+=" k-state-selected"),item+='"'+(selected?' aria-selected="true"':"")+' data-offset-index="'+context.index+'">',item+=this.templates.template(dataItem),notFirstItem&&context.newGroup&&(item+='<div class="k-group">'+this.templates.groupTemplate(context.group)+"</div>"),item+"</li>"},_render:function(){var html="",i=0,idx=0,context,dataContext=[],view=this.dataSource.view(),values=this.value(),group,newGroup,j,isGrouped=this.isGrouped();if(isGrouped)for(i=0;i<view.length;i++)for(group=view[i],newGroup=!0,j=0;j<group.items.length;j++)context={selected:this._selected(group.items[j],values),item:group.items[j],group:group.value,newGroup:newGroup,index:idx},dataContext[idx]=context,idx+=1,html+=this._renderItem(context),newGroup=!1;else for(i=0;i<view.length;i++)context={selected:this._selected(view[i],values),item:view[i],index:i},dataContext[i]=context,html+=this._renderItem(context);this._view=dataContext,this.element[0].innerHTML=html,isGrouped&&dataContext.length&&this._renderHeader()},_selected:function(dataItem,values){var select;return(!this.isFiltered()||"multiple"===this.options.selectable)&&-1!==this._dataItemPosition(dataItem,values)},setDSFilter:function(filter){this._lastDSFilter=extend({},filter)},isFiltered:function(){return this._lastDSFilter||this.setDSFilter(this.dataSource.filter()),!kendo.data.Query.compareFilters(this.dataSource.filter(),this._lastDSFilter)},refresh:function(e){var that=this,action=e&&e.action,skipUpdateOnBind=this.options.skipUpdateOnBind,isItemChange="itemchange"===action,result;this.trigger("dataBinding"),this._angularItems("cleanup"),this._fixedHeader(),this._render(),this.bound(!0),isItemChange||"remove"===action?(result=mapChangedItems(this._dataItems,e.items)).changed.length&&(isItemChange?this.trigger("selectedItemChange",{items:result.changed}):this.value(this._getValues(result.unchanged))):this.isFiltered()||this._skipUpdate?(this.focus(0),this._skipUpdate&&(this._skipUpdate=!1,this._selectedIndices=this._valueIndices(this._values,this._selectedIndices))):skipUpdateOnBind||action&&"add"!==action||this.value(this._values),this._valueDeferred&&this._valueDeferred.resolve(),this._angularItems("compile"),this.trigger("dataBound")},bound:function(bound){if(bound===undefined)return this._bound;this._bound=bound},isGrouped:function(){return(this.dataSource.group()||[]).length}});function last(list){return list[list.length-1]}function getSelectedOption(select){var index=select.selectedIndex;return index>-1?select.options[index]:{}}function mapChangedItems(selected,itemsToMatch){var itemsLength=itemsToMatch.length,selectedLength=selected.length,dataItem,found,i,j,changed=[],unchanged=[];if(selectedLength)for(i=0;i<selectedLength;i++){for(dataItem=selected[i],found=!1,j=0;j<itemsLength;j++)if(dataItem===itemsToMatch[j]){found=!0,changed.push({index:i,item:dataItem});break}found||unchanged.push(dataItem)}return{changed:changed,unchanged:unchanged}}function isValidFilterExpr(expression){return!(!expression||$.isEmptyObject(expression))&&!(expression.filters&&!expression.filters.length)}function removeFiltersForField(expression,field){var filters,found=!1;return expression.filters&&(filters=$.grep(expression.filters,function(filter){return found=removeFiltersForField(filter,field),filter.filters?filter.filters.length:filter.field!=field}),found||expression.filters.length===filters.length||(found=!0),expression.filters=filters),found}ui.plugin(StaticList)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(a1,a2,a3){(a3||a2)()}),function(f,define){define("kendo.fx",["kendo.core"],f)}(function(){var __meta___id="fx",__meta___name="Effects",__meta___category="framework",__meta___description="Required for animation effects in all Kendo UI widgets.",__meta___depends=["core"];return function($,undefined){var kendo=window.kendo,fx=kendo.effects,each=$.each,extend=$.extend,proxy=$.proxy,support=kendo.support,browser=support.browser,transforms=support.transforms,transitions=support.transitions,scaleProperties={scale:0,scalex:0,scaley:0,scale3d:0},translateProperties={translate:0,translatex:0,translatey:0,translate3d:0},hasZoom=void 0!==document.documentElement.style.zoom&&!transforms,matrix3dRegExp=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,cssParamsRegExp=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,translateXRegExp=/translatex?$/i,oldEffectsRegExp=/(zoom|fade|expand)(\w+)/,singleEffectRegExp=/(zoom|fade|expand)/,unitRegExp=/[xy]$/i,transformProps=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],transform2d=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],transform2units={rotate:"deg",scale:"",skew:"px",translate:"px"},cssPrefix=transforms.css,round=Math.round,BLANK="",PX="px",NONE="none",AUTO="auto",WIDTH="width",HEIGHT="height",HIDDEN="hidden",ORIGIN="origin",ABORT_ID="abortId",OVERFLOW="overflow",TRANSLATE="translate",POSITION="position",COMPLETE_CALLBACK="completeCallback",TRANSITION=cssPrefix+"transition",TRANSFORM=cssPrefix+"transform",BACKFACE=cssPrefix+"backface-visibility",PERSPECTIVE=cssPrefix+"perspective",DEFAULT_PERSPECTIVE="1500px",TRANSFORM_PERSPECTIVE="perspective(1500px)",directions={left:{reverse:"right",property:"left",transition:"translatex",vertical:!1,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:!1,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:!0,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:!0,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},in:{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}};if(kendo.directions=directions,extend($.fn,{kendoStop:function(clearQueue,gotoEnd){return transitions?fx.stopQueue(this,clearQueue||!1,gotoEnd||!1):this.stop(clearQueue,gotoEnd)}}),transforms&&!transitions){each(transform2d,function(idx,value){$.fn[value]=function(val){if(void 0===val)return animationProperty(this,value);var that=$(this)[0],transformValue=value+"("+val+transform2units[value.replace(unitRegExp,"")]+")";return-1==that.style.cssText.indexOf(TRANSFORM)?$(this).css(TRANSFORM,transformValue):that.style.cssText=that.style.cssText.replace(new RegExp(value+"\\(.*?\\)","i"),transformValue),this},$.fx.step[value]=function(fx){$(fx.elem)[value](fx.now)}});var curProxy=$.fx.prototype.cur;$.fx.prototype.cur=function(){return-1!=transform2d.indexOf(this.prop)?parseFloat($(this.elem)[this.prop]()):curProxy.apply(this,arguments)}}function parseInteger(value){return parseInt(value,10)}function parseCSS(element,property){return parseInteger(element.css(property))}function keys(obj){var acc=[];for(var propertyName in obj)acc.push(propertyName);return acc}function strip3DTransforms(properties){for(var key in properties)-1!=transformProps.indexOf(key)&&-1==transform2d.indexOf(key)&&delete properties[key];return properties}function normalizeCSS(element,properties){var transformation=[],cssValues={},lowerKey,key,value,isTransformed;for(key in properties)lowerKey=key.toLowerCase(),isTransformed=transforms&&-1!=transformProps.indexOf(lowerKey),!support.hasHW3D&&isTransformed&&-1==transform2d.indexOf(lowerKey)?delete properties[key]:(value=properties[key],isTransformed?transformation.push(key+"("+value+")"):cssValues[key]=value);return transformation.length&&(cssValues[TRANSFORM]=transformation.join(" ")),cssValues}function animationProperty(element,property){if(transforms){var transform=element.css(TRANSFORM);if(transform==NONE)return"scale"==property?1:0;var match=transform.match(new RegExp(property+"\\s*\\(([\\d\\w\\.]+)")),computed=0;return match?computed=parseInteger(match[1]):(match=transform.match(matrix3dRegExp)||[0,0,0,0,0],property=property.toLowerCase(),translateXRegExp.test(property)?computed=parseFloat(match[3]/match[2]):"translatey"==property?computed=parseFloat(match[4]/match[2]):"scale"==property?computed=parseFloat(match[2]):"rotate"==property&&(computed=parseFloat(Math.atan2(match[2],match[1])))),computed}return parseFloat(element.css(property))}kendo.toggleClass=function(element,classes,options,add){return classes&&(classes=classes.split(" "),transitions&&(options=extend({exclusive:"all",duration:400,ease:"ease-out"},options),element.css(TRANSITION,options.exclusive+" "+options.duration+"ms "+options.ease),setTimeout(function(){element.css(TRANSITION,"").css(HEIGHT)},options.duration)),each(classes,function(idx,value){element.toggleClass(value,add)})),element},kendo.parseEffects=function(input,mirror){var effects={};return"string"==typeof input?each(input.split(" "),function(idx,value){var redirectedEffect=!singleEffectRegExp.test(value),resolved,effect=value.replace(oldEffectsRegExp,function(match,$1,$2){return $1+":"+$2.toLowerCase()}).split(":"),direction=effect[1],effectBody={};effect.length>1&&(effectBody.direction=mirror&&redirectedEffect?directions[direction].reverse:direction),effects[effect[0]]=effectBody}):each(input,function(idx){var direction=this.direction;direction&&mirror&&!singleEffectRegExp.test(idx)&&(this.direction=directions[direction].reverse),effects[idx]=this}),effects},transitions&&extend(fx,{transition:function(element,properties,options){var css,delay=0,oldKeys=element.data("keys")||[],timeoutID,stopTransitionCalled=!1,stopTransition=function(){stopTransitionCalled||(stopTransitionCalled=!0,timeoutID&&(clearTimeout(timeoutID),timeoutID=null),element.removeData(ABORT_ID).dequeue().css(TRANSITION,"").css(TRANSITION),options.complete.call(element))};(options=extend({duration:200,ease:"ease-out",complete:null,exclusive:"all"},options)).duration=$.fx&&$.fx.speeds[options.duration]||options.duration,css=normalizeCSS(element,properties),$.merge(oldKeys,keys(css)),element.data("keys",$.unique(oldKeys)).height(),element.css(TRANSITION,options.exclusive+" "+options.duration+"ms "+options.ease).css(TRANSITION),element.css(css).css(TRANSFORM),transitions.event&&(element.one(transitions.event,stopTransition),0!==options.duration&&(delay=500)),timeoutID=setTimeout(stopTransition,options.duration+delay),element.data(ABORT_ID,timeoutID),element.data(COMPLETE_CALLBACK,stopTransition)},stopQueue:function(element,clearQueue,gotoEnd){var cssValues,taskKeys=element.data("keys"),retainPosition=!gotoEnd&&taskKeys,completeCallback=element.data(COMPLETE_CALLBACK);return retainPosition&&(cssValues=kendo.getComputedStyles(element[0],taskKeys)),completeCallback&&completeCallback(),retainPosition&&element.css(cssValues),element.removeData("keys").stop(clearQueue)}});var EffectSet=kendo.Class.extend({init:function(element,options){var that=this;this.element=element,this.effects=[],this.options=options,this.restore=[]},run:function(effects){var that=this,effect,idx,jdx,length=effects.length,element=this.element,options=this.options,deferred=$.Deferred(),start={},end={},target,children,childrenLength;for(this.effects=effects,deferred.then($.proxy(this,"complete")),element.data("animating",!0),idx=0;idx<length;idx++)for((effect=effects[idx]).setReverse(options.reverse),effect.setOptions(options),this.addRestoreProperties(effect.restore),effect.prepare(start,end),jdx=0,childrenLength=(children=effect.children()).length;jdx<childrenLength;jdx++)children[jdx].duration(options.duration).run();for(var effectName in options.effects)extend(end,options.effects[effectName].properties);for(element.is(":visible")||extend(start,{display:element.data("olddisplay")||"block"}),transforms&&!options.reset&&(target=element.data("targetTransform"))&&(start=extend(target,start)),start=normalizeCSS(element,start),transforms&&!transitions&&(start=strip3DTransforms(start)),element.css(start).css(TRANSFORM),idx=0;idx<length;idx++)effects[idx].setup();return options.init&&options.init(),element.data("targetTransform",end),fx.animate(element,end,extend({},options,{complete:deferred.resolve})),deferred.promise()},stop:function(){$(this.element).kendoStop(!0,!0)},addRestoreProperties:function(restore){for(var element=this.element,value,i=0,length=restore.length;i<length;i++)value=restore[i],this.restore.push(value),element.data(value)||element.data(value,element.css(value))},restoreCallback:function(){for(var element=this.element,i=0,length=this.restore.length;i<length;i++){var value=this.restore[i];element.css(value,element.data(value))}},complete:function(){var that=this,idx=0,element=this.element,options=this.options,effects=this.effects,length=effects.length;for(element.removeData("animating").dequeue(),options.hide&&element.data("olddisplay",element.css("display")).hide(),this.restoreCallback(),hasZoom&&!transforms&&setTimeout($.proxy(this,"restoreCallback"),0);idx<length;idx++)effects[idx].teardown();options.completeCallback&&options.completeCallback(element)}});fx.promise=function(element,options){var effects=[],effectClass,effectSet=new EffectSet(element,options),parsedEffects=kendo.parseEffects(options.effects),effect;for(var effectName in options.effects=parsedEffects,parsedEffects)(effectClass=fx[capitalize(effectName)])&&(effect=new effectClass(element,parsedEffects[effectName].direction),effects.push(effect));effects[0]?effectSet.run(effects):(element.is(":visible")||element.css({display:element.data("olddisplay")||"block"}).css("display"),options.init&&options.init(),element.dequeue(),effectSet.complete())},extend(fx,{animate:function(elements,properties,options){var useTransition=!1!==options.transition;delete options.transition,transitions&&"transition"in fx&&useTransition?fx.transition(elements,properties,options):transforms?elements.animate(strip3DTransforms(properties),{queue:!1,show:!1,hide:!1,duration:options.duration,complete:options.complete}):elements.each(function(){var element=$(this),multiple={};each(transformProps,function(idx,value){var params,currentValue=properties?properties[value]+" ":null;if(currentValue){var single=properties;if(value in scaleProperties&&void 0!==properties[value])params=currentValue.match(cssParamsRegExp),transforms&&extend(single,{scale:+params[0]});else if(value in translateProperties&&void 0!==properties[value]){var position=element.css(POSITION),isFixed="absolute"==position||"fixed"==position;element.data(TRANSLATE)||(isFixed?element.data(TRANSLATE,{top:parseCSS(element,"top")||0,left:parseCSS(element,"left")||0,bottom:parseCSS(element,"bottom"),right:parseCSS(element,"right")}):element.data(TRANSLATE,{top:parseCSS(element,"marginTop")||0,left:parseCSS(element,"marginLeft")||0}));var originalPosition=element.data(TRANSLATE);if(params=currentValue.match(cssParamsRegExp)){var dX="translatey"==value?0:+params[1],dY="translatey"==value?+params[1]:+params[2];isFixed?(isNaN(originalPosition.right)?isNaN(dX)||extend(single,{left:originalPosition.left+dX}):isNaN(dX)||extend(single,{right:originalPosition.right-dX}),isNaN(originalPosition.bottom)?isNaN(dY)||extend(single,{top:originalPosition.top+dY}):isNaN(dY)||extend(single,{bottom:originalPosition.bottom-dY})):(isNaN(dX)||extend(single,{marginLeft:originalPosition.left+dX}),isNaN(dY)||extend(single,{marginTop:originalPosition.top+dY}))}}!transforms&&"scale"!=value&&value in single&&delete single[value],single&&extend(multiple,single)}}),browser.msie&&delete multiple.scale,element.animate(multiple,{queue:!1,show:!1,hide:!1,duration:options.duration,complete:options.complete})})}}),fx.animatedPromise=fx.promise;var Effect=kendo.Class.extend({init:function(element,direction){var that=this;this.element=element,this._direction=direction,this.options={},this._additionalEffects=[],this.restore||(this.restore=[])},reverse:function(){return this._reverse=!0,this.run()},play:function(){return this._reverse=!1,this.run()},add:function(additional){return this._additionalEffects.push(additional),this},direction:function(value){return this._direction=value,this},duration:function(duration){return this._duration=duration,this},compositeRun:function(){var that=this,effectSet=new EffectSet(this.element,{reverse:this._reverse,duration:this._duration}),effects=this._additionalEffects.concat([this]);return effectSet.run(effects)},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var that=this,element=this.element,idx=0,restore=this.restore,length=restore.length,value,deferred=$.Deferred(),start={},end={},target,children=this.children(),childrenLength=children.length;for(deferred.then($.proxy(this,"_complete")),element.data("animating",!0),idx=0;idx<length;idx++)value=restore[idx],element.data(value)||element.data(value,element.css(value));for(idx=0;idx<childrenLength;idx++)children[idx].duration(this._duration).run();return this.prepare(start,end),element.is(":visible")||extend(start,{display:element.data("olddisplay")||"block"}),transforms&&(target=element.data("targetTransform"))&&(start=extend(target,start)),start=normalizeCSS(element,start),transforms&&!transitions&&(start=strip3DTransforms(start)),element.css(start).css(TRANSFORM),this.setup(),element.data("targetTransform",end),fx.animate(element,end,{duration:this._duration,complete:deferred.resolve}),deferred.promise()},stop:function(){var idx=0,children=this.children(),childrenLength=children.length;for(idx=0;idx<childrenLength;idx++)children[idx].stop();return $(this.element).kendoStop(!0,!0),this},restoreCallback:function(){for(var element=this.element,i=0,length=this.restore.length;i<length;i++){var value=this.restore[i];element.css(value,element.data(value))}},_complete:function(){var that=this,element=this.element;element.removeData("animating").dequeue(),this.restoreCallback(),this.shouldHide()&&element.data("olddisplay",element.css("display")).hide(),hasZoom&&!transforms&&setTimeout($.proxy(this,"restoreCallback"),0),this.teardown()},setOptions:function(options){extend(!0,this.options,options)},children:function(){return[]},shouldHide:$.noop,setup:$.noop,prepare:$.noop,teardown:$.noop,directions:[],setReverse:function(reverse){return this._reverse=reverse,this}});function capitalize(word){return word.charAt(0).toUpperCase()+word.substring(1)}function createEffect(name,definition){var effectClass=Effect.extend(definition),directions=effectClass.prototype.directions;fx[capitalize(name)]=effectClass,fx.Element.prototype[name]=function(direction,opt1,opt2,opt3){return new effectClass(this.element,direction,opt1,opt2,opt3)},each(directions,function(idx,theDirection){fx.Element.prototype[name+capitalize(theDirection)]=function(opt1,opt2,opt3){return new effectClass(this.element,theDirection,opt1,opt2,opt3)}})}var FOUR_DIRECTIONS=["left","right","up","down"],IN_OUT=["in","out"];function createToggleEffect(name,property,defaultStart,defaultEnd){createEffect(name,{directions:IN_OUT,startValue:function(value){return this._startValue=value,this},endValue:function(value){return this._endValue=value,this},shouldHide:function(){return this._shouldHide},prepare:function(start,end){var that=this,startValue,endValue,out="out"===this._direction,startDataValue=this.element.data(property),startDataValueIsSet;startValue=!(isNaN(startDataValue)||startDataValue==defaultStart)?startDataValue:void 0!==this._startValue?this._startValue:out?defaultStart:defaultEnd,endValue=void 0!==this._endValue?this._endValue:out?defaultEnd:defaultStart,this._reverse?(start[property]=endValue,end[property]=startValue):(start[property]=startValue,end[property]=endValue),this._shouldHide=end[property]===defaultEnd}})}createEffect("slideIn",{directions:FOUR_DIRECTIONS,divisor:function(value){return this.options.divisor=value,this},prepare:function(start,end){var that=this,tmp,element=this.element,outerWidth=kendo._outerWidth,outerHeight=kendo._outerHeight,direction=directions[this._direction],offset,startValue=-direction.modifier*(direction.vertical?outerHeight(element):outerWidth(element))/(this.options&&this.options.divisor||1)+PX,endValue="0px";this._reverse&&(tmp=start,start=end,end=tmp),transforms?(start[direction.transition]=startValue,end[direction.transition]="0px"):(start[direction.property]=startValue,end[direction.property]="0px")}}),createEffect("tile",{directions:FOUR_DIRECTIONS,init:function(element,direction,previous){Effect.prototype.init.call(this,element,direction),this.options={previous:previous}},previousDivisor:function(value){return this.options.previousDivisor=value,this},children:function(){var that=this,reverse=this._reverse,previous=this.options.previous,divisor=this.options.previousDivisor||1,dir=this._direction,children=[kendo.fx(this.element).slideIn(dir).setReverse(reverse)];return previous&&children.push(kendo.fx(previous).slideIn(directions[dir].reverse).divisor(divisor).setReverse(!reverse)),children}}),createToggleEffect("fade","opacity",1,0),createToggleEffect("zoom","scale",1,.01),createEffect("slideMargin",{prepare:function(start,end){var that=this,element=this.element,options=this.options,origin=element.data(ORIGIN),offset=options.offset,margin,reverse=this._reverse;reverse||null!==origin||element.data(ORIGIN,parseFloat(element.css("margin-"+options.axis))),margin=element.data(ORIGIN)||0,end["margin-"+options.axis]=reverse?margin:margin+offset}}),createEffect("slideTo",{prepare:function(start,end){var that=this,element=this.element,options,offset=this.options.offset.split(","),reverse=this._reverse;transforms?(end.translatex=reverse?0:offset[0],end.translatey=reverse?0:offset[1]):(end.left=reverse?0:offset[0],end.top=reverse?0:offset[1]),element.css("left")}}),createEffect("expand",{directions:["horizontal","vertical"],restore:[OVERFLOW],prepare:function(start,end){var that=this,element=this.element,options=this.options,reverse=this._reverse,property="vertical"===this._direction?HEIGHT:WIDTH,setLength=element[0].style[property],oldLength=element.data(property),length=parseFloat(oldLength||setLength),realLength=round(element.css(property,AUTO)[property]());start.overflow=HIDDEN,length=options&&options.reset?realLength||length:length||realLength,end[property]=(reverse?0:length)+PX,start[property]=(reverse?length:0)+PX,void 0===oldLength&&element.data(property,setLength)},shouldHide:function(){return this._reverse},teardown:function(){var that=this,element=this.element,property="vertical"===this._direction?HEIGHT:WIDTH,length=element.data(property);length!=AUTO&&""!==length||setTimeout(function(){element.css(property,AUTO).css(property)},0)}});var TRANSFER_START_STATE={position:"absolute",marginLeft:0,marginTop:0,scale:1};createEffect("transfer",{init:function(element,target){this.element=element,this.options={target:target},this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(start,end){var that=this,element=this.element,outerBox=fx.box(element),innerBox=fx.box(this.options.target),currentScale=animationProperty(element,"scale"),scale=fx.fillScale(innerBox,outerBox),transformOrigin=fx.transformOrigin(innerBox,outerBox);extend(start,TRANSFER_START_STATE),end.scale=1,element.css(TRANSFORM,"scale(1)").css(TRANSFORM),element.css(TRANSFORM,"scale("+currentScale+")"),start.top=outerBox.top,start.left=outerBox.left,start.transformOrigin=transformOrigin.x+PX+" "+transformOrigin.y+PX,this._reverse?start.scale=scale:end.scale=scale}});var CLIPS={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"},ROTATIONS={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}};function clipInHalf(container,direction){var vertical,size=container[kendo.directions[direction].vertical?HEIGHT:WIDTH]()/2+"px";return CLIPS[direction].replace("$size",size)}createEffect("turningPage",{directions:FOUR_DIRECTIONS,init:function(element,direction,container){Effect.prototype.init.call(this,element,direction),this._container=container},prepare:function(start,end){var that=this,reverse=this._reverse,direction=reverse?directions[this._direction].reverse:this._direction,rotation=ROTATIONS[direction];start.zIndex=1,this._clipInHalf&&(start.clip=clipInHalf(this._container,kendo.directions[direction].reverse)),start[BACKFACE]=HIDDEN,end[TRANSFORM]="perspective(1500px)"+(reverse?rotation.start:rotation.end),start[TRANSFORM]="perspective(1500px)"+(reverse?rotation.end:rotation.start)},setup:function(){this._container.append(this.element)},face:function(value){return this._face=value,this},shouldHide:function(){var that=this,reverse=this._reverse,face=this._face;return reverse&&!face||!reverse&&face},clipInHalf:function(value){return this._clipInHalf=value,this},temporary:function(){return this.element.addClass("temp-page"),this}}),createEffect("staticPage",{directions:FOUR_DIRECTIONS,init:function(element,direction,container){Effect.prototype.init.call(this,element,direction),this._container=container},restore:["clip"],prepare:function(start,end){var that=this,direction=this._reverse?directions[this._direction].reverse:this._direction;start.clip=clipInHalf(this._container,direction),start.opacity=.999,end.opacity=1},shouldHide:function(){var that=this,reverse=this._reverse,face=this._face;return reverse&&!face||!reverse&&face},face:function(value){return this._face=value,this}}),createEffect("pageturn",{directions:["horizontal","vertical"],init:function(element,direction,face,back){Effect.prototype.init.call(this,element,direction),this.options={},this.options.face=face,this.options.back=back},children:function(){var that=this,options=this.options,direction="horizontal"===this._direction?"left":"top",reverseDirection=kendo.directions[direction].reverse,reverse=this._reverse,temp,faceClone=options.face.clone(!0).removeAttr("id"),backClone=options.back.clone(!0).removeAttr("id"),element=this.element;return reverse&&(temp=direction,direction=reverseDirection,reverseDirection=temp),[kendo.fx(options.face).staticPage(direction,element).face(!0).setReverse(reverse),kendo.fx(options.back).staticPage(reverseDirection,element).setReverse(reverse),kendo.fx(faceClone).turningPage(direction,element).face(!0).clipInHalf(!0).temporary().setReverse(reverse),kendo.fx(backClone).turningPage(reverseDirection,element).clipInHalf(!0).temporary().setReverse(reverse)]},prepare:function(start,end){start[PERSPECTIVE]="1500px",start.transformStyle="preserve-3d",start.opacity=.999,end.opacity=1},teardown:function(){this.element.find(".temp-page").remove()}}),createEffect("flip",{directions:["horizontal","vertical"],init:function(element,direction,face,back){Effect.prototype.init.call(this,element,direction),this.options={},this.options.face=face,this.options.back=back},children:function(){var that=this,options=this.options,direction="horizontal"===this._direction?"left":"top",reverseDirection=kendo.directions[direction].reverse,reverse=this._reverse,temp,element=this.element;return reverse&&(temp=direction,direction=reverseDirection,reverseDirection=temp),[kendo.fx(options.face).turningPage(direction,element).face(!0).setReverse(reverse),kendo.fx(options.back).turningPage(reverseDirection,element).setReverse(reverse)]},prepare:function(start){start[PERSPECTIVE]="1500px",start.transformStyle="preserve-3d"}});var RESTORE_OVERFLOW=!support.mobileOS.android,IGNORE_TRANSITION_EVENT_SELECTOR=".km-touch-scrollbar, .km-actionsheet-wrapper";createEffect("replace",{_before:$.noop,_after:$.noop,init:function(element,previous,transitionClass){Effect.prototype.init.call(this,element),this._previous=$(previous),this._transitionClass=transitionClass},duration:function(){throw new Error("The replace effect does not support duration setting; the effect duration may be customized through the transition class rule")},beforeTransition:function(callback){return this._before=callback,this},afterTransition:function(callback){return this._after=callback,this},_both:function(){return $().add(this._element).add(this._previous)},_containerClass:function(){var direction=this._direction,containerClass="k-fx k-fx-start k-fx-"+this._transitionClass;return direction&&(containerClass+=" k-fx-"+direction),this._reverse&&(containerClass+=" k-fx-reverse"),containerClass},complete:function(e){if(!(!this.deferred||e&&$(e.target).is(IGNORE_TRANSITION_EVENT_SELECTOR))){var container=this.container;container.removeClass("k-fx-end").removeClass(this._containerClass()).off(transitions.event,this.completeProxy),this._previous.hide().removeClass("k-fx-current"),this.element.removeClass("k-fx-next"),RESTORE_OVERFLOW&&container.css(OVERFLOW,""),this.isAbsolute||this._both().css(POSITION,""),this.deferred.resolve(),delete this.deferred}},run:function(){if(this._additionalEffects&&this._additionalEffects[0])return this.compositeRun();var that=this,element=that.element,previous=that._previous,container=element.parents().filter(previous.parents()).first(),both=that._both(),deferred=$.Deferred(),originalPosition=element.css(POSITION),originalOverflow;return container.length||(container=element.parent()),this.container=container,this.deferred=deferred,this.isAbsolute="absolute"==originalPosition,this.isAbsolute||both.css(POSITION,"absolute"),RESTORE_OVERFLOW&&(originalOverflow=container.css(OVERFLOW),container.css(OVERFLOW,"hidden")),transitions?(element.addClass("k-fx-hidden"),container.addClass(this._containerClass()),this.completeProxy=$.proxy(this,"complete"),container.on(transitions.event,this.completeProxy),kendo.animationFrame(function(){element.removeClass("k-fx-hidden").addClass("k-fx-next"),previous.css("display","").addClass("k-fx-current"),that._before(previous,element),kendo.animationFrame(function(){container.removeClass("k-fx-start").addClass("k-fx-end"),that._after(previous,element)})})):this.complete(),deferred.promise()},stop:function(){this.complete()}});var Animation=kendo.Class.extend({init:function(){var that=this;this._tickProxy=proxy(this._tick,this),this._started=!1},tick:$.noop,done:$.noop,onEnd:$.noop,onCancel:$.noop,start:function(){this.enabled()&&(this.done()?this.onEnd():(this._started=!0,kendo.animationFrame(this._tickProxy)))},enabled:function(){return!0},cancel:function(){this._started=!1,this.onCancel()},_tick:function(){var that=this;this._started&&(this.tick(),this.done()?(this._started=!1,this.onEnd()):kendo.animationFrame(this._tickProxy))}}),Transition=Animation.extend({init:function(options){var that=this;extend(this,options),Animation.fn.init.call(this)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,new Date-this.startDate)},moveTo:function(options){var that=this,movable=this.movable;this.initial=movable[this.axis],this.delta=options.location-this.initial,this.duration="number"==typeof options.duration?options.duration:300,this.tick=this._easeProxy(options.ease),this.startDate=new Date,this.start()},_easeProxy:function(ease){var that=this;return function(){that.movable.moveAxis(that.axis,ease(that.timePassed(),that.initial,that.delta,that.duration))}}});extend(Transition,{easeOutExpo:function(t,b,c,d){return t==d?b+c:c*(1-Math.pow(2,-10*t/d))+b},easeOutBack:function(t,b,c,d,s){return c*((t=t/d-1)*t*(((s=1.70158)+1)*t+s)+1)+b}}),fx.Animation=Animation,fx.Transition=Transition,fx.createEffect=createEffect,fx.box=function(element){var result=(element=$(element)).offset();return result.width=kendo._outerWidth(element),result.height=kendo._outerHeight(element),result},fx.transformOrigin=function(inner,outer){var x=(inner.left-outer.left)*outer.width/(outer.width-inner.width),y=(inner.top-outer.top)*outer.height/(outer.height-inner.height);return{x:isNaN(x)?0:x,y:isNaN(y)?0:y}},fx.fillScale=function(inner,outer){return Math.min(inner.width/outer.width,inner.height/outer.height)},fx.fitScale=function(inner,outer){return Math.max(inner.width/outer.width,inner.height/outer.height)}}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(a1,a2,a3){(a3||a2)()}),function(f,define){define("kendo.userevents",["kendo.core"],f)}(function(){var __meta___id="userevents",__meta___name="User Events",__meta___category="framework",__meta___depends=["core"],__meta___hidden=!0;return function($,undefined){var kendo=window.kendo,support=kendo.support,Class=kendo.Class,Observable=kendo.Observable,now=$.now,extend=$.extend,OS=support.mobileOS,invalidZeroEvents=OS&&OS.android,DEFAULT_MIN_HOLD=800,DEFAULT_THRESHOLD=support.browser.msie?5:0,PRESS="press",HOLD="hold",SELECT="select",START="start",MOVE="move",END="end",CANCEL="cancel",TAP="tap",RELEASE="release",GESTURESTART="gesturestart",GESTURECHANGE="gesturechange",GESTUREEND="gestureend",GESTURETAP="gesturetap",THRESHOLD={api:0,touch:0,mouse:9,pointer:9},ENABLE_GLOBAL_SURFACE=!support.touch||support.mouseAndTouchPresent;function touchDelta(touch1,touch2){var x1=touch1.x.location,y1=touch1.y.location,x2=touch2.x.location,y2=touch2.y.location,dx=x1-x2,dy=y1-y2;return{center:{x:(x1+x2)/2,y:(y1+y2)/2},distance:Math.sqrt(dx*dx+dy*dy)}}function getTouches(e){var touches=[],originalEvent=e.originalEvent,currentTarget=e.currentTarget,idx=0,length,changedTouches,touch;if(e.api)touches.push({id:2,event:e,target:e.target,currentTarget:e.target,location:e,type:"api"});else if(e.type.match(/touch/))for(length=(changedTouches=originalEvent?originalEvent.changedTouches:[]).length;idx<length;idx++)touch=changedTouches[idx],touches.push({location:touch,event:e,target:touch.target,currentTarget:currentTarget,id:touch.identifier,type:"touch"});else support.pointers||support.msPointers?touches.push({location:originalEvent,event:e,target:e.target,currentTarget:currentTarget,id:originalEvent.pointerId,type:"pointer"}):touches.push({id:1,event:e,target:e.target,currentTarget:currentTarget,location:e,type:"mouse"});return touches}var TouchAxis=Class.extend({init:function(axis,location){var that=this;this.axis=axis,this._updateLocationData(location),this.startLocation=this.location,this.velocity=this.delta=0,this.timeStamp=now()},move:function(location){var that=this,offset=location["page"+this.axis],timeStamp=now(),timeDelta=timeStamp-this.timeStamp||1;!offset&&invalidZeroEvents||(this.delta=offset-this.location,this._updateLocationData(location),this.initialDelta=offset-this.startLocation,this.velocity=this.delta/timeDelta,this.timeStamp=timeStamp)},_updateLocationData:function(location){var that=this,axis=this.axis;this.location=location["page"+axis],this.client=location["client"+axis],this.screen=location["screen"+axis]}}),Touch=Class.extend({init:function(userEvents,target,touchInfo){extend(this,{x:new TouchAxis("X",touchInfo.location),y:new TouchAxis("Y",touchInfo.location),type:touchInfo.type,useClickAsTap:userEvents.useClickAsTap,threshold:userEvents.threshold||THRESHOLD[touchInfo.type],userEvents:userEvents,target:target,currentTarget:touchInfo.currentTarget,initialTouch:touchInfo.target,id:touchInfo.id,pressEvent:touchInfo,_moved:!1,_finished:!1})},press:function(){this._holdTimeout=setTimeout($.proxy(this,"_hold"),this.userEvents.minHold),this._trigger(PRESS,this.pressEvent)},_hold:function(){this._trigger(HOLD,this.pressEvent)},move:function(touchInfo){var that=this;if(!this._finished){if(this.x.move(touchInfo.location),this.y.move(touchInfo.location),!this._moved){if(this._withinIgnoreThreshold())return;if(UserEvents.current&&UserEvents.current!==this.userEvents)return this.dispose();this._start(touchInfo)}this._finished||this._trigger(MOVE,touchInfo)}},end:function(touchInfo){this.endTime=now(),this._finished||(this._finished=!0,this._trigger(RELEASE,touchInfo),this._moved?this._trigger(END,touchInfo):this.useClickAsTap||this._trigger(TAP,touchInfo),clearTimeout(this._holdTimeout),this.dispose())},dispose:function(){var userEvents,activeTouches=this.userEvents.touches;this._finished=!0,this.pressEvent=null,clearTimeout(this._holdTimeout),activeTouches.splice($.inArray(this,activeTouches),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(touchInfo){clearTimeout(this._holdTimeout),this.startTime=now(),this._moved=!0,this._trigger(START,touchInfo)},_trigger:function(name,touchInfo){var that=this,jQueryEvent=touchInfo.event,data={touch:this,x:this.x,y:this.y,target:this.target,event:jQueryEvent};this.userEvents.notify(name,data)&&jQueryEvent.preventDefault()},_withinIgnoreThreshold:function(){var xDelta=this.x.initialDelta,yDelta=this.y.initialDelta;return Math.sqrt(xDelta*xDelta+yDelta*yDelta)<=this.threshold}});function withEachUpEvent(callback){for(var downEvents=kendo.eventMap.up.split(" "),idx=0,length=downEvents.length;idx<length;idx++)callback(downEvents[idx])}var UserEvents=Observable.extend({init:function(element,options){var that=this,filter,ns=kendo.guid();if(options=options||{},filter=this.filter=options.filter,this.threshold=options.threshold||DEFAULT_THRESHOLD,this.minHold=options.minHold||DEFAULT_MIN_HOLD,this.touches=[],this._maxTouches=options.multiTouch?2:1,this.allowSelection=options.allowSelection,this.captureUpIfMoved=options.captureUpIfMoved,this.useClickAsTap=!options.fastTap&&!support.delayedClick(),this.eventNS=ns,element=$(element).handler(this),Observable.fn.init.call(this),extend(this,{element:element,surface:options.global&&ENABLE_GLOBAL_SURFACE?$(element[0].ownerDocument.documentElement):$(options.surface||element),stopPropagation:options.stopPropagation,pressed:!1}),this.surface.handler(this).on(kendo.applyEventMap("move",ns),"_move").on(kendo.applyEventMap("up cancel",ns),"_end"),element.on(kendo.applyEventMap("down",ns),filter,"_start"),this.useClickAsTap&&element.on(kendo.applyEventMap("click",ns),filter,"_click"),(support.pointers||support.msPointers)&&(support.browser.version<11?element.css("-ms-touch-action","pinch-zoom double-tap-zoom"):element.css("touch-action",options.touchAction||"none")),options.preventDragEvent&&element.on(kendo.applyEventMap("dragstart",ns),kendo.preventDefault),element.on(kendo.applyEventMap("mousedown",ns),filter,{root:element},"_select"),this.captureUpIfMoved&&support.eventCapture){var surfaceElement=this.surface[0],preventIfMovingProxy=$.proxy(this.preventIfMoving,this);withEachUpEvent(function(eventName){surfaceElement.addEventListener(eventName,preventIfMovingProxy,!0)})}this.bind([PRESS,HOLD,TAP,START,MOVE,END,RELEASE,CANCEL,GESTURESTART,GESTURECHANGE,GESTUREEND,GESTURETAP,SELECT],options)},preventIfMoving:function(e){this._isMoved()&&e.preventDefault()},destroy:function(){var that=this;if(!that._destroyed){if(that._destroyed=!0,that.captureUpIfMoved&&support.eventCapture){var surfaceElement=that.surface[0];withEachUpEvent(function(eventName){surfaceElement.removeEventListener(eventName,that.preventIfMoving)})}that.element.kendoDestroy(that.eventNS),that.surface.kendoDestroy(that.eventNS),that.element.removeData("handler"),that.surface.removeData("handler"),that._disposeAll(),that.unbind(),delete that.surface,delete that.element,delete that.currentTarget}},capture:function(){UserEvents.current=this},cancel:function(){this._disposeAll(),this.trigger(CANCEL)},notify:function(eventName,data){var that=this,touches=this.touches;if(this._isMultiTouch()){switch(eventName){case MOVE:eventName=GESTURECHANGE;break;case END:eventName=GESTUREEND;break;case TAP:eventName=GESTURETAP}extend(data,{touches:touches},touchDelta(touches[0],touches[1]))}return this.trigger(eventName,extend(data,{type:eventName}))},press:function(x,y,target){this._apiCall("_start",x,y,target)},move:function(x,y){this._apiCall("_move",x,y)},end:function(x,y){this._apiCall("_end",x,y)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){for(var touches=this.touches;touches.length>0;)touches.pop().dispose()},_isMoved:function(){return $.grep(this.touches,function(touch){return touch.isMoved()}).length},_select:function(e){this.allowSelection&&!this.trigger(SELECT,{event:e})||e.preventDefault()},_start:function(e){var that=this,idx=0,filter=this.filter,target,touches=getTouches(e),length=touches.length,touch,which=e.which;if(!(which&&which>1||this._maxTouchesReached()))for(UserEvents.current=null,this.currentTarget=e.currentTarget,this.stopPropagation&&e.stopPropagation();idx<length&&!this._maxTouchesReached();idx++)touch=touches[idx],(target=filter?$(touch.currentTarget):this.element).length&&(touch=new Touch(this,target,touch),this.touches.push(touch),touch.press(),this._isMultiTouch()&&this.notify("gesturestart",{}))},_move:function(e){this._eachTouch("move",e)},_end:function(e){this._eachTouch("end",e)},_click:function(e){var data={touch:{initialTouch:e.target,target:$(e.currentTarget),endTime:now(),x:{location:e.pageX,client:e.clientX},y:{location:e.pageY,client:e.clientY}},x:e.pageX,y:e.pageY,target:$(e.currentTarget),event:e,type:"tap"};this.trigger("tap",data)&&e.preventDefault()},_eachTouch:function(methodName,e){var that=this,dict={},touches=getTouches(e),activeTouches=this.touches,idx,touch,touchInfo,matchingTouch;for(idx=0;idx<activeTouches.length;idx++)dict[(touch=activeTouches[idx]).id]=touch;for(idx=0;idx<touches.length;idx++)(matchingTouch=dict[(touchInfo=touches[idx]).id])&&matchingTouch[methodName](touchInfo)},_apiCall:function(type,x,y,target){this[type]({api:!0,pageX:x,pageY:y,clientX:x,clientY:y,target:$(target||this.element)[0],stopPropagation:$.noop,preventDefault:$.noop})}});UserEvents.defaultThreshold=function(value){DEFAULT_THRESHOLD=value},UserEvents.minHold=function(value){DEFAULT_MIN_HOLD=value},kendo.getTouches=getTouches,kendo.touchDelta=touchDelta,kendo.UserEvents=UserEvents}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(a1,a2,a3){(a3||a2)()}),function(f,define){define("kendo.menu",["kendo.popup"],f)}(function(){var __meta___id="menu",__meta___name="Menu",__meta___category="web",__meta___description="The Menu widget displays hierarchical data as a multi-level menu.",__meta___depends=["popup"];return function($,undefined){var kendo=window.kendo,ui=kendo.ui,activeElement=kendo._activeElement,touch=kendo.support.touch&&kendo.support.mobileOS,MOUSEDOWN="mousedown",CLICK="click",DELAY=30,SCROLLSPEED=50,extend=$.extend,proxy=$.proxy,each=$.each,template=kendo.template,keys=kendo.keys,Widget=ui.Widget,excludedNodesRegExp=/^(ul|a|div)$/i,NS=".kendoMenu",IMG="img",OPEN="open",MENU="k-menu",LINK="k-link",LAST="k-last",CLOSE="close",TIMER="timer",FIRST="k-first",IMAGE="k-image",SELECT="select",ZINDEX="zIndex",ACTIVATE="activate",DEACTIVATE="deactivate",POINTERDOWN="touchstart"+NS+" MSPointerDown"+NS+" pointerdown"+NS,pointers=kendo.support.pointers,msPointers=kendo.support.msPointers,allPointers=msPointers||pointers,MOUSEENTER=pointers?"pointerenter":msPointers?"MSPointerEnter":"mouseenter",MOUSELEAVE=pointers?"pointerleave":msPointers?"MSPointerLeave":"mouseleave",MOUSEWHEEL="DOMMouseScroll"+NS+" mousewheel"+NS,RESIZE=kendo.support.resize+NS,SCROLLWIDTH="scrollWidth",SCROLLHEIGHT="scrollHeight",OFFSETWIDTH="offsetWidth",OFFSETHEIGHT="offsetHeight",POPUP_ID_ATTR="group",POPUP_OPENER_ATTR="groupparent",DOCUMENT_ELEMENT=$(document.documentElement),KENDOPOPUP="kendoPopup",DEFAULTSTATE="k-state-default",HOVERSTATE="k-state-hover",FOCUSEDSTATE="k-state-focused",DISABLEDSTATE="k-state-disabled",SELECTEDSTATE="k-state-selected",menuSelector=".k-menu",groupSelector=".k-menu-group",animationContainerSelector=".k-animation-container",popupSelector=".k-menu-group,"+animationContainerSelector,allItemsSelector=":not(.k-list) > .k-item",disabledSelector=".k-item.k-state-disabled",itemSelector=".k-item:not(.k-state-disabled)",linkSelector=".k-item:not(.k-state-disabled) > .k-link",exclusionSelector=":not(.k-item.k-separator)",nextSelector=exclusionSelector+":eq(0)",lastSelector=exclusionSelector+":last",templateSelector="div:not(.k-animation-container,.k-list-container)",scrollButtonSelector=".k-menu-scroll-button",touchPointerTypes={2:1,touch:1},templates={content:template("<div #= contentCssAttributes(item) # tabindex='-1'>#= content(item) #</div>"),group:template("<ul class='#= groupCssClass(group) #'#= groupAttributes(group) # role='menu' aria-hidden='true'>#= renderItems(data) #</ul>"),itemWrapper:template("<#= tag(item) # class='#= textClass(item) #'#= textAttributes(item) #>#= image(data) ##= sprite(item) ##= text(item) ##= arrow(data) #</#= tag(item) #>"),item:template("<li class='#= wrapperCssClass(group, item) #' #= itemCssAttributes(item) # role='menuitem'  #=item.items ? \"aria-haspopup='true'\": \"\"##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= itemWrapper(data) ## if (item.items) { ##= subGroup({ items: item.items, menu: menu, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),scrollButton:template("<span class='k-button k-button-icon k-menu-scroll-button k-scroll-#= direction #' unselectable='on'><span class='k-icon k-i-arrow-60-#= direction #'></span></span>"),image:template("<img #= imageCssAttributes(item) # alt='' src='#= item.imageUrl #' />"),arrow:template("<span class='#= arrowClass(item, group) #'></span>"),sprite:template("<span class='k-sprite #= spriteCssClass #'></span>"),empty:template("")},rendering={wrapperCssClass:function(group,item){var result="k-item",index=item.index;return!1===item.enabled?result+=" k-state-disabled":result+=" k-state-default",group.firstLevel&&0===index&&(result+=" k-first"),index==group.length-1&&(result+=" k-last"),item.cssClass&&(result+=" "+item.cssClass),item.attr&&item.attr.hasOwnProperty("class")&&(result+=" "+item.attr.class),item.selected&&(result+=" "+SELECTEDSTATE),result},itemCssAttributes:function(item){var result="",attributes=item.attr||{};for(var attr in attributes)attributes.hasOwnProperty(attr)&&"class"!==attr&&(result+=attr+'="'+attributes[attr]+'" ');return result},imageCssAttributes:function(item){var result="",attributes=item.imageAttr||{};for(var attr in attributes.class?attributes.class+=" "+IMAGE:attributes.class=IMAGE,attributes)attributes.hasOwnProperty(attr)&&(result+=attr+'="'+attributes[attr]+'" ');return result},contentCssAttributes:function(item){var result="",attributes=item.contentAttr||{},defaultClasses="k-content k-group k-menu-group";for(var attr in attributes.class?attributes.class+=" "+defaultClasses:attributes.class=defaultClasses,attributes)attributes.hasOwnProperty(attr)&&(result+=attr+'="'+attributes[attr]+'" ');return result},textClass:function(){return LINK},textAttributes:function(item){return item.url?" href='"+item.url+"'":""},arrowClass:function(item,group){var result="k-icon";return group.horizontal?result+=" k-i-arrow-60-down":result+=" k-i-arrow-60-right",result},text:function(item){return!1===item.encoded?item.text:kendo.htmlEncode(item.text)},tag:function(item){return item.url?"a":"span"},groupAttributes:function(group){return!0!==group.expanded?" style='display:none'":""},groupCssClass:function(){return"k-group k-menu-group"},content:function(item){return item.content?item.content:"&nbsp;"}};function getEffectDirection(direction,root){return(direction=direction.split(" ")[!root+0]||direction).replace("top","up").replace("bottom","down")}function parseDirection(direction,root,isRtl){direction=direction.split(" ")[!root+0]||direction;var output={origin:["bottom",isRtl?"right":"left"],position:["top",isRtl?"right":"left"]},horizontal;return/left|right/.test(direction)?(output.origin=["top",direction],output.position[1]=kendo.directions[direction].reverse):(output.origin[0]=direction,output.position[0]=kendo.directions[direction].reverse),output.origin=output.origin.join(" "),output.position=output.position.join(" "),output}function contains(parent,child){try{return $.contains(parent,child)}catch(e){return!1}}function updateItemClasses(item){(item=$(item)).addClass("k-item").children(IMG).addClass(IMAGE),item.children("a").addClass(LINK).children(IMG).addClass(IMAGE),item.filter(":not([disabled])").addClass(DEFAULTSTATE),item.filter(".k-separator").empty().append("&nbsp;"),item.filter("li[disabled]").addClass(DISABLEDSTATE).removeAttr("disabled").attr("aria-disabled",!0),item.filter("[role]").length||item.attr("role","menuitem"),item.children("."+LINK).length||item.contents().filter(function(){return!(this.nodeName.match(excludedNodesRegExp)||3==this.nodeType&&!$.trim(this.nodeValue))}).wrapAll("<span class='"+LINK+"'/>"),updateArrow(item),updateFirstLast(item)}function updateArrow(item){(item=$(item)).find("> .k-link > [class*=k-i-arrow]:not(.k-sprite)").remove(),item.filter(":has(.k-menu-group)").children(".k-link:not(:has([class*=k-i-arrow]:not(.k-sprite)))").each(function(){var item=$(this),arrowCssClass=getArrowCssClass(item);item.append("<span class='k-icon "+arrowCssClass+"'/>")})}function getArrowCssClass(item){var arrowCssClass,parent=item.parent().parent(),isRtl=kendo.support.isRtl(parent);return arrowCssClass=parent.hasClass(MENU+"-horizontal")?" k-i-arrow-60-down":isRtl?" k-i-arrow-60-left":" k-i-arrow-60-right"}function updateFirstLast(item){(item=$(item)).filter(".k-first:not(:first-child)").removeClass(FIRST),item.filter(".k-last:not(:last-child)").removeClass(LAST),item.filter(":first-child").addClass(FIRST),item.filter(":last-child").addClass(LAST)}function storeItemSelectEventHandler(element,options){var selectHandler=getItemSelectEventHandler(options);selectHandler&&setItemData(element,selectHandler),options.items&&$(element).children("ul").children("li").each(function(i){storeItemSelectEventHandler(this,options.items[i])})}function setItemData(element,selectHandler){$(element).children(".k-link").data({selectHandler:selectHandler})}function getItemSelectEventHandler(options){var selectHandler=options.select,isFunction=kendo.isFunction;return selectHandler&&isFunction(selectHandler)?selectHandler:null}function popupOpenerSelector(id){return id?"li[data-groupparent='"+id+"']":"li[data-groupparent]"}function popupGroupSelector(id){return id?"ul[data-group='"+id+"']":"ul[data-group]"}function getChildPopups(currentPopup,overflowWrapper){var childPopupOpener,result=[];return currentPopup.find(popupOpenerSelector()).each(function(i,opener){for(var popupId=(opener=$(opener)).data(POPUP_OPENER_ATTR),popup=currentPopup;popupId;)(popup=overflowWrapper.find(popupGroupSelector(popupId)+":visible")).length&&result.push(popup),popupId=(opener=popup.find(popupOpenerSelector())).data(POPUP_OPENER_ATTR)}),result}function popupParentItem(popupElement,overflowWrapper){var popupId=popupElement.data(POPUP_ID_ATTR);return popupId?overflowWrapper.find(popupOpenerSelector(popupId)):$([])}function itemPopup(item,overflowWrapper){var popupId=item.data(POPUP_OPENER_ATTR);return popupId?overflowWrapper.children(animationContainerSelector).children(popupGroupSelector(popupId)):$([])}function overflowMenuParents(current,overflowWrapper){var parents=[],getParents=function(item){for(;item.parentNode&&!overflowWrapper.is(item.parentNode);)parents.push(item.parentNode),item=item.parentNode},elem=current[0]||current;getParents(elem);for(var last=parents[parents.length-1];$(last).is(animationContainerSelector);){var popupElement;if(!(elem=popupParentItem($(last).children("ul"),overflowWrapper)[0]))break;parents.push(elem),getParents(elem),last=parents[parents.length-1]}return parents}function mousewheelDelta(e){var delta=0;return e.wheelDelta&&(delta=(delta=-e.wheelDelta/120)>0?Math.ceil(delta):Math.floor(delta)),e.detail&&(delta=Math.round(e.detail/3)),delta}function parentsScroll(current,scrollDirection){for(var scroll=0,parent=current.parentNode;parent&&!isNaN(parent[scrollDirection]);)scroll+=parent[scrollDirection],parent=parent.parentNode;return scroll}function isPointerTouch(e){return allPointers&&e.originalEvent.pointerType in touchPointerTypes}function isTouch(e){var ev=e.originalEvent;return touch&&/touch/i.test(ev.type||"")}function removeSpacesBetweenItems(ul){ul.contents().filter(function(){return"LI"!=this.nodeName}).remove()}var Menu=Widget.extend({init:function(element,options){var that=this;Widget.fn.init.call(this,element,options),element=this.wrapper=this.element,options=this.options,this._initData(options),this._updateClasses(),this._animations(options),this.nextItemZIndex=100,this._tabindex(),this._initOverflow(options),this._attachMenuEventsHandlers(),options.openOnClick&&(this.clicked=!1),element.attr("role","menubar"),element[0].id&&(this._ariaId=kendo.format("{0}_mn_active",element[0].id)),kendo.notify(this)},events:[OPEN,CLOSE,ACTIVATE,DEACTIVATE,SELECT],options:{name:"Menu",animation:{open:{duration:200},close:{duration:100}},orientation:"horizontal",direction:"default",openOnClick:!1,closeOnClick:!0,hoverDelay:100,scrollable:!1,popupCollision:void 0},_initData:function(options){var that=this;options.dataSource&&(that.angular("cleanup",function(){return{elements:that.element.children()}}),that.element.empty(),that.append(options.dataSource,that.element),that.angular("compile",function(){return{elements:that.element.children()}}))},_attachMenuEventsHandlers:function(){var that=this,element=this.element,options=this.options,overflowWrapper=this._overflowWrapper();(overflowWrapper||element).on(POINTERDOWN,itemSelector,proxy(this._focusHandler,this)).on(CLICK+NS,disabledSelector,!1).on(CLICK+NS,itemSelector,proxy(this._click,this)).on(POINTERDOWN+" "+MOUSEDOWN+NS,".k-content",proxy(this._preventClose,this)).on(MOUSEENTER+NS,itemSelector,proxy(this._mouseenter,this)).on(MOUSELEAVE+NS,itemSelector,proxy(this._mouseleave,this)).on(MOUSEENTER+NS+" "+MOUSELEAVE+NS+" "+MOUSEDOWN+NS+" "+CLICK+NS,linkSelector,proxy(this._toggleHover,this)),element.on("keydown"+NS,proxy(this._keydown,this)).on("focus"+NS,proxy(this._focus,this)).on("focus"+NS,".k-content",proxy(this._focus,this)).on("blur"+NS,proxy(this._removeHoverItem,this)).on("blur"+NS,"[tabindex]",proxy(this._checkActiveElement,this)),overflowWrapper&&overflowWrapper.on(MOUSELEAVE+NS,popupSelector,proxy(this._mouseleavePopup,this)).on(MOUSEENTER+NS,popupSelector,proxy(this._mouseenterPopup,this)),options.openOnClick&&(this._documentClickHandler=proxy(this._documentClick,this),$(document).click(this._documentClickHandler))},_detachMenuEventsHandlers:function(){var that=this,overflowWrapper=this._overflowWrapper();overflowWrapper&&overflowWrapper.off(NS),this.element.off(NS),this._documentClickHandler&&$(document).unbind("click",this._documentClickHandler)},_initOverflow:function(options){var that=this,isHorizontal="horizontal"==options.orientation,backwardBtn,forwardBtn;if(options.scrollable){that._openedPopups={},that._scrollWrapper=that.element.wrap("<div class='k-menu-scroll-wrapper "+options.orientation+"'></div>").parent(),isHorizontal&&removeSpacesBetweenItems(that.element),backwardBtn=$(templates.scrollButton({direction:isHorizontal?"left":"up"})),forwardBtn=$(templates.scrollButton({direction:isHorizontal?"right":"down"})),backwardBtn.add(forwardBtn).appendTo(that._scrollWrapper),that._initScrolling(that.element,backwardBtn,forwardBtn,isHorizontal);var initialWidth=that.element.outerWidth(),initialCssWidth=that.element[0].style.width;initialCssWidth="auto"===initialCssWidth?"":initialCssWidth,isHorizontal&&$(window).on(RESIZE,kendo.throttle(function(){that._setOverflowWrapperWidth(initialWidth,initialCssWidth),that._toggleScrollButtons(that.element,backwardBtn,forwardBtn,isHorizontal)},100)),that._setOverflowWrapperWidth(initialWidth,initialCssWidth),that._toggleScrollButtons(that.element,backwardBtn,forwardBtn,isHorizontal)}},_overflowWrapper:function(){return this._scrollWrapper||this._popupsWrapper},_setOverflowWrapperWidth:function(initialWidth,initialCssWidth){var that=this,wrapperCssWidth=this._scrollWrapper.css("width");this._scrollWrapper.css({width:""});var wrapperWidth=this._scrollWrapper.outerWidth();this._scrollWrapper.css({width:wrapperCssWidth});var menuWidth=this.element.outerWidth(),borders=this.element[0].offsetWidth-this.element[0].clientWidth;if(menuWidth!=wrapperWidth){var width=initialCssWidth?Math.min(initialWidth,wrapperWidth):wrapperWidth;this.element.width(width-borders),this._scrollWrapper.width(width)}},_reinitOverflow:function(options){var that=this,overflowChanged;(options.scrollable&&!this.options.scrollable||!options.scrollable&&this.options.scrollable||options.scrollable&&this.options.scrollable&&options.scrollable.distance!=this.options.scrollable.distance||options.orientation!=this.options.orientation)&&(this._detachMenuEventsHandlers(),this._destroyOverflow(),this._initOverflow(options),this._attachMenuEventsHandlers())},_destroyOverflow:function(){var that=this,overflowWrapper=this._overflowWrapper();overflowWrapper&&(overflowWrapper.off(NS),overflowWrapper.find(scrollButtonSelector).off(NS).remove(),overflowWrapper.children(animationContainerSelector).each(function(i,popupWrapper){var ul=$(popupWrapper).children(groupSelector);ul.off(MOUSEWHEEL);var popupParentLi=popupParentItem(ul,overflowWrapper);popupParentLi.length&&popupParentLi.append(popupWrapper)}),overflowWrapper.find(popupOpenerSelector()).removeAttr("data-groupparent"),overflowWrapper.find(popupGroupSelector()).removeAttr("data-group"),this.element.off(MOUSEWHEEL),$(window).off(RESIZE),overflowWrapper.contents().unwrap(),this._scrollWrapper=this._popupsWrapper=this._openedPopups=void 0)},_initScrolling:function(scrollElement,backwardBtn,forwardBtn,isHorizontal){var that=this,scrollable=that.options.scrollable,distance=$.isNumeric(scrollable.distance)?scrollable.distance:50,mouseWheelDistance=distance/2,backward="-="+distance,forward="+="+distance,backwardDouble="-="+2*distance,forwardDouble="+="+2*distance,scrolling=!1,touchEvents=!1,scroll=function(value){var scrollValue=isHorizontal?{scrollLeft:value}:{scrollTop:value};scrollElement.finish().animate(scrollValue,"fast","linear",function(){scrolling&&scroll(value)}),that._toggleScrollButtons(scrollElement,backwardBtn,forwardBtn,isHorizontal)},mouseenterHandler=function(e){scrolling||touchEvents||(scroll(e.data.direction),scrolling=!0)},mousedownHandler=function(e){var scrollValue=isHorizontal?{scrollLeft:e.data.direction}:{scrollTop:e.data.direction};touchEvents=isTouch(e)||isPointerTouch(e),scrollElement.stop().animate(scrollValue,"fast","linear",function(){touchEvents?(that._toggleScrollButtons(scrollElement,backwardBtn,forwardBtn,isHorizontal),scrolling=!0):$(e.currentTarget).trigger(MOUSEENTER)}),scrolling=!1,e.stopPropagation(),e.preventDefault()};backwardBtn.on(MOUSEENTER+NS,{direction:backward},mouseenterHandler).on(kendo.eventMap.down+NS,{direction:backwardDouble},mousedownHandler),forwardBtn.on(MOUSEENTER+NS,{direction:forward},mouseenterHandler).on(kendo.eventMap.down+NS,{direction:forwardDouble},mousedownHandler),backwardBtn.add(forwardBtn).on(MOUSELEAVE+NS,function(){scrollElement.stop(),scrolling=!1,that._toggleScrollButtons(scrollElement,backwardBtn,forwardBtn,isHorizontal)}),scrollElement.on(MOUSEWHEEL,function(e){if(!e.ctrlKey&&!e.shiftKey&&!e.altKey){var wheelDelta=mousewheelDelta(e.originalEvent),scrollSpeed=Math.abs(wheelDelta)*mouseWheelDistance,value=(wheelDelta>0?"+=":"-=")+scrollSpeed,scrollValue=isHorizontal?{scrollLeft:value}:{scrollTop:value};that._closeChildPopups(scrollElement),scrollElement.finish().animate(scrollValue,"fast","linear",function(){that._toggleScrollButtons(scrollElement,backwardBtn,forwardBtn,isHorizontal)}),e.preventDefault()}})},_toggleScrollButtons:function(scrollElement,backwardBtn,forwardBtn,horizontal){var currentScroll=horizontal?scrollElement.scrollLeft():scrollElement.scrollTop(),scrollSize=horizontal?SCROLLWIDTH:SCROLLHEIGHT,offset=horizontal?OFFSETWIDTH:OFFSETHEIGHT;backwardBtn.toggle(0!==currentScroll),forwardBtn.toggle(currentScroll<scrollElement[0][scrollSize]-scrollElement[0][offset]-1)},setOptions:function(options){var animation=this.options.animation;this._animations(options),options.animation=extend(!0,animation,options.animation),"dataSource"in options&&this._initData(options),this._updateClasses(),this._reinitOverflow(options),Widget.fn.setOptions.call(this,options)},destroy:function(){var that=this;Widget.fn.destroy.call(this),this._detachMenuEventsHandlers(),this._destroyOverflow(),kendo.destroy(this.element)},enable:function(element,enable){return this._toggleDisabled(element,!1!==enable),this},disable:function(element){return this._toggleDisabled(element,!1),this},append:function(item,referenceItem){referenceItem=this.element.find(referenceItem);var inserted=this._insert(item,referenceItem,referenceItem.length?referenceItem.find("> .k-menu-group, > .k-animation-container > .k-menu-group"):null);return each(inserted.items,function(i){inserted.group.append(this),updateArrow(this),storeItemSelectEventHandler(this,item[i]||item)}),updateArrow(referenceItem),updateFirstLast(inserted.group.find(".k-first, .k-last").add(inserted.items)),this},insertBefore:function(item,referenceItem){referenceItem=this.element.find(referenceItem);var inserted=this._insert(item,referenceItem,referenceItem.parent());return each(inserted.items,function(i){referenceItem.before(this),updateArrow(this),updateFirstLast(this),storeItemSelectEventHandler(this,item[i]||item)}),updateFirstLast(referenceItem),this},insertAfter:function(item,referenceItem){referenceItem=this.element.find(referenceItem);var inserted=this._insert(item,referenceItem,referenceItem.parent());return each(inserted.items,function(i){referenceItem.after(this),updateArrow(this),updateFirstLast(this),storeItemSelectEventHandler(this,item[i]||item)}),updateFirstLast(referenceItem),this},_insert:function(item,referenceItem,parent){var that=this,items,groups;referenceItem&&referenceItem.length||(parent=this.element);var plain=$.isPlainObject(item),groupData={firstLevel:parent.hasClass(MENU),horizontal:parent.hasClass(MENU+"-horizontal"),expanded:!0,length:parent.children().length};return referenceItem&&!parent.length&&(parent=$(Menu.renderGroup({group:groupData})).appendTo(referenceItem)),plain||$.isArray(item)?items=$($.map(plain?[item]:item,function(value,idx){return"string"==typeof value?$(value).get():$(Menu.renderItem({group:groupData,item:extend(value,{index:idx})})).get()})):(groups=(items="string"==typeof item&&"<"!=item.charAt(0)?this.element.find(item):$(item)).find("> ul").addClass("k-menu-group").attr("role","menu"),(items=items.filter("li")).add(groups.find("> li")).each(function(){updateItemClasses(this)})),{items:items,group:parent}},remove:function(element){var that=this,parent=(element=this.element.find(element)).parentsUntil(this.element,allItemsSelector),group=element.parent("ul:not(.k-menu)");if(element.remove(),group&&!group.children(allItemsSelector).length){var container=group.parent(animationContainerSelector);container.length?container.remove():group.remove()}return parent.length&&(updateArrow(parent=parent.eq(0)),updateFirstLast(parent)),this},open:function(element){var that=this,options=that.options,horizontal="horizontal"==options.orientation,direction=options.direction,isRtl=kendo.support.isRtl(that.wrapper),overflowWrapper=that._overflowWrapper();element=(overflowWrapper||that.element).find(element),/^(top|bottom|default)$/.test(direction)&&(direction=isRtl?horizontal?(direction+" left").replace("default","bottom"):"left":horizontal?(direction+" right").replace("default","bottom"):"right");var visiblePopups=">.k-popup:visible,>.k-animation-container>.k-popup:visible",closePopup=function(){var popup=$(this).data(KENDOPOPUP);popup&&popup.close(!0)};return element.siblings().find(visiblePopups).each(closePopup),overflowWrapper&&element.find(visiblePopups).each(closePopup),element.each(function(){var li=$(this);clearTimeout(li.data(TIMER)),li.data(TIMER,setTimeout(function(){var ul=li.find(".k-menu-group:first:hidden"),popup,overflowPopup;if(!ul[0]&&overflowWrapper&&(overflowPopup=that._getPopup(li),ul=overflowPopup&&overflowPopup.element),!ul.is(":visible")&&ul[0]&&!1===that._triggerEvent({item:li[0],type:OPEN})){if(!ul.find(".k-menu-group")[0]&&ul.children(".k-item").length>1){var windowHeight=$(window).height(),setScrolling=function(){ul.css({maxHeight:windowHeight-(kendo._outerHeight(ul)-ul.height())-kendo.getShadows(ul).bottom,overflow:"auto"})};kendo.support.browser.msie&&kendo.support.browser.version<=7?setTimeout(setScrolling,0):setScrolling()}else ul.css({maxHeight:"",overflow:""});li.data(ZINDEX,li.css(ZINDEX));var nextZindex=that.nextItemZIndex++;li.css(ZINDEX,nextZindex),that.options.scrollable&&li.parent().siblings(scrollButtonSelector).css({zIndex:++nextZindex}),popup=ul.data(KENDOPOPUP);var root=li.parent().hasClass(MENU),parentHorizontal=root&&horizontal,directions=parseDirection(direction,root,isRtl),effects=options.animation.open.effects,openEffects=void 0!==effects?effects:"slideIn:"+getEffectDirection(direction,root);popup?((popup=ul.data(KENDOPOPUP)).options.origin=directions.origin,popup.options.position=directions.position,popup.options.animation.open.effects=openEffects):popup=ul.kendoPopup({activate:function(){that._triggerEvent({item:this.wrapper.parent(),type:ACTIVATE})},deactivate:function(e){e.sender.element.removeData("targetTransform").css({opacity:""}),that._triggerEvent({item:this.wrapper.parent(),type:DEACTIVATE})},origin:directions.origin,position:directions.position,collision:void 0!==options.popupCollision?options.popupCollision:parentHorizontal?"fit":"fit flip",anchor:li,appendTo:overflowWrapper||li,animation:{open:extend(!0,{effects:openEffects},options.animation.open),close:options.animation.close},open:proxy(that._popupOpen,that),close:function(e){var li=e.sender.wrapper.parent();if(overflowWrapper){var popupId=e.sender.element.data(POPUP_ID_ATTR);popupId&&(li=(overflowWrapper||that.element).find(popupOpenerSelector(popupId))),e.sender.wrapper.children(scrollButtonSelector).hide()}that._triggerEvent({item:li[0],type:CLOSE})?e.preventDefault():(li.css(ZINDEX,li.data(ZINDEX)),li.removeData(ZINDEX),that.options.scrollable&&li.parent().siblings(scrollButtonSelector).css({zIndex:""}),(touch||allPointers)&&(li.removeClass(HOVERSTATE),that._removeHoverItem()))}}).data(KENDOPOPUP),ul.removeAttr("aria-hidden"),that._configurePopupOverflow(popup,li),popup.open(),that._initPopupScrolling(popup)}},that.options.hoverDelay))}),that},_configurePopupOverflow:function(popup,popupOpener){var that=this;if(this.options.scrollable&&(this._wrapPopupElement(popup),!popupOpener.attr("data-groupparent"))){var groupId=(new Date).getTime();popupOpener.attr("data-groupparent",groupId),popup.element.attr("data-group",groupId)}},_wrapPopupElement:function(popup){popup.element.parent().is(animationContainerSelector)||(popup.wrapper=kendo.wrap(popup.element,popup.options.autosize).css({overflow:"hidden",display:"block",position:"absolute"}))},_initPopupScrolling:function(popup,isHorizontal,skipMouseEvents){var that=this;this.options.scrollable&&popup.element[0].scrollHeight>popup.element[0].offsetHeight&&this._initPopupScrollButtons(popup,isHorizontal,skipMouseEvents)},_initPopupScrollButtons:function(popup,isHorizontal,skipMouseEvents){var that=this,scrollButtons=popup.wrapper.children(scrollButtonSelector),animation=that.options.animation,timeout=(animation&&animation.open&&animation.open.duration||0)+30;setTimeout(function(){if(!scrollButtons.length){var backwardBtn=$(templates.scrollButton({direction:isHorizontal?"left":"up"})),forwardBtn=$(templates.scrollButton({direction:isHorizontal?"right":"down"}));scrollButtons=backwardBtn.add(forwardBtn).appendTo(popup.wrapper),that._initScrolling(popup.element,backwardBtn,forwardBtn,isHorizontal),skipMouseEvents||scrollButtons.on(MOUSEENTER+NS,function(){var overflowWrapper=that._overflowWrapper();$(getChildPopups(popup.element,overflowWrapper)).each(function(i,p){var popupOpener=overflowWrapper.find(popupOpenerSelector(p.data(POPUP_ID_ATTR)));that.close(popupOpener)})}).on(MOUSELEAVE+NS,function(){setTimeout(function(){$.isEmptyObject(that._openedPopups)&&that._closeParentPopups(popup.element)},30)})}that._toggleScrollButtons(popup.element,scrollButtons.first(),scrollButtons.last(),isHorizontal)},timeout)},_popupOpen:function(e){e.sender.element.children("."+FOCUSEDSTATE).removeClass(FOCUSEDSTATE),this.options.scrollable&&this._setPopupHeight(e.sender)},_setPopupHeight:function(popup,isFixed){var popupElement=popup.element,popups=popupElement.add(popupElement.parent(animationContainerSelector));popups.height(popupElement.hasClass(MENU)&&this._initialHeight||"");var location=popup._location(isFixed),windowHeight=$(window).height(),popupOuterHeight=location.height,popupOffsetTop=isFixed?0:Math.max(location.top,0),scrollTop=isFixed?0:parentsScroll(this._overflowWrapper()[0],"scrollTop"),bottomScrollbar=window.innerHeight-windowHeight,maxHeight=windowHeight-kendo.getShadows(popupElement).bottom+bottomScrollbar,canFit;if(!(maxHeight+scrollTop>popupOuterHeight+popupOffsetTop)){var height=Math.min(maxHeight,maxHeight-popupOffsetTop+scrollTop);popups.css({overflow:"hidden",height:height+"px"})}},close:function(items,dontClearClose){var that=this,overflowWrapper=that._overflowWrapper(),element=overflowWrapper||that.element;(items=element.find(items)).length||(items=element.find(">.k-item"));var hasChildPopupsHovered=function(currentPopup){var result=!1;return $.isEmptyObject(that._openedPopups)?result:($(getChildPopups(currentPopup,overflowWrapper)).each(function(i,popup){return!(result=!!that._openedPopups[popup.data(POPUP_ID_ATTR).toString()])}),result)},isPopupMouseLeaved=function(opener){var groupId=opener.data(POPUP_OPENER_ATTR);return!overflowWrapper||!groupId||!that._openedPopups[groupId.toString()]};return items.each(function(){var li=$(this);!dontClearClose&&that._isRootItem(li)&&(that.clicked=!1),clearTimeout(li.data(TIMER)),li.data(TIMER,setTimeout(function(){var popup=that._getPopup(li);if(popup&&(isPopupMouseLeaved(li)||that._forceClose)){if(!that._forceClose&&hasChildPopupsHovered(popup.element))return;popup.close(),popup.element.attr("aria-hidden",!0),overflowWrapper&&that._forceClose&&items.last().is(li[0])&&delete that._forceClose}},that.options.hoverDelay))}),that},_getPopup:function(li){var that=this,popup=li.find(".k-menu-group:not(.k-list-container):not(.k-calendar-container):first:visible").data(KENDOPOPUP),overflowWrapper=this._overflowWrapper();if(!popup&&overflowWrapper){var groupId=li.data(POPUP_OPENER_ATTR),popupElement;if(groupId)popup=overflowWrapper.find(popupGroupSelector(groupId)).data(KENDOPOPUP)}return popup},_toggleDisabled:function(items,enable){this.element.find(items).each(function(){$(this).toggleClass(DEFAULTSTATE,enable).toggleClass(DISABLEDSTATE,!enable).attr("aria-disabled",!enable)})},_toggleHover:function(e){var target=$(kendo.eventTarget(e)||e.target).closest(allItemsSelector),isEnter=e.type==MOUSEENTER||-1!==MOUSEDOWN.indexOf(e.type);target.parents("li."+DISABLEDSTATE).length||target.toggleClass(HOVERSTATE,isEnter||"mousedown"==e.type||"click"==e.type),this._removeHoverItem()},_preventClose:function(){this.options.closeOnClick||(this._closurePrevented=!0)},_checkActiveElement:function(e){var that=this,hoverItem=$(e?e.currentTarget:this._hoverItem()),target=that._findRootParent(hoverItem)[0];this._closurePrevented||setTimeout(function(){document.hasFocus()&&(contains(target,kendo._activeElement())||!e||contains(target,e.currentTarget))||that.close(target)},0),this._closurePrevented=!1},_removeHoverItem:function(){var oldHoverItem=this._hoverItem();oldHoverItem&&oldHoverItem.hasClass(FOCUSEDSTATE)&&(oldHoverItem.removeClass(FOCUSEDSTATE),this._oldHoverItem=null)},_updateClasses:function(){var element=this.element,nonContentGroupsSelector=".k-menu-init div ul",items;element.removeClass("k-menu-horizontal k-menu-vertical"),element.addClass("k-widget k-reset k-header k-menu-init "+MENU).addClass(MENU+"-"+this.options.orientation),element.find("li > ul").filter(function(){return!kendo.support.matchesSelector.call(this,".k-menu-init div ul")}).addClass("k-group k-menu-group").attr("role","menu").attr("aria-hidden",element.is(":visible")).end().find("li > div").addClass("k-content").attr("tabindex","-1"),items=element.find("> li,.k-menu-group > li"),element.removeClass("k-menu-init"),items.each(function(){updateItemClasses(this)})},_mouseenter:function(e){var that=this,element=$(e.currentTarget),hasChildren=that._itemHasChildren(element),popupId=element.data(POPUP_OPENER_ATTR)||element.parent().data(POPUP_ID_ATTR),pointerTouch=isPointerTouch(e);popupId&&(that._openedPopups[popupId.toString()]=!0),e.delegateTarget!=element.parents(".k-menu")[0]&&e.delegateTarget!=element.parents(".k-menu-scroll-wrapper,.k-popups-wrapper")[0]||(that.options.openOnClick&&!that.clicked||touch||pointerTouch&&that._isRootItem(element.closest(allItemsSelector))||!contains(e.currentTarget,e.relatedTarget)&&hasChildren&&that.open(element),(that.options.openOnClick&&that.clicked||touch)&&element.siblings().each(proxy(function(_,sibling){that.close(sibling,!0)},that)))},_mouseleave:function(e){var that=this,element=$(e.currentTarget),popupOpener=element.data(POPUP_OPENER_ATTR),hasChildren=element.children(animationContainerSelector).length||element.children(groupSelector).length||popupOpener,$window=$(window);popupOpener&&delete this._openedPopups[popupOpener.toString()],element.parentsUntil(animationContainerSelector,".k-list-container,.k-calendar-container")[0]?e.stopImmediatePropagation():this.options.openOnClick||touch||isPointerTouch(e)||contains(e.currentTarget,e.relatedTarget||e.target)||!hasChildren||contains(e.currentTarget,kendo._activeElement())?(!e.toElement&&!e.relatedTarget||e.clientX<0||e.clientY<0||e.clientY>$window.height()||e.clientX>$window.width())&&this.close(element):this.close(element)},_mouseenterPopup:function(e){var that=this,popupElement=$(e.currentTarget);if(!popupElement.parent().is(animationContainerSelector)){var popupId=(popupElement=popupElement.children("ul")).data(POPUP_ID_ATTR);popupId&&(this._openedPopups[popupId.toString()]=!0)}},_mouseleavePopup:function(e){var that=this,popupElement=$(e.currentTarget);!isPointerTouch(e)&&popupElement.is(animationContainerSelector)&&this._closePopups(popupElement.children("ul"))},_closePopups:function(rootPopup){var that=this,overflowWrapper=that._overflowWrapper(),popupId=rootPopup.data(POPUP_ID_ATTR);if(popupId){delete that._openedPopups[popupId.toString()];var groupParent=overflowWrapper.find(popupOpenerSelector(popupId));setTimeout(function(){if(that.options.openOnClick)that._closeChildPopups(rootPopup);else if($.isEmptyObject(that._openedPopups)){var innerPopup=that._innerPopup(rootPopup);that._closeParentPopups(innerPopup)}else that.close(groupParent,!0)},0)}},_closeChildPopups:function(current){var that=this,overflowWrapper=that._overflowWrapper();$(getChildPopups(current,overflowWrapper)).each(function(){var popupOpener=overflowWrapper.find(popupOpenerSelector(this.data(POPUP_ID_ATTR)));that.close(popupOpener,!0)})},_innerPopup:function(current){var overflowWrapper,popups=getChildPopups(current,this._overflowWrapper());return popups[popups.length-1]||current},_closeParentPopups:function(current){var that=this,overflowWrapper=this._overflowWrapper(),popupId=current.data(POPUP_ID_ATTR),popupOpener=overflowWrapper.find(popupOpenerSelector(popupId));for(popupId=popupOpener.parent().data(POPUP_ID_ATTR),this.close(popupOpener,!0);popupId&&!this._openedPopups[popupId]&&!popupOpener.parent().is(".k-menu");)popupOpener=overflowWrapper.find(popupOpenerSelector(popupId)),this.close(popupOpener,!0),popupId=popupOpener.parent().data(POPUP_ID_ATTR)},_click:function(e){for(var that=this,openHandle,options=this.options,target=$(kendo.eventTarget(e)),targetElement=target[0],nodeName=target[0]?target[0].nodeName.toUpperCase():"",formNode="INPUT"==nodeName||"SELECT"==nodeName||"BUTTON"==nodeName||"LABEL"==nodeName,link=target.closest("."+LINK),element=target.closest(allItemsSelector),itemElement=element[0],href=link.attr("href"),childGroup,childGroupVisible,targetHref=target.attr("href"),sampleHref=$("<a href='#' />").attr("href"),isLink=!!href&&href!==sampleHref,isLocalLink=isLink&&!!href.match(/^#/),isTargetLink=!!targetHref&&targetHref!==sampleHref,overflowWrapper=this._overflowWrapper(),shouldCloseTheRootItem;targetElement&&targetElement.parentNode!=itemElement;)targetElement=targetElement.parentNode;if(!$(targetElement).is(templateSelector))if(element.hasClass(DISABLEDSTATE))e.preventDefault();else{if(e.handled||!this._triggerSelect(target,itemElement)||formNode||e.preventDefault(),e.handled=!0,childGroup=element.children(popupSelector),overflowWrapper){var childPopupId=element.data(POPUP_OPENER_ATTR);childPopupId&&(childGroup=overflowWrapper.find(popupGroupSelector(childPopupId)))}if(childGroupVisible=childGroup.is(":visible"),shouldCloseTheRootItem=options.openOnClick&&childGroupVisible&&this._isRootItem(element),options.closeOnClick&&(!isLink||isLocalLink)&&(!childGroup.length||shouldCloseTheRootItem)){element.removeClass(HOVERSTATE).css("height"),this._oldHoverItem=this._findRootParent(element);var item=this._parentsUntil(link,this.element,allItemsSelector);return this._forceClose=!!overflowWrapper,this.close(item),this.clicked=!1,void(-1!="MSPointerUp".indexOf(e.type)&&e.preventDefault())}isLink&&e.enterKey&&link[0].click(),(this._isRootItem(element)&&options.openOnClick||kendo.support.touch||allPointers&&this._isRootItem(element.closest(allItemsSelector)))&&(isLink||formNode||isTargetLink||e.preventDefault(),this.clicked=!0,openHandle=childGroup.is(":visible")?CLOSE:OPEN,(options.closeOnClick||openHandle!=CLOSE)&&this[openHandle](element))}},_parentsUntil:function(context,top,selector){var overflowWrapper=this._overflowWrapper();if(overflowWrapper){var parents=overflowMenuParents(context,overflowWrapper),result=[];return $(parents).each(function(){var parent=$(this);if(parent.is(top))return!1;parent.is(selector)&&result.push(this)}),$(result)}return context.parentsUntil(top,selector)},_triggerSelect:function(target,itemElement){var selectHandler=target.data("selectHandler"),itemSelectEventData;selectHandler&&(itemSelectEventData=this._getEventData(target),selectHandler.call(this,itemSelectEventData));var isSelectItemDefaultPrevented=itemSelectEventData&&itemSelectEventData.isDefaultPrevented(),isSelectDefaultPrevented=this._triggerEvent({item:itemElement,type:SELECT});return isSelectItemDefaultPrevented||isSelectDefaultPrevented},_getEventData:function(target){var eventData;return{sender:this,target:target,_defaultPrevented:!1,preventDefault:function(){this._defaultPrevented=!0},isDefaultPrevented:function(){return this._defaultPrevented}}},_documentClick:function(e){var that=this;contains((this._overflowWrapper()||this.element)[0],e.target)||(this.clicked=!1)},_focus:function(e){var that=this,target=e.target,hoverItem=this._hoverItem(),active=activeElement();if(target!=this.wrapper[0]&&!$(target).is(":kendoFocusable"))return e.stopPropagation(),$(target).closest(".k-content").closest(".k-menu-group").closest(".k-item").addClass(FOCUSEDSTATE),void this.wrapper.focus();active===e.currentTarget&&(hoverItem.length?this._moveHover([],hoverItem):this._oldHoverItem||this._moveHover([],this.wrapper.children().first()))},_keydown:function(e){var that=this,key=e.keyCode,hoverItem=this._oldHoverItem,target,belongsToVertical,hasChildren,isRtl=kendo.support.isRtl(this.wrapper);if(e.target==e.currentTarget||key==keys.ESC){if(hoverItem||(hoverItem=this._oldHoverItem=this._hoverItem()),belongsToVertical=this._itemBelongsToVertival(hoverItem),hasChildren=this._itemHasChildren(hoverItem),key==keys.RIGHT)target=this[isRtl?"_itemLeft":"_itemRight"](hoverItem,belongsToVertical,hasChildren);else if(key==keys.LEFT)target=this[isRtl?"_itemRight":"_itemLeft"](hoverItem,belongsToVertical,hasChildren);else if(key==keys.DOWN)target=this._itemDown(hoverItem,belongsToVertical,hasChildren);else if(key==keys.UP)target=this._itemUp(hoverItem,belongsToVertical,hasChildren);else if(key==keys.ESC)target=this._itemEsc(hoverItem,belongsToVertical);else if(key==keys.ENTER||key==keys.SPACEBAR)(target=hoverItem.children(".k-link")).length>0&&(this._click({target:target[0],preventDefault:function(){},enterKey:!0}),this._moveHover(hoverItem,this._findRootParent(hoverItem)));else if(key==keys.TAB)return target=this._findRootParent(hoverItem),this._moveHover(hoverItem,target),void this._checkActiveElement();target&&target[0]&&(e.preventDefault(),e.stopPropagation())}},_hoverItem:function(){return this.wrapper.find(".k-item.k-state-hover,.k-item.k-state-focused").filter(":visible")},_itemBelongsToVertival:function(item){var menuIsVertical=this.wrapper.hasClass("k-menu-vertical");return item.length&&item.parent().hasClass("k-menu-group")||menuIsVertical},_itemHasChildren:function(item){return!!(item&&item.length&&item[0].nodeType)&&(item.children("ul.k-menu-group, div.k-animation-container").length>0||!!item.data(POPUP_OPENER_ATTR)&&!!this._overflowWrapper().children(popupGroupSelector(item.data(POPUP_OPENER_ATTR))))},_moveHover:function(item,nextItem){var that=this,id=this._ariaId;item.length&&nextItem.length&&item.removeClass(FOCUSEDSTATE),nextItem.length&&(nextItem[0].id&&(id=nextItem[0].id),nextItem.addClass(FOCUSEDSTATE),this._oldHoverItem=nextItem,id&&(this.element.removeAttr("aria-activedescendant"),$("#"+id).removeAttr("id"),nextItem.attr("id",id),this.element.attr("aria-activedescendant",id)),this._scrollToItem(nextItem))},_findRootParent:function(item){return this._isRootItem(item)?item:this._parentsUntil(item,".k-menu","li.k-item").last()},_isRootItem:function(item){return item.parent().hasClass(MENU)},_itemRight:function(item,belongsToVertical,hasChildren){var that=this,nextItem,parentItem,overflowWrapper;if(!item.hasClass(DISABLEDSTATE)){if(belongsToVertical){if(hasChildren)this.open(item),nextItem=this._childPopupElement(item).children().first();else if("horizontal"==this.options.orientation){if(parentItem=this._findRootParent(item),overflowWrapper=this._overflowWrapper()){var rootPopup=itemPopup(parentItem,overflowWrapper);this._closeChildPopups(rootPopup)}this.close(parentItem),nextItem=parentItem.nextAll(nextSelector)}}else(nextItem=item.nextAll(nextSelector)).length||(nextItem=item.prevAll(lastSelector));return nextItem&&!nextItem.length?nextItem=this.wrapper.children(".k-item").first():nextItem||(nextItem=[]),this._moveHover(item,nextItem),nextItem}},_itemLeft:function(item,belongsToVertical){var that=this,nextItem,overflowWrapper;return belongsToVertical?(nextItem=item.parent().closest(".k-item"),overflowWrapper=this._overflowWrapper(),!nextItem.length&&overflowWrapper&&(nextItem=popupParentItem(item.parent(),overflowWrapper)),this.close(nextItem),this._isRootItem(nextItem)&&"horizontal"==this.options.orientation&&(nextItem=nextItem.prevAll(nextSelector))):(nextItem=item.prevAll(nextSelector)).length||(nextItem=item.nextAll(lastSelector)),nextItem.length||(nextItem=this.wrapper.children(".k-item").last()),this._moveHover(item,nextItem),nextItem},_itemDown:function(item,belongsToVertical,hasChildren){var that=this,nextItem;if(belongsToVertical)nextItem=item.nextAll(nextSelector);else{if(!hasChildren||item.hasClass(DISABLEDSTATE))return;this.open(item),nextItem=this._childPopupElement(item).children().first()}return!nextItem.length&&item.length?nextItem=item.parent().children().first():item.length||(nextItem=this.wrapper.children(".k-item").first()),this._moveHover(item,nextItem),nextItem},_itemUp:function(item,belongsToVertical){var that=this,nextItem;if(belongsToVertical)return!(nextItem=item.prevAll(nextSelector)).length&&item.length?nextItem=item.parent().children().last():item.length||(nextItem=this.wrapper.children(".k-item").last()),this._moveHover(item,nextItem),nextItem},_scrollToItem:function(item){var that=this;if(that.options.scrollable&&item&&item.length){var ul=item.parent(),isHorizontal=!!ul.hasClass(MENU)&&"horizontal"==that.options.orientation,scrollDir=isHorizontal?"scrollLeft":"scrollTop",getSize=isHorizontal?kendo._outerWidth:kendo._outerHeight,currentScrollOffset=ul[scrollDir](),itemSize=getSize(item),itemOffset=item[0][isHorizontal?"offsetLeft":"offsetTop"],ulSize=getSize(ul),scrollButtons=ul.siblings(scrollButtonSelector),scrollButtonSize=scrollButtons.length?getSize(scrollButtons.first()):0,itemPosition;if(currentScrollOffset+ulSize<itemOffset+itemSize+scrollButtonSize?itemPosition=itemOffset+itemSize-ulSize+scrollButtonSize:currentScrollOffset>itemOffset-scrollButtonSize&&(itemPosition=itemOffset-scrollButtonSize),!isNaN(itemPosition)){var scrolling={};scrolling[scrollDir]=itemPosition,ul.finish().animate(scrolling,"fast","linear",function(){that._toggleScrollButtons(ul,scrollButtons.first(),scrollButtons.last(),isHorizontal)})}}},_itemEsc:function(item,belongsToVertical){var that=this,nextItem;return belongsToVertical?(nextItem=item.parent().closest(".k-item"),this.close(nextItem),this._moveHover(item,nextItem),nextItem):item},_childPopupElement:function(item){var popupElement=item.find(".k-menu-group"),wrapper=this._overflowWrapper();return!popupElement.length&&wrapper&&(popupElement=itemPopup(item,wrapper)),popupElement},_triggerEvent:function(e){var that=this;return this.trigger(e.type,{type:e.type,item:e.item})},_focusHandler:function(e){var that=this,item=$(kendo.eventTarget(e)).closest(allItemsSelector);item.hasClass(DISABLEDSTATE)||setTimeout(function(){that._moveHover([],item),item.children(".k-content")[0]&&item.parent().closest(".k-item").removeClass(FOCUSEDSTATE)},200)},_animations:function(options){options&&"animation"in options&&!options.animation&&(options.animation={open:{effects:{}},close:{hide:!0,effects:{}}})}});extend(Menu,{renderItem:function(options){options=extend({menu:{},group:{}},options);var empty=templates.empty,item=options.item;return templates.item(extend(options,{image:item.imageUrl?templates.image:empty,sprite:item.spriteCssClass?templates.sprite:empty,itemWrapper:templates.itemWrapper,renderContent:Menu.renderContent,arrow:item.items||item.content?templates.arrow:empty,subGroup:Menu.renderGroup},rendering))},renderGroup:function(options){return templates.group(extend({renderItems:function(options){for(var html="",i=0,items=options.items,len=items?items.length:0,group=extend({length:len},options.group);i<len;i++)html+=Menu.renderItem(extend(options,{group:group,item:extend({index:i},items[i])}));return html}},options,rendering))},renderContent:function(options){return templates.content(extend(options,rendering))}});var ContextMenu=Menu.extend({init:function(element,options){var that=this;Menu.fn.init.call(this,element,options),this._marker=kendo.guid().substring(0,8),this.target=$(this.options.target),this._popup(),this._wire()},_initOverflow:function(options){var that=this;options.scrollable&&!this._overflowWrapper()&&(this._openedPopups={},this._popupsWrapper=(this.element.parent().is(animationContainerSelector)?this.element.parent():this.element).wrap("<div class='k-popups-wrapper "+options.orientation+"'></div>").parent(),"horizontal"==this.options.orientation&&removeSpacesBetweenItems(this.element),options.appendTo&&options.appendTo.append(this._popupsWrapper),this._initialHeight=this.element[0].style.height,this._initialWidth=this.element[0].style.width)},options:{name:"ContextMenu",filter:null,showOn:"contextmenu",orientation:"vertical",alignToAnchor:!1,target:"body"},events:[OPEN,CLOSE,ACTIVATE,DEACTIVATE,SELECT],setOptions:function(options){var that=this;Menu.fn.setOptions.call(this,options),this.target.off(this.showOn+NS+this._marker,this._showProxy),this.userEvents&&this.userEvents.destroy(),this.target=$(this.options.target),options.orientation&&this.popup.wrapper[0]&&this.popup.element.unwrap(),this._wire(),Menu.fn.setOptions.call(this,options)},destroy:function(){var that=this;this.target.off(this.options.showOn+NS+this._marker),DOCUMENT_ELEMENT.off(kendo.support.mousedown+NS+this._marker,this._closeProxy),this.userEvents&&this.userEvents.destroy(),Menu.fn.destroy.call(this)},open:function(x,y){var that=this;if(x=$(x)[0],contains(this.element[0],$(x)[0])||this._itemHasChildren($(x)))Menu.fn.open.call(this,x);else if(!1===this._triggerEvent({item:this.element,type:OPEN})){if(this.popup.visible()&&this.options.filter&&(this.popup.close(!0),this.popup.element.kendoStop(!0)),void 0!==y){var overflowWrapper=this._overflowWrapper();if(overflowWrapper){var offset=overflowWrapper.offset();x-=offset.left,y-=offset.top}this.popup.wrapper.hide(),this._configurePopupScrolling(x,y),this.popup.open(x,y)}else this.popup.options.anchor=x||this.popup.anchor||this.target,this.popup.element.kendoStop(!0),this._configurePopupScrolling(),this.popup.open();DOCUMENT_ELEMENT.off(this.popup.downEvent,this.popup._mousedownProxy),DOCUMENT_ELEMENT.on(kendo.support.mousedown+NS+this._marker,this._closeProxy)}return this},_configurePopupScrolling:function(x,y){var that=this,popup=this.popup,isHorizontal="horizontal"==this.options.orientation;this.options.scrollable&&(this._wrapPopupElement(popup),popup.element.parent().css({position:"",height:""}),popup.element.css({visibility:"hidden",display:"",position:""}),isHorizontal?this._setPopupWidth(popup,isNaN(x)?void 0:{isFixed:!0,x:x,y:y}):this._setPopupHeight(popup,isNaN(x)?void 0:{isFixed:!0,x:x,y:y}),popup.element.css({visibility:"",display:"none",position:"absolute"}),this._initPopupScrollButtons(popup,isHorizontal,!0),popup.element.siblings(scrollButtonSelector).hide())},_setPopupWidth:function(popup,isFixed){var popupElement=popup.element,popups=popupElement.add(popupElement.parent(animationContainerSelector));popups.width(this._initialWidth||"");var location=popup._location(isFixed),windowWidth=$(window).width(),popupOuterWidth=location.width,popupOffsetLeft=Math.max(location.left,0),scrollLeft=isFixed?0:parentsScroll(this._overflowWrapper()[0],"scrollLeft"),shadow=kendo.getShadows(popupElement),maxWidth=windowWidth-shadow.left-shadow.right,canFit;maxWidth+scrollLeft>popupOuterWidth+popupOffsetLeft||popups.css({overflow:"hidden",width:maxWidth-popupOffsetLeft+scrollLeft+"px"})},close:function(){var that=this;contains(this.element[0],$(arguments[0])[0])||this._itemHasChildren(arguments[0])?Menu.fn.close.call(this,arguments[0]):this.popup.visible()&&!1===this._triggerEvent({item:this.element,type:CLOSE})&&(this.popup.close(),DOCUMENT_ELEMENT.off(kendo.support.mousedown+NS,this._closeProxy),this.unbind(SELECT,this._closeTimeoutProxy))},_showHandler:function(e){var ev=e,offset,that=this,options=this.options;e.event&&((ev=e.event).pageX=e.x.location,ev.pageY=e.y.location),contains(this.element[0],e.relatedTarget||e.target)||(this._eventOrigin=ev,ev.preventDefault(),ev.stopImmediatePropagation(),this.element.find("."+FOCUSEDSTATE).removeClass(FOCUSEDSTATE),(options.filter&&kendo.support.matchesSelector.call(ev.currentTarget,options.filter)||!options.filter)&&(options.alignToAnchor?(this.popup.options.anchor=ev.currentTarget,this.open(ev.currentTarget)):(this.popup.options.anchor=ev.currentTarget,this._targetChild?(offset=this.target.offset(),this.open(ev.pageX-offset.left,ev.pageY-offset.top)):this.open(ev.pageX,ev.pageY))))},_closeHandler:function(e){var that=this,target=$(e.relatedTarget||e.target),sameTarget=target.closest(this.target.selector)[0]==this.target[0],item=target.closest(itemSelector),children=this._itemHasChildren(item),overflowWrapper=this._overflowWrapper(),containment=contains(this.element[0],target[0])||overflowWrapper&&contains(overflowWrapper[0],target[0]);this._eventOrigin=e;var normalClick=3!==e.which;this.popup.visible()&&(normalClick&&sameTarget||!sameTarget)&&(this.options.closeOnClick&&!children&&containment||!containment)&&(containment?(this.unbind(SELECT,this._closeTimeoutProxy),this.bind(SELECT,this._closeTimeoutProxy)):this.close())},_wire:function(){var that=this,options=this.options,target=this.target;this._showProxy=proxy(this._showHandler,this),this._closeProxy=proxy(this._closeHandler,this),this._closeTimeoutProxy=proxy(this.close,this),target[0]&&(kendo.support.mobileOS&&"contextmenu"==options.showOn?(this.userEvents=new kendo.UserEvents(target,{filter:options.filter,allowSelection:!1}),target.on(options.showOn+NS+this._marker,!1),this.userEvents.bind("hold",this._showProxy)):options.filter?target.on(options.showOn+NS+this._marker,options.filter,this._showProxy):target.on(options.showOn+NS+this._marker,this._showProxy))},_triggerEvent:function(e){var that=this,anchor=$(this.popup.options.anchor)[0],origin=this._eventOrigin;return this._eventOrigin=void 0,this.trigger(e.type,extend({type:e.type,item:e.item||this.element[0],target:anchor},origin?{event:origin}:{}))},_popup:function(){var that=this,overflowWrapper=this._overflowWrapper();this._triggerProxy=proxy(this._triggerEvent,this),this.popup=this.element.addClass("k-context-menu").kendoPopup({anchor:this.target||"body",copyAnchorStyles:this.options.copyAnchorStyles,collision:this.options.popupCollision||"fit",animation:this.options.animation,activate:this._triggerProxy,deactivate:this._triggerProxy,appendTo:overflowWrapper||this.options.appendTo,close:overflowWrapper?function(e){$(getChildPopups(e.sender.element,overflowWrapper)).each(function(i,p){var popup=p.data(KENDOPOPUP);popup&&popup.close(!0)})}:$.noop}).data(KENDOPOPUP),this._targetChild=contains(this.target[0],this.popup.element[0])}});ui.plugin(Menu),ui.plugin(ContextMenu)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(a1,a2,a3){(a3||a2)()}),function(f,define){define("kendo.draganddrop",["kendo.core","kendo.userevents"],f)}(function(){var __meta___id="draganddrop",__meta___name="Drag & drop",__meta___category="framework",__meta___description="Drag & drop functionality for any DOM element.",__meta___depends=["core","userevents"];return function($,undefined){var kendo=window.kendo,support=kendo.support,document=window.document,$window=$(window),Class=kendo.Class,Widget=kendo.ui.Widget,Observable=kendo.Observable,UserEvents=kendo.UserEvents,proxy=$.proxy,extend=$.extend,getOffset=kendo.getOffset,draggables={},dropTargets={},dropAreas={},lastDropTarget,elementUnderCursor=kendo.elementUnderCursor,KEYUP="keyup",CHANGE="change",DRAGSTART="dragstart",HOLD="hold",DRAG="drag",DRAGEND="dragend",DRAGCANCEL="dragcancel",HINTDESTROYED="hintDestroyed",DRAGENTER="dragenter",DRAGLEAVE="dragleave",DROP="drop";function contains(parent,child){try{return $.contains(parent,child)||parent==child}catch(e){return!1}}function numericCssPropery(element,property){return parseInt(element.css(property),10)||0}function within(value,range){return Math.min(Math.max(value,range.min),range.max)}function containerBoundaries(container,element){var offset=getOffset(container),outerWidth=kendo._outerWidth,outerHeight=kendo._outerHeight,minX=offset.left+numericCssPropery(container,"borderLeftWidth")+numericCssPropery(container,"paddingLeft"),minY=offset.top+numericCssPropery(container,"borderTopWidth")+numericCssPropery(container,"paddingTop"),maxX,maxY;return{x:{min:minX,max:minX+container.width()-outerWidth(element,!0)},y:{min:minY,max:minY+container.height()-outerHeight(element,!0)}}}function checkTarget(target,targets,areas){for(var theTarget,theFilter,i=0,targetLen=targets&&targets.length,areaLen=areas&&areas.length;target&&target.parentNode;){for(i=0;i<targetLen;i++)if((theTarget=targets[i]).element[0]===target)return{target:theTarget,targetElement:target};for(i=0;i<areaLen;i++)if(theFilter=areas[i],$.contains(theFilter.element[0],target)&&support.matchesSelector.call(target,theFilter.options.filter))return{target:theFilter,targetElement:target};target=target.parentNode}return undefined}var TapCapture=Observable.extend({init:function(element,options){var that=this,domElement=element[0];that.capture=!1,domElement.addEventListener?($.each(kendo.eventMap.down.split(" "),function(){domElement.addEventListener(this,proxy(that._press,that),!0)}),$.each(kendo.eventMap.up.split(" "),function(){domElement.addEventListener(this,proxy(that._release,that),!0)})):($.each(kendo.eventMap.down.split(" "),function(){domElement.attachEvent(this,proxy(that._press,that))}),$.each(kendo.eventMap.up.split(" "),function(){domElement.attachEvent(this,proxy(that._release,that))})),Observable.fn.init.call(that),that.bind(["press","release"],options||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(e){var that=this;this.trigger("press"),this.capture&&e.preventDefault()},_release:function(e){var that=this;this.trigger("release"),this.capture&&(e.preventDefault(),this.cancelCapture())}}),PaneDimension=Observable.extend({init:function(options){var that=this;Observable.fn.init.call(this),this.forcedEnabled=!1,$.extend(this,options),this.scale=1,this.horizontal?(this.measure="offsetWidth",this.scrollSize="scrollWidth",this.axis="x"):(this.measure="offsetHeight",this.scrollSize="scrollHeight",this.axis="y")},makeVirtual:function(){$.extend(this,{virtual:!0,forcedEnabled:!0,_virtualMin:0,_virtualMax:0})},virtualSize:function(min,max){this._virtualMin===min&&this._virtualMax===max||(this._virtualMin=min,this._virtualMax=max,this.update())},outOfBounds:function(offset){return offset>this.max||offset<this.min},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(scale){this.scale=scale},update:function(silent){var that=this,total=this.virtual?this._virtualMax:this.getTotal(),scaledTotal=total*this.scale,size=this.getSize();(0!==total||this.forcedEnabled)&&(this.max=this.virtual?-this._virtualMin:0,this.size=size,this.total=scaledTotal,this.min=Math.min(this.max,size-scaledTotal),this.minScale=size/total,this.centerOffset=(scaledTotal-size)/2,this.enabled=this.forcedEnabled||scaledTotal>size,silent||this.trigger(CHANGE,this))}}),PaneDimensions=Observable.extend({init:function(options){var that=this;Observable.fn.init.call(this),this.x=new PaneDimension(extend({horizontal:!0},options)),this.y=new PaneDimension(extend({horizontal:!1},options)),this.container=options.container,this.forcedMinScale=options.minScale,this.maxScale=options.maxScale||100,this.bind(CHANGE,options)},rescale:function(newScale){this.x.rescale(newScale),this.y.rescale(newScale),this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var that=this;this.x.update(),this.y.update(),this.enabled=this.x.enabled||this.y.enabled,this.minScale=this.forcedMinScale||Math.min(this.x.minScale,this.y.minScale),this.fitScale=Math.max(this.x.minScale,this.y.minScale),this.trigger(CHANGE)}}),PaneAxis=Observable.extend({init:function(options){var that=this;extend(this,options),Observable.fn.init.call(this)},outOfBounds:function(){return this.dimension.outOfBounds(this.movable[this.axis])},dragMove:function(delta){var that=this,dimension=this.dimension,axis=this.axis,movable=this.movable,position=movable[axis]+delta;dimension.enabled&&((position<dimension.min&&delta<0||position>dimension.max&&delta>0)&&(delta*=this.resistance),movable.translateAxis(axis,delta),this.trigger(CHANGE,this))}}),Pane=Class.extend({init:function(options){var that=this,x,y,resistance,movable;extend(that,{elastic:!0},options),resistance=that.elastic?.5:0,movable=that.movable,that.x=x=new PaneAxis({axis:"x",dimension:that.dimensions.x,resistance:resistance,movable:movable}),that.y=y=new PaneAxis({axis:"y",dimension:that.dimensions.y,resistance:resistance,movable:movable}),that.userEvents.bind(["press","move","end","gesturestart","gesturechange"],{gesturestart:function(e){that.gesture=e,that.offset=that.dimensions.container.offset()},press:function(e){$(e.event.target).closest("a").is("[data-navigate-on-press=true]")&&e.sender.cancel()},gesturechange:function(e){var previousGesture=that.gesture,previousCenter=previousGesture.center,center=e.center,scaleDelta=e.distance/previousGesture.distance,minScale=that.dimensions.minScale,maxScale=that.dimensions.maxScale,coordinates;movable.scale<=minScale&&scaleDelta<1&&(scaleDelta+=.8*(1-scaleDelta)),movable.scale*scaleDelta>=maxScale&&(scaleDelta=maxScale/movable.scale);var offsetX=movable.x+that.offset.left,offsetY=movable.y+that.offset.top;coordinates={x:(offsetX-previousCenter.x)*scaleDelta+center.x-offsetX,y:(offsetY-previousCenter.y)*scaleDelta+center.y-offsetY},movable.scaleWith(scaleDelta),x.dragMove(coordinates.x),y.dragMove(coordinates.y),that.dimensions.rescale(movable.scale),that.gesture=e,e.preventDefault()},move:function(e){e.event.target.tagName.match(/textarea|input/i)||(x.dimension.enabled||y.dimension.enabled?(x.dragMove(e.x.delta),y.dragMove(e.y.delta),e.preventDefault()):e.touch.skip())},end:function(e){e.preventDefault()}})}}),TRANSFORM_STYLE=support.transitions.prefix+"Transform",translate;translate=support.hasHW3D?function(x,y,scale){return"translate3d("+x+"px,"+y+"px,0) scale("+scale+")"}:function(x,y,scale){return"translate("+x+"px,"+y+"px) scale("+scale+")"};var Movable=Observable.extend({init:function(element){var that=this;Observable.fn.init.call(this),this.element=$(element),this.element[0].style.webkitTransformOrigin="left top",this.x=0,this.y=0,this.scale=1,this._saveCoordinates(translate(this.x,this.y,this.scale))},translateAxis:function(axis,by){this[axis]+=by,this.refresh()},scaleTo:function(scale){this.scale=scale,this.refresh()},scaleWith:function(scaleDelta){this.scale*=scaleDelta,this.refresh()},translate:function(coordinates){this.x+=coordinates.x,this.y+=coordinates.y,this.refresh()},moveAxis:function(axis,value){this[axis]=value,this.refresh()},moveTo:function(coordinates){extend(this,coordinates),this.refresh()},refresh:function(){var that=this,x=this.x,y=this.y,newCoordinates;this.round&&(x=Math.round(x),y=Math.round(y)),(newCoordinates=translate(x,y,this.scale))!=this.coordinates&&(kendo.support.browser.msie&&kendo.support.browser.version<10?(this.element[0].style.position="absolute",this.element[0].style.left=this.x+"px",this.element[0].style.top=this.y+"px"):this.element[0].style[TRANSFORM_STYLE]=newCoordinates,this._saveCoordinates(newCoordinates),this.trigger(CHANGE))},_saveCoordinates:function(coordinates){this.coordinates=coordinates}});function destroyDroppable(collection,widget){var groupName=widget.options.group,droppables=collection[groupName],i;if(Widget.fn.destroy.call(widget),droppables.length>1){for(i=0;i<droppables.length;i++)if(droppables[i]==widget){droppables.splice(i,1);break}}else droppables.length=0,delete collection[groupName]}var DropTarget=Widget.extend({init:function(element,options){var that=this;Widget.fn.init.call(this,element,options);var group=this.options.group;group in dropTargets?dropTargets[group].push(this):dropTargets[group]=[this]},events:[DRAGENTER,DRAGLEAVE,DROP],options:{name:"DropTarget",group:"default"},destroy:function(){destroyDroppable(dropTargets,this)},_trigger:function(eventName,e){var that=this,draggable=draggables[this.options.group];if(draggable)return this.trigger(eventName,extend({},e.event,{draggable:draggable,dropTarget:e.dropTarget}))},_over:function(e){this._trigger(DRAGENTER,e)},_out:function(e){this._trigger(DRAGLEAVE,e)},_drop:function(e){var that=this,draggable=draggables[this.options.group];draggable&&(draggable.dropped=!this._trigger(DROP,e))}});DropTarget.destroyGroup=function(groupName){var group=dropTargets[groupName]||dropAreas[groupName],i;if(group){for(i=0;i<group.length;i++)Widget.fn.destroy.call(group[i]);group.length=0,delete dropTargets[groupName],delete dropAreas[groupName]}},DropTarget._cache=dropTargets;var DropTargetArea=DropTarget.extend({init:function(element,options){var that=this;Widget.fn.init.call(this,element,options);var group=this.options.group;group in dropAreas?dropAreas[group].push(this):dropAreas[group]=[this]},destroy:function(){destroyDroppable(dropAreas,this)},options:{name:"DropTargetArea",group:"default",filter:null}}),Draggable=Widget.extend({init:function(element,options){var that=this;Widget.fn.init.call(this,element,options),this._activated=!1,this.userEvents=new UserEvents(this.element,{global:!0,allowSelection:!0,filter:this.options.filter,threshold:this.options.distance,start:proxy(this._start,this),hold:proxy(this._hold,this),move:proxy(this._drag,this),end:proxy(this._end,this),cancel:proxy(this._cancel,this),select:proxy(this._select,this)}),this._afterEndHandler=proxy(this._afterEnd,this),this._captureEscape=proxy(this._captureEscape,this)},events:[HOLD,DRAGSTART,DRAG,DRAGEND,DRAGCANCEL,HINTDESTROYED],options:{name:"Draggable",distance:kendo.support.touch?0:5,group:"default",cursorOffset:null,axis:null,container:null,filter:null,ignore:null,holdToDrag:!1,autoScroll:!1,dropped:!1},cancelHold:function(){this._activated=!1},_captureEscape:function(e){var that=this;e.keyCode===kendo.keys.ESC&&(this._trigger(DRAGCANCEL,{event:e}),this.userEvents.cancel())},_updateHint:function(e){var that=this,coordinates,options=this.options,boundaries=this.boundaries,axis=options.axis,cursorOffset=this.options.cursorOffset;cursorOffset?coordinates={left:e.x.location+cursorOffset.left,top:e.y.location+cursorOffset.top}:(this.hintOffset.left+=e.x.delta,this.hintOffset.top+=e.y.delta,coordinates=$.extend({},this.hintOffset)),boundaries&&(coordinates.top=within(coordinates.top,boundaries.y),coordinates.left=within(coordinates.left,boundaries.x)),"x"===axis?delete coordinates.top:"y"===axis&&delete coordinates.left,this.hint.css(coordinates)},_shouldIgnoreTarget:function(target){var ignoreSelector=this.options.ignore;return ignoreSelector&&$(target).is(ignoreSelector)},_select:function(e){this._shouldIgnoreTarget(e.event.target)||e.preventDefault()},_start:function(e){var that=this,options=that.options,container=options.container,hint=options.hint;if(this._shouldIgnoreTarget(e.touch.initialTouch)||options.holdToDrag&&!that._activated)that.userEvents.cancel();else{if(that.currentTarget=e.target,that.currentTargetOffset=getOffset(that.currentTarget),hint){that.hint&&that.hint.stop(!0,!0).remove(),that.hint=kendo.isFunction(hint)?$(hint.call(that,that.currentTarget)):hint;var offset=getOffset(that.currentTarget);that.hintOffset=offset,that.hint.css({position:"absolute",zIndex:2e4,left:offset.left,top:offset.top}).appendTo(document.body),that.angular("compile",function(){that.hint.removeAttr("ng-repeat");for(var scopeTarget=$(e.target);!scopeTarget.data("$$kendoScope")&&scopeTarget.length;)scopeTarget=scopeTarget.parent();return{elements:that.hint.get(),scopeFrom:scopeTarget.data("$$kendoScope")}})}draggables[options.group]=that,that.dropped=!1,container&&(that.boundaries=containerBoundaries(container,that.hint)),$(document).on(KEYUP,that._captureEscape),that._trigger(DRAGSTART,e)&&(that.userEvents.cancel(),that._afterEnd()),that.userEvents.capture()}},_hold:function(e){this.currentTarget=e.target,this._trigger(HOLD,e)?this.userEvents.cancel():this._activated=!0},_drag:function(e){e.preventDefault();var cursorElement=this._elementUnderCursor(e);if(this.options.autoScroll&&this._cursorElement!==cursorElement&&(this._scrollableParent=findScrollableParent(cursorElement),this._cursorElement=cursorElement),this._lastEvent=e,this._processMovement(e,cursorElement),this.options.autoScroll&&this._scrollableParent[0]){var velocity=autoScrollVelocity(e.x.location,e.y.location,scrollableViewPort(this._scrollableParent));this._scrollCompenstation=$.extend({},this.hintOffset),this._scrollVelocity=velocity,0===velocity.y&&0===velocity.x?(clearInterval(this._scrollInterval),this._scrollInterval=null):this._scrollInterval||(this._scrollInterval=setInterval($.proxy(this,"_autoScroll"),50))}this.hint&&this._updateHint(e)},_processMovement:function(e,cursorElement){this._withDropTarget(cursorElement,function(target,targetElement){if(target){if(lastDropTarget){if(targetElement===lastDropTarget.targetElement)return;lastDropTarget._trigger(DRAGLEAVE,extend(e,{dropTarget:$(lastDropTarget.targetElement)}))}target._trigger(DRAGENTER,extend(e,{dropTarget:$(targetElement)})),lastDropTarget=extend(target,{targetElement:targetElement})}else lastDropTarget&&(lastDropTarget._trigger(DRAGLEAVE,extend(e,{dropTarget:$(lastDropTarget.targetElement)})),lastDropTarget=null)}),this._trigger(DRAG,extend(e,{dropTarget:lastDropTarget,elementUnderCursor:cursorElement}))},_autoScroll:function(){var parent=this._scrollableParent[0],velocity=this._scrollVelocity,compensation=this._scrollCompenstation;if(parent){var cursorElement=this._elementUnderCursor(this._lastEvent),yIsScrollable,xIsScrollable;this._processMovement(this._lastEvent,cursorElement);var isRootNode=parent===scrollableRoot()[0];isRootNode?(yIsScrollable=document.body.scrollHeight>$window.height(),xIsScrollable=document.body.scrollWidth>$window.width()):(yIsScrollable=parent.offsetHeight<=parent.scrollHeight,xIsScrollable=parent.offsetWidth<=parent.scrollWidth);var yDelta=parent.scrollTop+velocity.y,yInBounds=yIsScrollable&&yDelta>0&&yDelta<parent.scrollHeight,xDelta=parent.scrollLeft+velocity.x,xInBounds=xIsScrollable&&xDelta>0&&xDelta<parent.scrollWidth;yInBounds&&(parent.scrollTop+=velocity.y),xInBounds&&(parent.scrollLeft+=velocity.x),this.hint&&isRootNode&&(xInBounds||yInBounds)&&(yInBounds&&(compensation.top+=velocity.y),xInBounds&&(compensation.left+=velocity.x),this.hint.css(compensation))}},_end:function(e){this._withDropTarget(this._elementUnderCursor(e),function(target,targetElement){target&&(target._drop(extend({},e,{dropTarget:$(targetElement)})),lastDropTarget=null)}),this._cancel(this._trigger(DRAGEND,e))},_cancel:function(isDefaultPrevented){var that=this;that._scrollableParent=null,this._cursorElement=null,clearInterval(this._scrollInterval),that._activated=!1,that.hint&&!that.dropped?setTimeout(function(){that.hint.stop(!0,!0),isDefaultPrevented?that._afterEndHandler():that.hint.animate(that.currentTargetOffset,"fast",that._afterEndHandler)},0):that._afterEnd()},_trigger:function(eventName,e){var that=this;return this.trigger(eventName,extend({},e.event,{x:e.x,y:e.y,currentTarget:this.currentTarget,initialTarget:e.touch?e.touch.initialTouch:null,dropTarget:e.dropTarget,elementUnderCursor:e.elementUnderCursor}))},_elementUnderCursor:function(e){var target=elementUnderCursor(e),hint=this.hint;return hint&&contains(hint[0],target)&&(hint.hide(),(target=elementUnderCursor(e))||(target=elementUnderCursor(e)),hint.show()),target},_withDropTarget:function(element,callback){var result,group=this.options.group,targets=dropTargets[group],areas=dropAreas[group];(targets&&targets.length||areas&&areas.length)&&((result=checkTarget(element,targets,areas))?callback(result.target,result.targetElement):callback())},destroy:function(){var that=this;Widget.fn.destroy.call(this),this._afterEnd(),this.userEvents.destroy(),this._scrollableParent=null,this._cursorElement=null,clearInterval(this._scrollInterval),this.currentTarget=null},_afterEnd:function(){var that=this;this.hint&&this.hint.remove(),delete draggables[this.options.group],this.trigger("destroy"),this.trigger(HINTDESTROYED),$(document).off(KEYUP,this._captureEscape)}});function scrollableViewPort(element){var root=scrollableRoot()[0],offset,top,left;return element[0]===root?{top:top=root.scrollTop,left:left=root.scrollLeft,bottom:top+$window.height(),right:left+$window.width()}:((offset=element.offset()).bottom=offset.top+element.height(),offset.right=offset.left+element.width(),offset)}function scrollableRoot(){return $(kendo.support.browser.chrome?document.body:document.documentElement)}function findScrollableParent(element){var root=scrollableRoot();if(!element||element===document.body||element===document.documentElement)return root;for(var parent=$(element)[0];parent&&!kendo.isScrollable(parent)&&parent!==document.body;)parent=parent.parentNode;return parent===document.body?root:$(parent)}function autoScrollVelocity(mouseX,mouseY,rect){var velocity={x:0,y:0},AUTO_SCROLL_AREA=50;return mouseX-rect.left<50?velocity.x=-(50-(mouseX-rect.left)):rect.right-mouseX<50&&(velocity.x=50-(rect.right-mouseX)),mouseY-rect.top<50?velocity.y=-(50-(mouseY-rect.top)):rect.bottom-mouseY<50&&(velocity.y=50-(rect.bottom-mouseY)),velocity}kendo.ui.plugin(DropTarget),kendo.ui.plugin(DropTargetArea),kendo.ui.plugin(Draggable),kendo.TapCapture=TapCapture,kendo.containerBoundaries=containerBoundaries,extend(kendo.ui,{Pane:Pane,PaneDimensions:PaneDimensions,Movable:Movable}),kendo.ui.Draggable.utils={autoScrollVelocity:autoScrollVelocity,scrollableViewPort:scrollableViewPort,findScrollableParent:findScrollableParent}}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(a1,a2,a3){(a3||a2)()}),function(f,define){define("kendo.slider",["kendo.draganddrop"],f)}(function(){var __meta___id="slider",__meta___name="Slider",__meta___category="web",__meta___description="The Slider widget provides a rich input for selecting values or ranges of values.",__meta___depends=["draganddrop"];return function($,undefined){var kendo=window.kendo,Widget=kendo.ui.Widget,Draggable=kendo.ui.Draggable,outerWidth=kendo._outerWidth,outerHeight=kendo._outerHeight,extend=$.extend,format=kendo.format,parse=kendo.parseFloat,proxy=$.proxy,isArray=$.isArray,math=Math,support=kendo.support,pointers=support.pointers,msPointers=support.msPointers,CHANGE="change",SLIDE="slide",NS=".slider",MOUSE_DOWN="touchstart"+NS+" mousedown"+NS,TRACK_MOUSE_DOWN=pointers?"pointerdown"+NS:msPointers?"MSPointerDown"+NS:MOUSE_DOWN,MOUSE_UP="touchend"+NS+" mouseup"+NS,TRACK_MOUSE_UP=pointers?"pointerup":msPointers?"MSPointerUp"+NS:MOUSE_UP,MOVE_SELECTION="moveSelection",KEY_DOWN="keydown"+NS,CLICK="click"+NS,MOUSE_OVER="mouseover"+NS,FOCUS="focus"+NS,BLUR="blur"+NS,DRAG_HANDLE=".k-draghandle",TRACK_SELECTOR=".k-slider-track",TICK_SELECTOR=".k-tick",STATE_SELECTED="k-state-selected",STATE_FOCUSED="k-state-focused",STATE_DEFAULT="k-state-default",STATE_DISABLED="k-state-disabled",DISABLED="disabled",UNDEFINED="undefined",TABINDEX="tabindex",getTouches=kendo.getTouches,SliderBase=Widget.extend({init:function(element,options){var that=this;if(Widget.fn.init.call(this,element,options),options=this.options,this._isHorizontal="horizontal"==options.orientation,this._isRtl=this._isHorizontal&&kendo.support.isRtl(element),this._position=this._isHorizontal?"left":"bottom",this._sizeFn=this._isHorizontal?"width":"height",this._outerSize=this._isHorizontal?outerWidth:outerHeight,options.tooltip.format=options.tooltip.enabled&&options.tooltip.format||"{0}",options.smallStep<=0)throw new Error("Kendo UI Slider smallStep must be a positive number.");this._createHtml(),this.wrapper=this.element.closest(".k-slider"),this._trackDiv=this.wrapper.find(TRACK_SELECTOR),this._setTrackDivWidth(),this._maxSelection=this._trackDiv[this._sizeFn](),this._sliderItemsInit(),this._reset(),this._tabindex(this.wrapper.find(DRAG_HANDLE)),this[options.enabled?"enable":"disable"]();var rtlDirectionSign=kendo.support.isRtl(this.wrapper)?-1:1;this._keyMap={37:step(-1*rtlDirectionSign*options.smallStep),40:step(-options.smallStep),39:step(1*rtlDirectionSign*options.smallStep),38:step(+options.smallStep),35:setValue(options.max),36:setValue(options.min),33:step(+options.largeStep),34:step(-options.largeStep)},kendo.notify(this)},events:[CHANGE,SLIDE],options:{enabled:!0,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:!0,format:"{0}"}},_distance:function(){return round(this.options.max-this.options.min)},_resize:function(){this._setTrackDivWidth(),this.wrapper.find(".k-slider-items").remove(),this._maxSelection=this._trackDiv[this._sizeFn](),this._sliderItemsInit(),this._refresh(),this.options.enabled&&this.enable(!0)},_sliderItemsInit:function(){var that=this,options=this.options,sizeBetweenTicks=this._maxSelection/((options.max-options.min)/options.smallStep),pixelWidths=this._calculateItemsWidth(math.floor(this._distance()/options.smallStep));"none"!=options.tickPlacement&&sizeBetweenTicks>=2&&($(this.element).parent().find(".k-slider-items").remove(),this._trackDiv.before(createSliderItems(options,this._distance())),this._setItemsWidth(pixelWidths),this._setItemsTitle()),this._calculateSteps(pixelWidths),"none"!=options.tickPlacement&&sizeBetweenTicks>=2&&options.largeStep>=options.smallStep&&this._setItemsLargeTick()},getSize:function(){return kendo.dimensions(this.wrapper)},_setTrackDivWidth:function(){var that=this,trackDivPosition=2*parseFloat(this._trackDiv.css(this._isRtl?"right":this._position),10);this._trackDiv[this._sizeFn](this.wrapper[this._sizeFn]()-2-trackDivPosition)},_setItemsWidth:function(pixelWidths){var that=this,options=this.options,first=0,last=pixelWidths.length-1,items=this.wrapper.find(".k-tick"),i,paddingTop=0,bordersWidth=2,count=items.length,selection=0;for(i=0;i<count-2;i++)$(items[i+1])[this._sizeFn](pixelWidths[i]);if(this._isHorizontal?($(items[0]).addClass("k-first")[this._sizeFn](pixelWidths[last-1]),$(items[last]).addClass("k-last")[this._sizeFn](pixelWidths[last])):($(items[last]).addClass("k-first")[this._sizeFn](pixelWidths[last]),$(items[0]).addClass("k-last")[this._sizeFn](pixelWidths[last-1])),this._distance()%options.smallStep!=0&&!this._isHorizontal){for(i=0;i<pixelWidths.length;i++)selection+=pixelWidths[i];paddingTop=this._maxSelection-selection,paddingTop+=parseFloat(this._trackDiv.css(this._position),10)+2,this.wrapper.find(".k-slider-items").css("padding-top",paddingTop)}},_setItemsTitle:function(){for(var that=this,options=this.options,items=this.wrapper.find(".k-tick"),titleNumber=options.min,count=items.length,i=this._isHorizontal&&!this._isRtl?0:count-1,limit=this._isHorizontal&&!this._isRtl?count:-1,increment=this._isHorizontal&&!this._isRtl?1:-1;i-limit!=0;i+=increment)$(items[i]).attr("title",format(options.tooltip.format,round(titleNumber))),titleNumber+=options.smallStep},_setItemsLargeTick:function(){var that=this,options=this.options,items=this.wrapper.find(".k-tick"),i=0,item,value;if(removeFraction(options.largeStep)%removeFraction(options.smallStep)==0||this._distance()/options.largeStep>=3)for(this._isHorizontal||this._isRtl||(items=$.makeArray(items).reverse()),i=0;i<items.length;i++){item=$(items[i]);var valueWithoutFraction=round(removeFraction((value=this._values[i])-this.options.min));valueWithoutFraction%removeFraction(options.smallStep)==0&&valueWithoutFraction%removeFraction(options.largeStep)==0&&(item.addClass("k-tick-large").html("<span class='k-label'>"+item.attr("title")+"</span>"),0!==i&&i!==items.length-1&&item.css("line-height",item[this._sizeFn]()+"px"))}},_calculateItemsWidth:function(itemsCount){var that=this,options=this.options,trackDivSize=parseFloat(this._trackDiv.css(this._sizeFn))+1,distance=this._distance(),pixelStep=trackDivSize/distance,itemWidth,pixelWidths,i;for(distance/options.smallStep-math.floor(distance/options.smallStep)>0&&(trackDivSize-=distance%options.smallStep*pixelStep),itemWidth=trackDivSize/itemsCount,pixelWidths=[],i=0;i<itemsCount-1;i++)pixelWidths[i]=itemWidth;return pixelWidths[itemsCount-1]=pixelWidths[itemsCount]=itemWidth/2,this._roundWidths(pixelWidths)},_roundWidths:function(pixelWidthsArray){var balance=0,count=pixelWidthsArray.length,i;for(i=0;i<count;i++)balance+=pixelWidthsArray[i]-math.floor(pixelWidthsArray[i]),pixelWidthsArray[i]=math.floor(pixelWidthsArray[i]);return balance=math.round(balance),this._addAdditionalSize(balance,pixelWidthsArray)},_addAdditionalSize:function(additionalSize,pixelWidthsArray){if(0===additionalSize)return pixelWidthsArray;var step=parseFloat(pixelWidthsArray.length-1)/parseFloat(1==additionalSize?additionalSize:additionalSize-1),i;for(i=0;i<additionalSize;i++)pixelWidthsArray[parseInt(math.round(step*i),10)]+=1;return pixelWidthsArray},_calculateSteps:function(pixelWidths){var that=this,options=this.options,val=options.min,selection=0,distance=this._distance(),itemsCount=math.ceil(distance/options.smallStep),i=1,lastItem;if(itemsCount+=distance/options.smallStep%1==0?1:0,pixelWidths.splice(0,0,2*pixelWidths[itemsCount-2]),pixelWidths.splice(itemsCount-1,1,2*pixelWidths.pop()),this._pixelSteps=[selection],this._values=[val],0!==itemsCount){for(;i<itemsCount;)selection+=(pixelWidths[i-1]+pixelWidths[i])/2,this._pixelSteps[i]=selection,val+=options.smallStep,this._values[i]=round(val),i++;lastItem=distance%options.smallStep==0?itemsCount-1:itemsCount,this._pixelSteps[lastItem]=this._maxSelection,this._values[lastItem]=options.max,this._isRtl&&(this._pixelSteps.reverse(),this._values.reverse())}},_getValueFromPosition:function(mousePosition,dragableArea){var that=this,options=this.options,step=math.max(options.smallStep*(this._maxSelection/this._distance()),0),position=0,halfStep=step/2,i;if(this._isHorizontal?(position=mousePosition-dragableArea.startPoint,this._isRtl&&(position=this._maxSelection-position)):position=dragableArea.startPoint-mousePosition,this._maxSelection-(parseInt(this._maxSelection%step,10)-3)/2<position)return options.max;for(i=0;i<this._pixelSteps.length;i++)if(math.abs(this._pixelSteps[i]-position)-1<=halfStep)return round(this._values[i])},_getFormattedValue:function(val,drag){var that=this,html="",tooltip=this.options.tooltip,tooltipTemplate,selectionStart,selectionEnd;return isArray(val)?(selectionStart=val[0],selectionEnd=val[1]):drag&&drag.type&&(selectionStart=drag.selectionStart,selectionEnd=drag.selectionEnd),drag&&(tooltipTemplate=drag.tooltipTemplate),!tooltipTemplate&&tooltip.template&&(tooltipTemplate=kendo.template(tooltip.template)),isArray(val)||drag&&drag.type?html=tooltipTemplate?tooltipTemplate({selectionStart:selectionStart,selectionEnd:selectionEnd}):(selectionStart=format(tooltip.format,selectionStart))+" - "+(selectionEnd=format(tooltip.format,selectionEnd)):(drag&&(drag.val=val),html=tooltipTemplate?tooltipTemplate({value:val}):format(tooltip.format,val)),html},_getDraggableArea:function(){var that=this,offset=kendo.getOffset(this._trackDiv);return{startPoint:this._isHorizontal?offset.left:offset.top+this._maxSelection,endPoint:this._isHorizontal?offset.left+this._maxSelection:offset.top}},_createHtml:function(){var that=this,element=this.element,options=this.options,inputs=element.find("input");2==inputs.length?(inputs.eq(0).prop("value",formatValue(options.selectionStart)),inputs.eq(1).prop("value",formatValue(options.selectionEnd))):element.prop("value",formatValue(options.value)),element.wrap(createWrapper(options,element,this._isHorizontal)).hide(),options.showButtons&&element.before(createButton(options,"increase",this._isHorizontal,this._isRtl)).before(createButton(options,"decrease",this._isHorizontal,this._isRtl)),element.before(createTrack(options,element))},_focus:function(e){var that=this,target=e.target,val=this.value(),drag=this._drag;drag||(target==this.wrapper.find(DRAG_HANDLE).eq(0)[0]?(drag=this._firstHandleDrag,this._activeHandle=0):(drag=this._lastHandleDrag,this._activeHandle=1),val=val[this._activeHandle]),$(target).addClass(STATE_FOCUSED+" "+STATE_SELECTED),drag&&(this._activeHandleDrag=drag,drag.selectionStart=this.options.selectionStart,drag.selectionEnd=this.options.selectionEnd,drag._updateTooltip(val))},_focusWithMouse:function(target){var that=this,idx=(target=$(target)).is(DRAG_HANDLE)?target.index():0;window.setTimeout(function(){that.wrapper.find(DRAG_HANDLE)[2==idx?1:0].focus()},1),that._setTooltipTimeout()},_blur:function(e){var that=this,drag=this._activeHandleDrag;$(e.target).removeClass(STATE_FOCUSED+" "+STATE_SELECTED),drag&&(drag._removeTooltip(),delete this._activeHandleDrag,delete this._activeHandle)},_setTooltipTimeout:function(){var that=this;that._tooltipTimeout=window.setTimeout(function(){var drag=that._drag||that._activeHandleDrag;drag&&drag._removeTooltip()},300)},_clearTooltipTimeout:function(){var that=this;window.clearTimeout(this._tooltipTimeout);var drag=this._drag||this._activeHandleDrag;drag&&drag.tooltipDiv&&drag.tooltipDiv.stop(!0,!1).css("opacity",1)},_reset:function(){var that=this,element=this.element,formId=element.attr("form"),form=formId?$("#"+formId):element.closest("form");form[0]&&(this._form=form.on("reset",proxy(this._formResetHandler,this)))},min:function(value){if(!value)return this.options.min;this.setOptions({min:value})},max:function(value){if(!value)return this.options.max;this.setOptions({max:value})},setOptions:function(options){Widget.fn.setOptions.call(this,options),this._sliderItemsInit(),this._refresh()},destroy:function(){this._form&&this._form.off("reset",this._formResetHandler),Widget.fn.destroy.call(this)}});function createWrapper(options,element,isHorizontal){var orientationCssClass=isHorizontal?" k-slider-horizontal":" k-slider-vertical",style=options.style?options.style:element.attr("style"),cssClasses=element.attr("class")?" "+element.attr("class"):"",tickPlacementCssClass="";return"bottomRight"==options.tickPlacement?tickPlacementCssClass=" k-slider-bottomright":"topLeft"==options.tickPlacement&&(tickPlacementCssClass=" k-slider-topleft"),"<div class='k-widget k-slider"+orientationCssClass+cssClasses+"'"+(style=style?" style='"+style+"'":"")+"><div class='k-slider-wrap"+(options.showButtons?" k-slider-buttons":"")+tickPlacementCssClass+"'></div></div>"}function createButton(options,type,isHorizontal,isRtl){var buttonCssClass="";return buttonCssClass=isHorizontal?!isRtl&&"increase"==type||isRtl&&"increase"!=type?"k-i-arrow-60-right":"k-i-arrow-60-left":"increase"==type?"k-i-arrow-60-up":"k-i-arrow-60-down","<a class='k-button k-button-"+type+"' title='"+options[type+"ButtonTitle"]+"' aria-label='"+options[type+"ButtonTitle"]+"'><span class='k-icon "+buttonCssClass+"'></span></a>"}function createSliderItems(options,distance){var result="<ul class='k-reset k-slider-items'>",count=math.floor(round(distance/options.smallStep))+1,i;for(i=0;i<count;i++)result+="<li class='k-tick' role='presentation'>&nbsp;</li>";return result+="</ul>"}function createTrack(options,element){var dragHandleCount=element.is("input")?1:2,firstDragHandleTitle;return"<div class='k-slider-track'><div class='k-slider-selection'>\x3c!-- --\x3e</div><a href='#' class='k-draghandle' title='"+(2==dragHandleCount?options.leftDragHandleTitle:options.dragHandleTitle)+"' role='slider' aria-valuemin='"+options.min+"' aria-valuemax='"+options.max+"' aria-valuenow='"+(dragHandleCount>1?options.selectionStart||options.min:options.value||options.min)+"'>Drag</a>"+(dragHandleCount>1?"<a href='#' class='k-draghandle' title='"+options.rightDragHandleTitle+"'role='slider' aria-valuemin='"+options.min+"' aria-valuemax='"+options.max+"' aria-valuenow='"+(options.selectionEnd||options.max)+"'>Drag</a>":"")+"</div>"}function step(stepValue){return function(value){return value+stepValue}}function setValue(value){return function(){return value}}function formatValue(value){return(value+"").replace(".",kendo.cultures.current.numberFormat["."])}function calculatePrecision(value){var number=value.toString(),precision=0;return(number=number.split("."))[1]&&(precision=number[1].length),precision=precision>10?10:precision}function round(value){var precision,power;return precision=calculatePrecision(value=parseFloat(value,10)),power=math.pow(10,precision||0),math.round(value*power)/power}function parseAttr(element,name){var value=parse(element.getAttribute(name));return null===value&&(value=undefined),value}function defined(value){return typeof value!==UNDEFINED}function removeFraction(value){return 1e4*value}var Slider=SliderBase.extend({init:function(element,options){var that=this,dragHandle;element.type="text",options=extend({},{value:parseAttr(element,"value"),min:parseAttr(element,"min"),max:parseAttr(element,"max"),smallStep:parseAttr(element,"step")},options),element=$(element),options&&options.enabled===undefined&&(options.enabled=!element.is("[disabled]")),SliderBase.fn.init.call(this,element,options),defined((options=this.options).value)&&null!==options.value||(options.value=options.min,element.prop("value",formatValue(options.min))),options.value=math.max(math.min(options.value,options.max),options.min),dragHandle=this.wrapper.find(DRAG_HANDLE),this._selection=new Slider.Selection(dragHandle,this,options),this._drag=new Slider.Drag(dragHandle,"",this,options)},options:{name:"Slider",showButtons:!0,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},value:null},enable:function(enable){var that=this,options=that.options,clickHandler,move;if(that.disable(),!1!==enable){if(that.wrapper.removeClass(STATE_DISABLED).addClass(STATE_DEFAULT),that.wrapper.find("input").removeAttr(DISABLED),clickHandler=function(e){var touch=getTouches(e)[0];if(touch){var mousePosition=that._isHorizontal?touch.location.pageX:touch.location.pageY,dragableArea=that._getDraggableArea(),target=$(e.target);target.hasClass("k-draghandle")?target.addClass(STATE_FOCUSED+" "+STATE_SELECTED):(that._update(that._getValueFromPosition(mousePosition,dragableArea)),that._focusWithMouse(e.target),that._drag.dragstart(e),e.preventDefault())}},that.wrapper.find(".k-tick, .k-slider-track").on(TRACK_MOUSE_DOWN,clickHandler).end().on(TRACK_MOUSE_DOWN,function(){$(document.documentElement).one("selectstart",kendo.preventDefault)}).on(TRACK_MOUSE_UP,function(){that._drag._end()}),that.wrapper.find(DRAG_HANDLE).attr(TABINDEX,0).on(MOUSE_UP,function(){that._setTooltipTimeout()}).on(CLICK,function(e){that._focusWithMouse(e.target),e.preventDefault()}).on(FOCUS,proxy(that._focus,that)).on(BLUR,proxy(that._blur,that)),move=proxy(function(sign){var newVal=that._nextValueByIndex(that._valueIndex+1*sign);that._setValueInRange(newVal),that._drag._updateTooltip(newVal)},that),options.showButtons){var mouseDownHandler=proxy(function(e,sign){this._clearTooltipTimeout(),(1===e.which||support.touch&&0===e.which)&&(move(sign),this.timeout=setTimeout(proxy(function(){this.timer=setInterval(function(){move(sign)},60)},this),200))},that);that.wrapper.find(".k-button").on(MOUSE_UP,proxy(function(e){this._clearTimer(),that._focusWithMouse(e.target)},that)).on(MOUSE_OVER,function(e){$(e.currentTarget).addClass("k-state-hover")}).on("mouseout"+NS,proxy(function(e){$(e.currentTarget).removeClass("k-state-hover"),this._clearTimer()},that)).eq(0).on(MOUSE_DOWN,proxy(function(e){mouseDownHandler(e,1)},that)).click(!1).end().eq(1).on(MOUSE_DOWN,proxy(function(e){mouseDownHandler(e,-1)},that)).click(kendo.preventDefault)}that.wrapper.find(DRAG_HANDLE).off(KEY_DOWN,!1).on(KEY_DOWN,proxy(this._keydown,that)),options.enabled=!0}},disable:function(){var that=this;this.wrapper.removeClass(STATE_DEFAULT).addClass(STATE_DISABLED),$(this.element).prop(DISABLED,DISABLED),this.wrapper.find(".k-button").off(MOUSE_DOWN).on(MOUSE_DOWN,function(e){e.preventDefault(),$(this).addClass("k-state-active")}).off(MOUSE_UP).on(MOUSE_UP,function(e){e.preventDefault(),$(this).removeClass("k-state-active")}).off("mouseleave"+NS).on("mouseleave"+NS,kendo.preventDefault).off(MOUSE_OVER).on(MOUSE_OVER,kendo.preventDefault),this.wrapper.find(".k-tick, .k-slider-track").off(TRACK_MOUSE_DOWN).off(TRACK_MOUSE_UP),this.wrapper.find(DRAG_HANDLE).attr(TABINDEX,-1).off(MOUSE_UP).off(KEY_DOWN).off(CLICK).off(FOCUS).off(BLUR),this.options.enabled=!1},_update:function(val){var that=this,change=this.value()!=val;this.value(val),change&&this.trigger(CHANGE,{value:this.options.value})},value:function(value){var that=this,options=this.options;if(value=round(value),isNaN(value))return options.value;value>=options.min&&value<=options.max&&options.value!=value&&(this.element.prop("value",formatValue(value)),options.value=value,this._refreshAriaAttr(value),this._refresh())},_refresh:function(){this.trigger(MOVE_SELECTION,{value:this.options.value})},_refreshAriaAttr:function(value){var that=this,drag=this._drag,formattedValue;formattedValue=drag&&drag._tooltipDiv?drag._tooltipDiv.text():this._getFormattedValue(value,null),this.wrapper.find(DRAG_HANDLE).attr("aria-valuenow",value).attr("aria-valuetext",formattedValue)},_clearTimer:function(){clearTimeout(this.timeout),clearInterval(this.timer)},_keydown:function(e){var that=this;e.keyCode in this._keyMap&&(this._clearTooltipTimeout(),this._setValueInRange(this._keyMap[e.keyCode](this.options.value)),this._drag._updateTooltip(this.value()),e.preventDefault())},_setValueInRange:function(val){var that=this,options=this.options;val=round(val),isNaN(val)?this._update(options.min):(val=math.max(math.min(val,options.max),options.min),this._update(val))},_nextValueByIndex:function(index){var count=this._values.length;return this._isRtl&&(index=count-1-index),this._values[math.max(0,math.min(index,count-1))]},_formResetHandler:function(){var that=this,min=that.options.min;setTimeout(function(){var value=that.element[0].value;that.value(""===value||isNaN(value)?min:value)})},destroy:function(){var that=this;SliderBase.fn.destroy.call(this),this.wrapper.off(NS).find(".k-button").off(NS).end().find(DRAG_HANDLE).off(NS).end().find(".k-tick, .k-slider-track").off(NS).end(),this._drag.draggable.destroy(),this._drag._removeTooltip(!0)}});Slider.Selection=function(dragHandle,that,options){function moveSelection(val){var selectionValue=val-options.min,index=that._valueIndex=math.ceil(round(selectionValue/options.smallStep)),selection=parseInt(that._pixelSteps[index],10),selectionDiv=that._trackDiv.find(".k-slider-selection"),halfDragHanndle=parseInt(that._outerSize(dragHandle)/2,10),rtlCorrection=that._isRtl?2:0;selectionDiv[that._sizeFn](that._isRtl?that._maxSelection-selection:selection),dragHandle.css(that._position,selection-halfDragHanndle-rtlCorrection)}moveSelection(options.value),that.bind([SLIDE,MOVE_SELECTION],function(e){moveSelection(parseFloat(e.value,10))}),that.bind(CHANGE,function(e){moveSelection(parseFloat(e.sender.value(),10))})},Slider.Drag=function(element,type,owner,options){var that=this;this.owner=owner,this.options=options,this.element=element,this.type=type,this.draggable=new Draggable(element,{distance:0,dragstart:proxy(this._dragstart,this),drag:proxy(this.drag,this),dragend:proxy(this.dragend,this),dragcancel:proxy(this.dragcancel,this)}),element.click(!1)},Slider.Drag.prototype={dragstart:function(e){this.owner._activeDragHandle=this,this.draggable.userEvents.cancel(),this._dragstart(e),this.dragend()},_dragstart:function(e){var that=this,owner=this.owner,options=this.options;options.enabled?(this.owner._activeDragHandle=this,owner.element.off(MOUSE_OVER),owner.wrapper.find("."+STATE_FOCUSED).removeClass(STATE_FOCUSED+" "+STATE_SELECTED),this.element.addClass(STATE_FOCUSED+" "+STATE_SELECTED),$(document.documentElement).css("cursor","pointer"),this.dragableArea=owner._getDraggableArea(),this.step=math.max(options.smallStep*(owner._maxSelection/owner._distance()),0),this.type?(this.selectionStart=options.selectionStart,this.selectionEnd=options.selectionEnd,owner._setZIndex(this.type)):this.oldVal=this.val=options.value,this._removeTooltip(!0),this._createTooltip()):e.preventDefault()},_createTooltip:function(){var that=this,owner=this.owner,tooltip=this.options.tooltip,html="",wnd=$(window),tooltipTemplate,colloutCssClass;tooltip.enabled&&(tooltip.template&&(tooltipTemplate=this.tooltipTemplate=kendo.template(tooltip.template)),$(".k-slider-tooltip").remove(),this.tooltipDiv=$("<div class='k-widget k-tooltip k-slider-tooltip'>\x3c!-- --\x3e</div>").appendTo(document.body),html=owner._getFormattedValue(this.val||owner.value(),this),this.type||(colloutCssClass="k-callout-"+(owner._isHorizontal?"s":"e"),this.tooltipInnerDiv="<div class='k-callout "+colloutCssClass+"'>\x3c!-- --\x3e</div>",html+=this.tooltipInnerDiv),this.tooltipDiv.html(html),this._scrollOffset={top:wnd.scrollTop(),left:wnd.scrollLeft()},this.moveTooltip())},drag:function(e){var that=this,owner=this.owner,x=e.x.location,y=e.y.location,startPoint=this.dragableArea.startPoint,endPoint=this.dragableArea.endPoint,slideParams;e.preventDefault(),owner._isHorizontal?owner._isRtl?this.val=this.constrainValue(x,startPoint,endPoint,x<endPoint):this.val=this.constrainValue(x,startPoint,endPoint,x>=endPoint):this.val=this.constrainValue(y,endPoint,startPoint,y<=endPoint),this.oldVal!=this.val&&(this.oldVal=this.val,this.type?("firstHandle"==this.type?this.val<this.selectionEnd?this.selectionStart=this.val:this.selectionStart=this.selectionEnd=this.val:this.val>this.selectionStart?this.selectionEnd=this.val:this.selectionStart=this.selectionEnd=this.val,slideParams={values:[this.selectionStart,this.selectionEnd],value:[this.selectionStart,this.selectionEnd]}):slideParams={value:this.val},owner.trigger(SLIDE,slideParams)),this._updateTooltip(this.val)},_updateTooltip:function(val){var that=this,options,tooltip,html="";this.options.tooltip.enabled&&(this.tooltipDiv||this._createTooltip(),html=this.owner._getFormattedValue(round(val),this),this.type||(html+=this.tooltipInnerDiv),this.tooltipDiv.html(html),this.moveTooltip())},dragcancel:function(){return this.owner._refresh(),$(document.documentElement).css("cursor",""),this._end()},dragend:function(){var that=this,owner=this.owner;return $(document.documentElement).css("cursor",""),this.type?owner._update(this.selectionStart,this.selectionEnd):(owner._update(this.val),this.draggable.userEvents._disposeAll()),this.draggable.userEvents.cancel(),this._end()},_end:function(){var that=this,owner=this.owner;return owner._focusWithMouse(this.element),owner.element.on(MOUSE_OVER),!1},_removeTooltip:function(noAnimation){var that=this,owner=that.owner;that.tooltipDiv&&owner.options.tooltip.enabled&&owner.options.enabled&&(noAnimation?(that.tooltipDiv.remove(),that.tooltipDiv=null):that.tooltipDiv.fadeOut("slow",function(){$(this).remove(),that.tooltipDiv=null}))},moveTooltip:function(){var that=this,owner=this.owner,top=0,left=0,element=this.element,offset=kendo.getOffset(element),margin=8,viewport=$(window),callout=this.tooltipDiv.find(".k-callout"),width=outerWidth(this.tooltipDiv),height=outerHeight(this.tooltipDiv),dragHandles,sdhOffset,diff,anchorSize;this.type?(dragHandles=owner.wrapper.find(DRAG_HANDLE),offset=kendo.getOffset(dragHandles.eq(0)),sdhOffset=kendo.getOffset(dragHandles.eq(1)),owner._isHorizontal?(top=sdhOffset.top,left=offset.left+(sdhOffset.left-offset.left)/2):(top=offset.top+(sdhOffset.top-offset.top)/2,left=sdhOffset.left),anchorSize=outerWidth(dragHandles.eq(0))+16):(top=offset.top,left=offset.left,anchorSize=outerWidth(element)+16),owner._isHorizontal?(left-=parseInt((width-owner._outerSize(element))/2,10),top-=height+callout.height()+8):(top-=parseInt((height-owner._outerSize(element))/2,10),left-=width+callout.width()+8),owner._isHorizontal?(top+=diff=this._flip(top,height,anchorSize,outerHeight(viewport)+this._scrollOffset.top),left+=this._fit(left,width,outerWidth(viewport)+this._scrollOffset.left)):(diff=this._flip(left,width,anchorSize,outerWidth(viewport)+this._scrollOffset.left),top+=this._fit(top,height,outerHeight(viewport)+this._scrollOffset.top),left+=diff),diff>0&&callout&&(callout.removeClass(),callout.addClass("k-callout k-callout-"+(owner._isHorizontal?"n":"w"))),this.tooltipDiv.css({top:top,left:left})},_fit:function(position,size,viewPortEnd){var output=0;return position+size>viewPortEnd&&(output=viewPortEnd-(position+size)),position<0&&(output=-position),output},_flip:function(offset,size,anchorSize,viewPortEnd){var output=0;return offset+size>viewPortEnd&&(output+=-(anchorSize+size)),offset+output<0&&(output+=anchorSize+size),output},constrainValue:function(position,min,max,maxOverflow){var that=this,val=0;return val=min<position&&position<max?this.owner._getValueFromPosition(position,this.dragableArea):maxOverflow?this.options.max:this.options.min}},kendo.ui.plugin(Slider);var RangeSlider=SliderBase.extend({init:function(element,options){var that=this,inputs=$(element).find("input"),firstInput=inputs.eq(0)[0],secondInput=inputs.eq(1)[0];firstInput.type="text",secondInput.type="text",options&&options.showButtons&&(window.console&&window.console.warn("showbuttons option is not supported for the range slider, ignoring"),options.showButtons=!1),(options=extend({},{selectionStart:parseAttr(firstInput,"value"),min:parseAttr(firstInput,"min"),max:parseAttr(firstInput,"max"),smallStep:parseAttr(firstInput,"step")},{selectionEnd:parseAttr(secondInput,"value"),min:parseAttr(secondInput,"min"),max:parseAttr(secondInput,"max"),smallStep:parseAttr(secondInput,"step")},options))&&options.enabled===undefined&&(options.enabled=!inputs.is("[disabled]")),SliderBase.fn.init.call(this,element,options),defined((options=this.options).selectionStart)&&null!==options.selectionStart||(options.selectionStart=options.min,inputs.eq(0).prop("value",formatValue(options.min))),defined(options.selectionEnd)&&null!==options.selectionEnd||(options.selectionEnd=options.max,inputs.eq(1).prop("value",formatValue(options.max)));var dragHandles=this.wrapper.find(DRAG_HANDLE);this._selection=new RangeSlider.Selection(dragHandles,this,options),this._firstHandleDrag=new Slider.Drag(dragHandles.eq(0),"firstHandle",this,options),this._lastHandleDrag=new Slider.Drag(dragHandles.eq(1),"lastHandle",this,options)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0:#,#.##}"},selectionStart:null,selectionEnd:null},enable:function(enable){var that=this,options=that.options,clickHandler;that.disable(),!1!==enable&&(that.wrapper.removeClass(STATE_DISABLED).addClass(STATE_DEFAULT),that.wrapper.find("input").removeAttr(DISABLED),clickHandler=function(e){var touch=getTouches(e)[0];if(touch){var mousePosition=that._isHorizontal?touch.location.pageX:touch.location.pageY,dragableArea=that._getDraggableArea(),val=that._getValueFromPosition(mousePosition,dragableArea),target=$(e.target),from,to,drag;if(target.hasClass("k-draghandle"))return that.wrapper.find("."+STATE_FOCUSED).removeClass(STATE_FOCUSED+" "+STATE_SELECTED),void target.addClass(STATE_FOCUSED+" "+STATE_SELECTED);val<options.selectionStart?(from=val,to=options.selectionEnd,drag=that._firstHandleDrag):val>that.selectionEnd?(from=options.selectionStart,to=val,drag=that._lastHandleDrag):val-options.selectionStart<=options.selectionEnd-val?(from=val,to=options.selectionEnd,drag=that._firstHandleDrag):(from=options.selectionStart,to=val,drag=that._lastHandleDrag),drag.dragstart(e),that._setValueInRange(from,to),that._focusWithMouse(drag.element)}},that.wrapper.find(".k-tick, .k-slider-track").on(TRACK_MOUSE_DOWN,clickHandler).end().on(TRACK_MOUSE_DOWN,function(){$(document.documentElement).one("selectstart",kendo.preventDefault)}).on(TRACK_MOUSE_UP,function(){that._activeDragHandle&&that._activeDragHandle._end()}),that.wrapper.find(DRAG_HANDLE).attr(TABINDEX,0).on(MOUSE_UP,function(){that._setTooltipTimeout()}).on(CLICK,function(e){that._focusWithMouse(e.target),e.preventDefault()}).on(FOCUS,proxy(that._focus,that)).on(BLUR,proxy(that._blur,that)),that.wrapper.find(DRAG_HANDLE).off(KEY_DOWN,kendo.preventDefault).eq(0).on(KEY_DOWN,proxy(function(e){this._keydown(e,"firstHandle")},that)).end().eq(1).on(KEY_DOWN,proxy(function(e){this._keydown(e,"lastHandle")},that)),that.options.enabled=!0)},disable:function(){var that=this;this.wrapper.removeClass(STATE_DEFAULT).addClass(STATE_DISABLED),this.wrapper.find("input").prop(DISABLED,DISABLED),this.wrapper.find(".k-tick, .k-slider-track").off(TRACK_MOUSE_DOWN).off(TRACK_MOUSE_UP),this.wrapper.find(DRAG_HANDLE).attr(TABINDEX,-1).off(MOUSE_UP).off(KEY_DOWN).off(CLICK).off(FOCUS).off(BLUR),this.options.enabled=!1},_keydown:function(e,handle){var that=this,selectionStartValue=this.options.selectionStart,selectionEndValue=this.options.selectionEnd,dragSelectionStart,dragSelectionEnd,activeHandleDrag;e.keyCode in this._keyMap&&(this._clearTooltipTimeout(),"firstHandle"==handle?(activeHandleDrag=this._activeHandleDrag=this._firstHandleDrag,(selectionStartValue=this._keyMap[e.keyCode](selectionStartValue))>selectionEndValue&&(selectionEndValue=selectionStartValue)):(activeHandleDrag=this._activeHandleDrag=this._lastHandleDrag,selectionStartValue>(selectionEndValue=this._keyMap[e.keyCode](selectionEndValue))&&(selectionStartValue=selectionEndValue)),this._setValueInRange(round(selectionStartValue),round(selectionEndValue)),dragSelectionStart=Math.max(selectionStartValue,this.options.selectionStart),dragSelectionEnd=Math.min(selectionEndValue,this.options.selectionEnd),activeHandleDrag.selectionEnd=Math.max(dragSelectionEnd,this.options.selectionStart),activeHandleDrag.selectionStart=Math.min(dragSelectionStart,this.options.selectionEnd),activeHandleDrag._updateTooltip(this.value()[this._activeHandle]),e.preventDefault())},_update:function(selectionStart,selectionEnd){var that=this,values=this.value(),change=values[0]!=selectionStart||values[1]!=selectionEnd;this.value([selectionStart,selectionEnd]),change&&this.trigger(CHANGE,{values:[selectionStart,selectionEnd],value:[selectionStart,selectionEnd]})},value:function(value){return value&&value.length?this._value(value[0],value[1]):this._value()},_value:function(start,end){var that=this,options=this.options,selectionStart=options.selectionStart,selectionEnd=options.selectionEnd;if(isNaN(start)&&isNaN(end))return[selectionStart,selectionEnd];start=round(start),end=round(end),start>=options.min&&start<=options.max&&end>=options.min&&end<=options.max&&start<=end&&(selectionStart==start&&selectionEnd==end||(this.element.find("input").eq(0).prop("value",formatValue(start)).end().eq(1).prop("value",formatValue(end)),options.selectionStart=start,options.selectionEnd=end,this._refresh(),this._refreshAriaAttr(start,end)))},values:function(start,end){return isArray(start)?this._value(start[0],start[1]):this._value(start,end)},_refresh:function(){var that=this,options=this.options;this.trigger(MOVE_SELECTION,{values:[options.selectionStart,options.selectionEnd],value:[options.selectionStart,options.selectionEnd]}),options.selectionStart==options.max&&options.selectionEnd==options.max&&this._setZIndex("firstHandle")},_refreshAriaAttr:function(start,end){var that=this,dragHandles=this.wrapper.find(DRAG_HANDLE),drag=this._activeHandleDrag,formattedValue;formattedValue=this._getFormattedValue([start,end],drag),dragHandles.eq(0).attr("aria-valuenow",start),dragHandles.eq(1).attr("aria-valuenow",end),dragHandles.attr("aria-valuetext",formattedValue)},_setValueInRange:function(selectionStart,selectionEnd){var options=this.options;selectionStart=math.max(math.min(selectionStart,options.max),options.min),selectionEnd=math.max(math.min(selectionEnd,options.max),options.min),selectionStart==options.max&&selectionEnd==options.max&&this._setZIndex("firstHandle"),this._update(math.min(selectionStart,selectionEnd),math.max(selectionStart,selectionEnd))},_setZIndex:function(type){this.wrapper.find(DRAG_HANDLE).each(function(index){$(this).css("z-index","firstHandle"==type?1-index:index)})},_formResetHandler:function(){var that=this,options=that.options;setTimeout(function(){var inputs=that.element.find("input"),start=inputs[0].value,end=inputs[1].value;that.values(""===start||isNaN(start)?options.min:start,""===end||isNaN(end)?options.max:end)})},destroy:function(){var that=this;SliderBase.fn.destroy.call(this),this.wrapper.off(NS).find(".k-tick, .k-slider-track").off(NS).end().find(DRAG_HANDLE).off(NS),this._firstHandleDrag.draggable.destroy(),this._lastHandleDrag.draggable.destroy()}});RangeSlider.Selection=function(dragHandles,that,options){function moveSelection(value){var selectionStartValue=(value=value||[])[0]-options.min,selectionEndValue=value[1]-options.min,selectionStartIndex=math.ceil(round(selectionStartValue/options.smallStep)),selectionEndIndex=math.ceil(round(selectionEndValue/options.smallStep)),selectionStart=that._pixelSteps[selectionStartIndex],selectionEnd=that._pixelSteps[selectionEndIndex],halfHandle=parseInt(that._outerSize(dragHandles.eq(0))/2,10),rtlCorrection=that._isRtl?2:0;dragHandles.eq(0).css(that._position,selectionStart-halfHandle-rtlCorrection).end().eq(1).css(that._position,selectionEnd-halfHandle-rtlCorrection),makeSelection(selectionStart,selectionEnd)}function makeSelection(selectionStart,selectionEnd){var selection,selectionPosition,selectionDiv=that._trackDiv.find(".k-slider-selection");selection=math.abs(selectionStart-selectionEnd),selectionDiv[that._sizeFn](selection),that._isRtl?(selectionPosition=math.max(selectionStart,selectionEnd),selectionDiv.css("right",that._maxSelection-selectionPosition-1)):(selectionPosition=math.min(selectionStart,selectionEnd),selectionDiv.css(that._position,selectionPosition-1))}moveSelection(that.value()),that.bind([CHANGE,SLIDE,MOVE_SELECTION],function(e){moveSelection(e.values)})},kendo.ui.plugin(RangeSlider)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(a1,a2,a3){(a3||a2)()}),function(f,define){define("kendo.mobile.scroller",["kendo.fx","kendo.draganddrop"],f)}(function(){var __meta___id="mobile.scroller",__meta___name="Scroller",__meta___category="mobile",__meta___description="The Kendo Mobile Scroller widget enables touch friendly kinetic scrolling for the contents of a given DOM element.",__meta___depends=["fx","draganddrop"];return function($,undefined){var kendo=window.kendo,mobile=kendo.mobile,fx=kendo.effects,ui=mobile.ui,proxy=$.proxy,extend=$.extend,Widget=ui.Widget,Class=kendo.Class,Movable=kendo.ui.Movable,Pane=kendo.ui.Pane,PaneDimensions=kendo.ui.PaneDimensions,Transition=fx.Transition,Animation=fx.Animation,abs=Math.abs,SNAPBACK_DURATION=500,SCROLLBAR_OPACITY=.7,FRICTION=.96,VELOCITY_MULTIPLIER=10,MAX_VELOCITY=55,OUT_OF_BOUNDS_FRICTION=.5,ANIMATED_SCROLLER_PRECISION=5,RELEASECLASS="km-scroller-release",REFRESHCLASS="km-scroller-refresh",PULL="pull",CHANGE="change",RESIZE="resize",SCROLL="scroll",MOUSE_WHEEL_ID=2,ZoomSnapBack=Animation.extend({init:function(options){var that=this;Animation.fn.init.call(this),extend(this,options),this.userEvents.bind("gestureend",proxy(this.start,this)),this.tapCapture.bind("press",proxy(this.cancel,this))},enabled:function(){return this.movable.scale<this.dimensions.minScale},done:function(){return this.dimensions.minScale-this.movable.scale<.01},tick:function(){var movable=this.movable;movable.scaleWith(1.1),this.dimensions.rescale(movable.scale)},onEnd:function(){var movable=this.movable;movable.scaleTo(this.dimensions.minScale),this.dimensions.rescale(movable.scale)}}),DragInertia=Animation.extend({init:function(options){var that=this;Animation.fn.init.call(that),extend(that,options,{transition:new Transition({axis:options.axis,movable:options.movable,onEnd:function(){that._end()}})}),that.tapCapture.bind("press",function(){that.cancel()}),that.userEvents.bind("end",proxy(that.start,that)),that.userEvents.bind("gestureend",proxy(that.start,that)),that.userEvents.bind("tap",proxy(that.onEnd,that))},onCancel:function(){this.transition.cancel()},freeze:function(location){var that=this;this.cancel(),this._moveTo(location)},onEnd:function(){var that=this;this.paneAxis.outOfBounds()?this._snapBack():this._end()},done:function(){return abs(this.velocity)<1},start:function(e){var that=this,velocity;this.dimension.enabled&&(this.paneAxis.outOfBounds()?this._snapBack():(velocity=2===e.touch.id?0:e.touch[this.axis].velocity,this.velocity=Math.max(Math.min(velocity*this.velocityMultiplier,55),-55),this.tapCapture.captureNext(),Animation.fn.start.call(this)))},tick:function(){var that=this,dimension=this.dimension,friction=this.paneAxis.outOfBounds()?.5:this.friction,delta=this.velocity*=friction,location=this.movable[this.axis]+delta;!this.elastic&&dimension.outOfBounds(location)&&(location=Math.max(Math.min(location,dimension.max),dimension.min),this.velocity=0),this.movable.moveAxis(this.axis,location)},_end:function(){this.tapCapture.cancelCapture(),this.end()},_snapBack:function(){var that=this,dimension=this.dimension,snapBack=this.movable[this.axis]>dimension.max?dimension.max:dimension.min;this._moveTo(snapBack)},_moveTo:function(location){this.transition.moveTo({location:location,duration:500,ease:Transition.easeOutExpo})}}),AnimatedScroller=Animation.extend({init:function(options){var that=this;kendo.effects.Animation.fn.init.call(this),extend(this,options,{origin:{},destination:{},offset:{}})},tick:function(){this._updateCoordinates(),this.moveTo(this.origin)},done:function(){return abs(this.offset.y)<5&&abs(this.offset.x)<5},onEnd:function(){this.moveTo(this.destination),this.callback&&this.callback.call()},setCoordinates:function(from,to){this.offset={},this.origin=from,this.destination=to},setCallback:function(callback){callback&&kendo.isFunction(callback)?this.callback=callback:callback=void 0},_updateCoordinates:function(){this.offset={x:(this.destination.x-this.origin.x)/4,y:(this.destination.y-this.origin.y)/4},this.origin={y:this.origin.y+this.offset.y,x:this.origin.x+this.offset.x}}}),ScrollBar=Class.extend({init:function(options){var that=this,horizontal="x"===options.axis,element=$('<div class="km-touch-scrollbar km-'+(horizontal?"horizontal":"vertical")+'-scrollbar" />');extend(this,options,{element:element,elementSize:0,movable:new Movable(element),scrollMovable:options.movable,alwaysVisible:options.alwaysVisible,size:horizontal?"width":"height"}),this.scrollMovable.bind(CHANGE,proxy(this.refresh,this)),this.container.append(element),options.alwaysVisible&&this.show()},refresh:function(){var that=this,axis=this.axis,dimension=this.dimension,paneSize=dimension.size,scrollMovable=this.scrollMovable,sizeRatio=paneSize/dimension.total,position=Math.round(-scrollMovable[axis]*sizeRatio),size=Math.round(paneSize*sizeRatio);sizeRatio>=1?this.element.css("display","none"):this.element.css("display",""),position+size>paneSize?size=paneSize-position:position<0&&(size+=position,position=0),this.elementSize!=size&&(this.element.css(this.size,size+"px"),this.elementSize=size),this.movable.moveAxis(axis,position)},show:function(){this.element.css({opacity:.7,visibility:"visible"})},hide:function(){this.alwaysVisible||this.element.css({opacity:0})}}),Scroller=Widget.extend({init:function(element,options){var that=this;if(Widget.fn.init.call(that,element,options),element=that.element,that._native=that.options.useNative&&kendo.support.hasNativeScrolling,that._native)return element.addClass("km-native-scroller").prepend('<div class="km-scroll-header"/>'),void extend(that,{scrollElement:element,fixedContainer:element.children().first()});element.css("overflow","hidden").addClass("km-scroll-wrapper").wrapInner('<div class="km-scroll-container"/>').prepend('<div class="km-scroll-header"/>');var inner=element.children().eq(1),tapCapture=new kendo.TapCapture(element),movable=new Movable(inner),dimensions=new PaneDimensions({element:inner,container:element,forcedEnabled:that.options.zoom}),avoidScrolling=this.options.avoidScrolling,userEvents=new kendo.UserEvents(element,{touchAction:"pan-y",fastTap:!0,allowSelection:!0,preventDragEvent:!0,captureUpIfMoved:!0,multiTouch:that.options.zoom,start:function(e){dimensions.refresh();var velocityX=abs(e.x.velocity),velocityY=abs(e.y.velocity),horizontalSwipe=2*velocityX>=velocityY,originatedFromFixedContainer,verticalSwipe=2*velocityY>=velocityX;!$.contains(that.fixedContainer[0],e.event.target)&&!avoidScrolling(e)&&that.enabled&&(dimensions.x.enabled&&horizontalSwipe||dimensions.y.enabled&&verticalSwipe)?userEvents.capture():userEvents.cancel()}}),pane=new Pane({movable:movable,dimensions:dimensions,userEvents:userEvents,elastic:that.options.elastic}),zoomSnapBack=new ZoomSnapBack({movable:movable,dimensions:dimensions,userEvents:userEvents,tapCapture:tapCapture}),animatedScroller=new AnimatedScroller({moveTo:function(coordinates){that.scrollTo(coordinates.x,coordinates.y)}});movable.bind(CHANGE,function(){that.scrollTop=-movable.y,that.scrollLeft=-movable.x,that.trigger(SCROLL,{scrollTop:that.scrollTop,scrollLeft:that.scrollLeft})}),that.options.mousewheelScrolling&&element.on("DOMMouseScroll mousewheel",proxy(this,"_wheelScroll")),extend(that,{movable:movable,dimensions:dimensions,zoomSnapBack:zoomSnapBack,animatedScroller:animatedScroller,userEvents:userEvents,pane:pane,tapCapture:tapCapture,pulled:!1,enabled:!0,scrollElement:inner,scrollTop:0,scrollLeft:0,fixedContainer:element.children().first()}),that._initAxis("x"),that._initAxis("y"),that._wheelEnd=function(){that._wheel=!1,that.userEvents.end(0,that._wheelY)},dimensions.refresh(),that.options.pullToRefresh&&that._initPullToRefresh()},_wheelScroll:function(e){this._wheel||(this._wheel=!0,this._wheelY=0,this.userEvents.press(0,this._wheelY)),clearTimeout(this._wheelTimeout),this._wheelTimeout=setTimeout(this._wheelEnd,50);var delta=kendo.wheelDeltaY(e);delta&&(this._wheelY+=delta,this.userEvents.move(0,this._wheelY)),e.preventDefault()},makeVirtual:function(){this.dimensions.y.makeVirtual()},virtualSize:function(min,max){this.dimensions.y.virtualSize(min,max)},height:function(){return this.dimensions.y.size},scrollHeight:function(){return this.scrollElement[0].scrollHeight},scrollWidth:function(){return this.scrollElement[0].scrollWidth},options:{name:"Scroller",zoom:!1,pullOffset:140,visibleScrollHints:!1,elastic:!0,useNative:!1,mousewheelScrolling:!0,avoidScrolling:function(){return!1},pullToRefresh:!1,messages:{pullTemplate:"Pull to refresh",releaseTemplate:"Release to refresh",refreshTemplate:"Refreshing"}},events:[PULL,SCROLL,RESIZE],_resize:function(){this._native||this.contentResized()},setOptions:function(options){var that=this;Widget.fn.setOptions.call(this,options),options.pullToRefresh&&this._initPullToRefresh()},reset:function(){this._native?this.scrollElement.scrollTop(0):(this.movable.moveTo({x:0,y:0}),this._scale(1))},contentResized:function(){this.dimensions.refresh(),this.pane.x.outOfBounds()&&this.movable.moveAxis("x",this.dimensions.x.min),this.pane.y.outOfBounds()&&this.movable.moveAxis("y",this.dimensions.y.min)},zoomOut:function(){var dimensions=this.dimensions;dimensions.refresh(),this._scale(dimensions.fitScale),this.movable.moveTo(dimensions.centerCoordinates())},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},scrollTo:function(x,y){this._native?(this.scrollElement.scrollLeft(abs(x)),this.scrollElement.scrollTop(abs(y))):(this.dimensions.refresh(),this.movable.moveTo({x:x,y:y}))},animatedScrollTo:function(x,y,callback){var from,to;this._native?this.scrollTo(x,y):(from={x:this.movable.x,y:this.movable.y},to={x:x,y:y},this.animatedScroller.setCoordinates(from,to),this.animatedScroller.setCallback(callback),this.animatedScroller.start())},pullHandled:function(){var that=this;this.refreshHint.removeClass(REFRESHCLASS),this.hintContainer.html(this.pullTemplate({})),this.yinertia.onEnd(),this.xinertia.onEnd(),this.userEvents.cancel()},destroy:function(){Widget.fn.destroy.call(this),this.userEvents&&this.userEvents.destroy()},_scale:function(scale){this.dimensions.rescale(scale),this.movable.scaleTo(scale)},_initPullToRefresh:function(){var that=this;this.dimensions.y.forceEnabled(),this.pullTemplate=kendo.template(this.options.messages.pullTemplate),this.releaseTemplate=kendo.template(this.options.messages.releaseTemplate),this.refreshTemplate=kendo.template(this.options.messages.refreshTemplate),this.scrollElement.prepend('<span class="km-scroller-pull"><span class="km-icon"></span><span class="km-loading-left"></span><span class="km-loading-right"></span><span class="km-template">'+this.pullTemplate({})+"</span></span>"),this.refreshHint=this.scrollElement.children().first(),this.hintContainer=this.refreshHint.children(".km-template"),this.pane.y.bind("change",proxy(this._paneChange,this)),this.userEvents.bind("end",proxy(this._dragEnd,this))},_dragEnd:function(){var that=this;this.pulled&&(this.pulled=!1,this.refreshHint.removeClass(RELEASECLASS).addClass(REFRESHCLASS),this.hintContainer.html(this.refreshTemplate({})),this.yinertia.freeze(this.options.pullOffset/2),this.trigger("pull"))},_paneChange:function(){var that=this;this.movable.y/.5>this.options.pullOffset?this.pulled||(this.pulled=!0,this.refreshHint.removeClass(REFRESHCLASS).addClass(RELEASECLASS),this.hintContainer.html(this.releaseTemplate({}))):this.pulled&&(this.pulled=!1,this.refreshHint.removeClass(RELEASECLASS),this.hintContainer.html(this.pullTemplate({})))},_initAxis:function(axis){var that=this,movable=that.movable,dimension=that.dimensions[axis],tapCapture=that.tapCapture,paneAxis=that.pane[axis],scrollBar=new ScrollBar({axis:axis,movable:movable,dimension:dimension,container:that.element,alwaysVisible:that.options.visibleScrollHints});dimension.bind(CHANGE,function(){scrollBar.refresh()}),paneAxis.bind(CHANGE,function(){scrollBar.show()}),that[axis+"inertia"]=new DragInertia({axis:axis,paneAxis:paneAxis,movable:movable,tapCapture:tapCapture,userEvents:that.userEvents,dimension:dimension,elastic:that.options.elastic,friction:that.options.friction||.96,velocityMultiplier:that.options.velocityMultiplier||10,end:function(){scrollBar.hide(),that.trigger("scrollEnd",{axis:axis,scrollTop:that.scrollTop,scrollLeft:that.scrollLeft})}})}});ui.plugin(Scroller)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(a1,a2,a3){(a3||a2)()}),function(f,define){define("kendo.autocomplete",["kendo.list","kendo.mobile.scroller"],f)}(function(){var __meta___id="autocomplete",__meta___name="AutoComplete",__meta___category="web",__meta___description="The AutoComplete widget provides suggestions depending on the typed text.It also allows multiple value entries.",__meta___depends=["list"],__meta___features=[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]},{id:"virtualization",name:"VirtualList",description:"Support for virtualization",depends:["virtuallist"]}];return function($,undefined){var kendo=window.kendo,support=kendo.support,caret=kendo.caret,activeElement=kendo._activeElement,placeholderSupported=support.placeholder,ui=kendo.ui,List=ui.List,keys=kendo.keys,DataSource=kendo.data.DataSource,ARIA_DISABLED="aria-disabled",ARIA_READONLY="aria-readonly",CHANGE="change",DEFAULT="k-state-default",DISABLED="disabled",READONLY="readonly",FOCUSED="k-state-focused",SELECTED="k-state-selected",STATEDISABLED="k-state-disabled",HOVER="k-state-hover",ns=".kendoAutoComplete",HOVEREVENTS="mouseenter"+ns+" mouseleave"+ns,proxy=$.proxy;function indexOfWordAtCaret(caretIdx,text,separator){return separator?text.substring(0,caretIdx).split(separator).length-1:0}function wordAtCaret(caretIdx,text,separator){return text.split(separator)[indexOfWordAtCaret(caretIdx,text,separator)]}function replaceWordAtCaret(caretIdx,text,word,separator,defaultSeparator){var words=text.split(separator);return words.splice(indexOfWordAtCaret(caretIdx,text,separator),1,word),separator&&""!==words[words.length-1]&&words.push(""),words.join(defaultSeparator)}var AutoComplete=List.extend({init:function(element,options){var that=this,wrapper,disabled;that.ns=ns,options=$.isArray(options)?{dataSource:options}:options,List.fn.init.call(that,element,options),element=that.element,(options=that.options).placeholder=options.placeholder||element.attr("placeholder"),placeholderSupported&&element.attr("placeholder",options.placeholder),that._wrapper(),that._loader(),that._clearButton(),that._dataSource(),that._ignoreCase(),element[0].type="text",wrapper=that.wrapper,that._popup(),element.addClass("k-input").on("keydown"+ns,proxy(that._keydown,that)).on("keypress"+ns,proxy(that._keypress,that)).on("paste"+ns,proxy(that._search,that)).on("focus"+ns,function(){that._prev=that._accessor(),that._oldText=that._prev,that._placeholder(!1),wrapper.addClass(FOCUSED)}).on("focusout"+ns,function(){that._change(),that._placeholder(),wrapper.removeClass(FOCUSED)}).attr({autocomplete:"off",role:"textbox","aria-haspopup":!0}),that._clear.on("click"+ns,proxy(that._clearValue,that)),that._enable(),that._old=that._accessor(),element[0].id&&element.attr("aria-owns",that.ul[0].id),that._aria(),that._placeholder(),that._initList(),(disabled=$(that.element).parents("fieldset").is(":disabled"))&&that.enable(!1),that.listView.bind("click",function(e){e.preventDefault()}),that._resetFocusItemHandler=$.proxy(that._resetFocusItem,that),kendo.notify(that),that._toggleCloseVisibility()},options:{name:"AutoComplete",enabled:!0,suggest:!1,template:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",dataTextField:"",minLength:1,enforceMinLength:!1,delay:200,height:200,filter:"startswith",ignoreCase:!0,highlightFirst:!1,separator:null,placeholder:"",animation:{},virtual:!1,value:null,clearButton:!0},_dataSource:function(){var that=this;this.dataSource&&this._refreshHandler?this._unbindDataSource():(this._progressHandler=proxy(this._showBusy,this),this._errorHandler=proxy(this._hideBusy,this)),this.dataSource=DataSource.create(this.options.dataSource).bind("progress",this._progressHandler).bind("error",this._errorHandler)},setDataSource:function(dataSource){this.options.dataSource=dataSource,this._dataSource(),this.listView.setDataSource(this.dataSource)},events:["open","close",CHANGE,"select","filtering","dataBinding","dataBound"],setOptions:function(options){var listOptions=this._listOptions(options);List.fn.setOptions.call(this,options),this.listView.setOptions(listOptions),this._accessors(),this._aria()},_listOptions:function(options){var listOptions=List.fn._listOptions.call(this,$.extend(options,{skipUpdateOnBind:!0}));return listOptions.dataValueField=listOptions.dataTextField,listOptions.selectedItemChange=null,listOptions},_editable:function(options){var that=this,element=this.element,wrapper=this.wrapper.off(ns),readonly=options.readonly,disable=options.disable;readonly||disable?(wrapper.addClass(disable?STATEDISABLED:DEFAULT).removeClass(disable?DEFAULT:STATEDISABLED),element.attr(DISABLED,disable).attr(READONLY,readonly).attr(ARIA_DISABLED,disable).attr(ARIA_READONLY,readonly)):(wrapper.addClass(DEFAULT).removeClass(STATEDISABLED).on(HOVEREVENTS,this._toggleHover),element.removeAttr(DISABLED).removeAttr(READONLY).attr(ARIA_DISABLED,!1).attr(ARIA_READONLY,!1))},close:function(){var that=this,current=this.listView.focus();current&&current.removeClass(SELECTED),this.popup.close()},destroy:function(){var that=this;this.element.off(ns),this._clear.off(ns),this.wrapper.off(ns),List.fn.destroy.call(this)},refresh:function(){this.listView.refresh()},select:function(li){this._select(li)},search:function(word){var that=this,options=this.options,ignoreCase=options.ignoreCase,separator=this._separator(),length;word=word||this._accessor(),clearTimeout(this._typingTimeout),separator&&(word=wordAtCaret(caret(this.element)[0],word,separator)),length=word.length,(!options.enforceMinLength&&!length||length>=options.minLength)&&(this._open=!0,this._mute(function(){this.listView.value([])}),this._filterSource({value:ignoreCase?word.toLowerCase():word,operator:options.filter,field:options.dataTextField,ignoreCase:ignoreCase}),this.one("close",$.proxy(this._unifySeparators,this))),this._toggleCloseVisibility()},suggest:function(word){var that=this,key=this._last,value=this._accessor(),element=this.element[0],caretIdx=caret(element)[0],separator=this._separator(),words=value.split(separator),wordIndex=indexOfWordAtCaret(caretIdx,value,separator),selectionEnd=caretIdx,idx;key!=keys.BACKSPACE&&key!=keys.DELETE?("string"!=typeof(word=word||"")&&(word[0]&&(word=this.dataSource.view()[List.inArray(word[0],this.ul[0])]),word=word?this._text(word):""),caretIdx<=0&&(caretIdx=value.toLowerCase().indexOf(word.toLowerCase())+1),idx=(idx=value.substring(0,caretIdx).lastIndexOf(separator))>-1?caretIdx-(idx+separator.length):caretIdx,value=words[wordIndex].substring(0,idx),word&&((idx=(word=word.toString()).toLowerCase().indexOf(value.toLowerCase()))>-1&&(selectionEnd=caretIdx+(word=word.substring(idx+value.length)).length,value+=word),separator&&""!==words[words.length-1]&&words.push("")),words[wordIndex]=value,this._accessor(words.join(separator||"")),element===activeElement()&&caret(element,caretIdx,selectionEnd)):this._last=void 0},value:function(value){if(void 0===value)return this._accessor();this.listView.value(value),this._accessor(value),this._old=this._accessor(),this._oldText=this._accessor()},_click:function(e){var item=e.item,that=this,element=that.element,dataItem=that.listView.dataItemByIndex(that.listView.getElementIndex(item));e.preventDefault(),that._active=!0,that.trigger("select",{dataItem:dataItem,item:item})?that.close():(that._oldText=element.val(),that._select(item).done(function(){that._blur(),caret(element,element.val().length)}))},_clearText:$.noop,_resetFocusItem:function(){var index=this.options.highlightFirst?0:-1;this.options.virtual&&this.listView.scrollTo(0),this.listView.focus(index)},_listBound:function(){var that=this,popup=this.popup,options=this.options,data=this.dataSource.flatView(),length=data.length,groupsLength=this.dataSource._group.length,isActive=this.element[0]===activeElement(),action;this._renderFooter(),this._renderNoData(),this._toggleNoData(!length),this._toggleHeader(!!groupsLength&&!!length),this._resizePopup(),popup.position(),length&&options.suggest&&isActive&&this.suggest(data[0]),this._open&&(this._open=!1,action=this._allowOpening()?"open":"close",this._typingTimeout&&!isActive&&(action="close"),length&&(this._resetFocusItem(),options.virtual&&this.popup.unbind("activate",this._resetFocusItemHandler).one("activate",this._resetFocusItemHandler)),popup[action](),this._typingTimeout=void 0),this._touchScroller&&this._touchScroller.reset(),this._hideBusy(),this._makeUnselectable(),this.trigger("dataBound")},_mute:function(callback){this._muted=!0,callback.call(this),this._muted=!1},_listChange:function(){var isActive;(this._active||this.element[0]===activeElement())&&!this._muted&&this._selectValue(this.listView.selectedDataItems()[0])},_selectValue:function(dataItem){var separator=this._separator(),text="";dataItem&&(text=this._text(dataItem)),null===text&&(text=""),separator&&(text=replaceWordAtCaret(caret(this.element)[0],this._accessor(),text,separator,this._defaultSeparator())),this._prev=text,this._accessor(text),this._placeholder()},_unifySeparators:function(){return this._accessor(this.value().split(this._separator()).join(this._defaultSeparator())),this},_change:function(){var that=this,value=this._unifySeparators().value(),trigger=value!==List.unifyType(this._old,typeof value),valueUpdated=trigger&&!this._typing,itemSelected=this._oldText!==value;this._old=value,this._oldText=value,(valueUpdated||itemSelected)&&this.element.trigger(CHANGE),trigger&&this.trigger(CHANGE),this.typing=!1,this._toggleCloseVisibility()},_accessor:function(value){var that=this,element=this.element[0];if(void 0===value)return value=element.value,element.className.indexOf("k-readonly")>-1&&value===this.options.placeholder?"":value;element.value=null===value?"":value,this._placeholder()},_keydown:function(e){var that=this,key=e.keyCode,listView=this.listView,visible=this.popup.visible(),current=listView.focus();if(this._last=key,key===keys.DOWN)visible&&this._move(current?"focusNext":"focusFirst"),e.preventDefault();else if(key===keys.UP)visible&&this._move(current?"focusPrev":"focusLast"),e.preventDefault();else if(key===keys.ENTER||key===keys.TAB){if(key===keys.ENTER&&visible&&e.preventDefault(),visible&&current){var dataItem=listView.dataItemByIndex(listView.getElementIndex(current));if(this.trigger("select",{dataItem:dataItem,item:current}))return;this._select(current)}this._blur()}else if(key===keys.ESC)visible&&e.preventDefault(),this.close();else if(!this.popup.visible()||key!==keys.PAGEDOWN&&key!==keys.PAGEUP)this._search();else{e.preventDefault();var direction=key===keys.PAGEDOWN?1:-1;listView.scrollWith(direction*listView.screenHeight())}},_keypress:function(){this._oldText=this.element.val(),this._typing=!0},_move:function(action){this.listView[action](),this.options.suggest&&this.suggest(this.listView.focus())},_hideBusy:function(){var that=this;clearTimeout(this._busy),this._loading.hide(),this.element.attr("aria-busy",!1),this._busy=null,this._showClear()},_showBusy:function(){var that=this;that._busy||(that._busy=setTimeout(function(){that.element.attr("aria-busy",!0),that._loading.show(),that._hideClear()},100))},_placeholder:function(show){if(!placeholderSupported){var that=this,element=this.element,placeholder=this.options.placeholder,value;if(placeholder){if(value=element.val(),void 0===show&&(show=!value),show||(placeholder=value!==placeholder?value:""),value===this._old&&!show)return;element.toggleClass("k-readonly",show).val(placeholder),placeholder||element[0]!==document.activeElement||caret(element[0],0,0)}}},_separator:function(){var separator=this.options.separator;return separator instanceof Array?new RegExp(separator.join("|"),"gi"):separator},_defaultSeparator:function(){var separator=this.options.separator;return separator instanceof Array?separator[0]:separator},_inputValue:function(){return this.element.val()},_search:function(){var that=this;clearTimeout(that._typingTimeout),that._typingTimeout=setTimeout(function(){that._prev!==that._accessor()&&(that._prev=that._accessor(),that.search())},that.options.delay)},_select:function(candidate){var that=this;return that._active=!0,that.listView.select(candidate).done(function(){that._active=!1})},_loader:function(){this._loading=$('<span class="k-icon k-i-loading" style="display:none"></span>').insertAfter(this.element)},_clearButton:function(){this._clear=$('<span unselectable="on" class="k-icon k-clear-value k-i-close" title="clear"></span>').attr({role:"button",tabIndex:-1}),this.options.clearButton&&this._clear.insertAfter(this.element)},_toggleHover:function(e){$(e.currentTarget).toggleClass(HOVER,"mouseenter"===e.type)},_toggleCloseVisibility:function(){this.value()?this._showClear():this._hideClear()},_wrapper:function(){var that=this,element=this.element,DOMelement=element[0],wrapper;(wrapper=element.parent()).is("span.k-widget")||(wrapper=element.wrap("<span />").parent()),wrapper.attr("tabindex",-1),wrapper.attr("role","presentation"),wrapper[0].style.cssText=DOMelement.style.cssText,element.css({width:"100%",height:DOMelement.style.height}),this._focused=this.element,this.wrapper=wrapper.addClass("k-widget k-autocomplete k-header").addClass(DOMelement.className)}});ui.plugin(AutoComplete)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(a1,a2,a3){(a3||a2)()}),function(f,define){define("kendo.combobox",["kendo.list","kendo.mobile.scroller"],f)}(function(){var __meta___id="combobox",__meta___name="ComboBox",__meta___category="web",__meta___description="The ComboBox widget allows the selection from pre-defined values or entering a new value.",__meta___depends=["list"],__meta___features=[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]},{id:"virtualization",name:"VirtualList",description:"Support for virtualization",depends:["virtuallist"]}];return function($,undefined){var kendo=window.kendo,ui=kendo.ui,List=ui.List,Select=ui.Select,caret=kendo.caret,support=kendo.support,placeholderSupported=support.placeholder,activeElement=kendo._activeElement,keys=kendo.keys,ns=".kendoComboBox",CLICK="click"+ns,MOUSEDOWN="mousedown"+ns,DISABLED="disabled",READONLY="readonly",CHANGE="change",DEFAULT="k-state-default",FOCUSED="k-state-focused",STATEDISABLED="k-state-disabled",ARIA_DISABLED="aria-disabled",STATE_FILTER="filter",STATE_ACCEPT="accept",STATE_REBIND="rebind",HOVEREVENTS="mouseenter"+ns+" mouseleave"+ns,proxy=$.proxy,ComboBox=Select.extend({init:function(element,options){var that=this,text,disabled;this.ns=ns,options=$.isArray(options)?{dataSource:options}:options,Select.fn.init.call(this,element,options),options=this.options,element=this.element.on("focus"+ns,proxy(this._focusHandler,this)),options.placeholder=options.placeholder||element.attr("placeholder"),this._reset(),this._wrapper(),this._input(),this._clearButton(),this._tabindex(this.input),this._popup(),this._dataSource(),this._ignoreCase(),this._enable(),this._oldIndex=this.selectedIndex=-1,this._aria(),this._initialIndex=options.index,this.requireValueMapper(this.options),this._initList(),this._cascade(),options.autoBind?this._filterSource():(!(text=options.text)&&this._isSelect&&(text=element.children(":selected").text()),text&&this._setText(text)),text||this._placeholder(),(disabled=$(this.element).parents("fieldset").is(":disabled"))&&this.enable(!1),kendo.notify(this),this._toggleCloseVisibility()},options:{name:"ComboBox",enabled:!0,index:-1,text:null,value:null,autoBind:!0,delay:200,dataTextField:"",dataValueField:"",minLength:1,enforceMinLength:!1,height:200,highlightFirst:!0,filter:"none",placeholder:"",suggest:!1,cascadeFrom:"",cascadeFromField:"",ignoreCase:!0,animation:{},virtual:!1,template:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",clearButton:!0,syncValueAndText:!0},events:["open","close",CHANGE,"select","filtering","dataBinding","dataBound","cascade","set"],setOptions:function(options){Select.fn.setOptions.call(this,options),this.listView.setOptions(options),this._accessors(),this._aria()},destroy:function(){var that=this;this.input.off(ns),this.element.off(ns),this._inputWrapper.off(ns),clearTimeout(this._pasteTimeout),this._arrow.off(CLICK+" "+MOUSEDOWN),this._clear.off(CLICK+" "+MOUSEDOWN),Select.fn.destroy.call(this)},_change:function(){var that=this,text=this.text(),hasText=text&&text!==this._oldText&&text!==this.options.placeholder,index=this.selectedIndex,isCustom=-1===index;if(!this.options.syncValueAndText&&!this.value()&&isCustom&&hasText)return this._old="",this._oldIndex=index,this._oldText=text,this._typing||this.element.trigger(CHANGE),this.trigger(CHANGE),void(this._typing=!1);Select.fn._change.call(this),this._toggleCloseVisibility()},_focusHandler:function(){this.input.focus()},_arrowClick:function(){this._toggle()},_inputFocus:function(){this._inputWrapper.addClass(FOCUSED),this._placeholder(!1)},_inputFocusout:function(){var that=this,value=this.value();this._inputWrapper.removeClass(FOCUSED),clearTimeout(this._typingTimeout),this._typingTimeout=null,this.text(this.text());var item=this._focus(),dataItem=this.listView.dataItemByIndex(this.listView.getElementIndex(item));value!==this.value()&&this.trigger("select",{dataItem:dataItem,item:item})?this.value(value):(this._placeholder(),this._blur(),this.element.blur())},_inputPaste:function(){var that=this;clearTimeout(that._pasteTimeout),that._pasteTimeout=null,that._pasteTimeout=setTimeout(function(){that.search()})},_editable:function(options){var that=this,disable=options.disable,readonly=options.readonly,wrapper=this._inputWrapper.off(ns),input=this.element.add(this.input.off(ns)),arrow=this._arrow.off(CLICK+" "+MOUSEDOWN),clear=this._clear;readonly||disable?(wrapper.addClass(disable?STATEDISABLED:DEFAULT).removeClass(disable?DEFAULT:STATEDISABLED),input.attr(DISABLED,disable).attr(READONLY,readonly).attr(ARIA_DISABLED,disable)):(wrapper.addClass(DEFAULT).removeClass(STATEDISABLED).on(HOVEREVENTS,this._toggleHover),input.removeAttr(DISABLED).removeAttr(READONLY).attr(ARIA_DISABLED,!1),arrow.on(CLICK,proxy(this._arrowClick,this)).on(MOUSEDOWN,function(e){e.preventDefault()}),clear.on(CLICK,proxy(this._clearValue,this)).on(MOUSEDOWN,function(e){e.preventDefault()}),this.input.on("keydown"+ns,proxy(this._keydown,this)).on("focus"+ns,proxy(this._inputFocus,this)).on("focusout"+ns,proxy(this._inputFocusout,this)).on("paste"+ns,proxy(this._inputPaste,this)))},open:function(){var that=this,state=this._state;this.popup.visible()||(!this.listView.bound()&&"filter"!==state||"accept"===state?(this._open=!0,this._state="rebind",1!==this.options.minLength?(this.refresh(),this._openPopup()):this._filterSource()):this._allowOpening()&&(this._openPopup(),this._focusItem()))},_scrollToFocusedItem:function(){var listView=this.listView;listView.scrollToIndex(listView.getElementIndex(listView.focus()))},_openPopup:function(){this.popup.one("activate",proxy(this._scrollToFocusedItem,this)),this.popup.open()},_updateSelectionState:function(){var that=this,text=this.options.text,value=this.options.value;this.listView.isFiltered()||(-1===this.selectedIndex?(void 0!==text&&null!==text||(text=value),this._accessor(value),this.input.val(text||this.input.val()),this._placeholder()):-1===this._oldIndex&&(this._oldIndex=this.selectedIndex))},_buildOptions:function(data){var that=this;if(this._isSelect){var custom=this._customOption;"rebind"===this._state&&(this._state=""),this._customOption=void 0,this._options(data,"",this.value()),custom&&custom[0].selected&&this._custom(custom.val())}},_updateSelection:function(){var that=this,listView=this.listView,initialIndex=this._initialIndex,hasInitialIndex=null!==initialIndex&&initialIndex>-1,filtered;if("filter"===this._state)$(listView.focus()).removeClass("k-state-selected");else if(!this._fetch){listView.value().length||(hasInitialIndex?this.select(initialIndex):this._accessor()&&listView.value(this._accessor())),this._initialIndex=null;var dataItem=listView.selectedDataItems()[0];dataItem&&(this._value(dataItem)!==this.value()&&this._custom(this._value(dataItem)),this.text()&&this.text()!==this._text(dataItem)&&this._selectValue(dataItem))}},_updateItemFocus:function(){var listView=this.listView;this.options.highlightFirst?listView.focus()||listView.focusIndex()||listView.focus(0):listView.focus(-1)},_listBound:function(){var that=this,isActive=this.input[0]===activeElement(),data=this.dataSource.flatView(),skip=this.listView.skip(),length=data.length,groupsLength=this.dataSource._group.length,isFirstPage=void 0===skip||0===skip;this._presetValue=!1,this._renderFooter(),this._renderNoData(),this._toggleNoData(!length),this._toggleHeader(!!groupsLength&&!!length),this._resizePopup(),this.popup.position(),this._buildOptions(data),this._makeUnselectable(),this._updateSelection(),data.length&&isFirstPage&&(this._updateItemFocus(),this.options.suggest&&isActive&&this.input.val()&&this.suggest(data[0])),this._open&&(this._open=!1,this._typingTimeout&&!isActive?this.popup.close():this.toggle(this._allowOpening()),this._typingTimeout=null),this._hideBusy(),this.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]),this._presetValue&&(this._oldIndex=this.selectedIndex)},_get:function(candidate){var data,found,idx;if("function"==typeof candidate){for(data=this.dataSource.flatView(),idx=0;idx<data.length;idx++)if(candidate(data[idx])){candidate=idx,found=!0;break}found||(candidate=-1)}return candidate},_select:function(candidate,keepState){var that=this;return-1===(candidate=that._get(candidate))&&(that.input[0].value="",that._accessor("")),that.listView.select(candidate).done(function(){keepState||"filter"!==that._state||(that._state="accept")})},_selectValue:function(dataItem){var idx=this.listView.select(),value="",text="";void 0===(idx=idx[idx.length-1])&&(idx=-1),this.selectedIndex=idx,-1!==idx||dataItem?((dataItem||0===dataItem)&&(value=this._dataValue(dataItem),text=this._text(dataItem)),null===value&&(value="")):(text=this.input[0].value,this.options.syncValueAndText&&(value=text),this.listView.focus(-1)),this._setDomInputValue(text),this._accessor(void 0!==value?value:text,idx),this._placeholder(),this._triggerCascade()},_setDomInputValue:function(text){var that=this,currentCaret=caret(this.input),caretStart;if(currentCaret&&currentCaret.length&&(caretStart=currentCaret[0]),this._prev=this.input[0].value=text,caretStart&&-1===this.selectedIndex){var mobile=support.mobileOS;mobile.wp||mobile.android?setTimeout(function(){that.input[0].setSelectionRange(caretStart,caretStart)},0):this.input[0].setSelectionRange(caretStart,caretStart)}},refresh:function(){this.listView.refresh()},_toggleCloseVisibility:function(){this.text()?this._showClear():this._hideClear()},suggest:function(word){var that=this,element=this.input[0],value=this.text(),caretIdx=caret(element)[0],key=this._last,idx;key!=keys.BACKSPACE&&key!=keys.DELETE?("string"!=typeof(word=word||"")&&(word[0]&&(word=this.dataSource.view()[List.inArray(word[0],this.ul[0])]),word=word?this._text(word):""),caretIdx<=0&&(caretIdx=value.toLowerCase().indexOf(word.toLowerCase())+1),word?(idx=(word=word.toString()).toLowerCase().indexOf(value.toLowerCase()))>-1&&(value+=word.substring(idx+value.length)):value=value.substring(0,caretIdx),value.length===caretIdx&&word||(element.value=value,element===activeElement()&&caret(element,caretIdx,value.length))):this._last=void 0},text:function(text){text=null===text?"":text;var that=this,input=that.input[0],ignoreCase=that.options.ignoreCase,loweredText=text,dataItem,value;if(void 0===text)return input.value;!1!==that.options.autoBind||that.listView.bound()?(dataItem=that.dataItem())&&that._text(dataItem)===text&&(value=that._value(dataItem))===List.unifyType(that._old,typeof value)?that._triggerCascade():(ignoreCase&&!that.listView.value().length&&(loweredText=loweredText.toLowerCase()),that._select(function(data){return data=that._text(data),ignoreCase&&!that.listView.value().length&&(data=(data+"").toLowerCase()),data===loweredText}).done(function(){that.selectedIndex<0&&(input.value=text,that.options.syncValueAndText&&that._accessor(text),that._triggerCascade()),that._prev=input.value})):that._setText(text)},toggle:function(toggle){this._toggle(toggle,!0)},value:function(value){var that=this,options=that.options,listView=that.listView;if(void 0===value)return void 0===(value=that._accessor()||that.listView.value()[0])||null===value?"":value;that.requireValueMapper(that.options,value),that.trigger("set",{value:value}),value===options.value&&that.input.val()===options.text||(that._accessor(value),that._isFilterEnabled()&&listView.bound()&&listView.isFiltered()?that._clearFilter():that._fetchData(),listView.value(value).done(function(){-1===that.selectedIndex&&(that._accessor(value),that.input.val(value),that._placeholder(!0)),that._old=that._accessor(),that._oldIndex=that.selectedIndex,that._prev=that.input.val(),"filter"===that._state&&(that._state="accept")}))},_click:function(e){var that=this,item=e.item,dataItem=that.listView.dataItemByIndex(that.listView.getElementIndex(item));e.preventDefault(),that.trigger("select",{dataItem:dataItem,item:item})?that.close():(that._userTriggered=!0,that._select(item).done(function(){that._blur()}))},_inputValue:function(){return this.text()},_searchByWord:function(word){var that=this,options=that.options,dataSource=that.dataSource,ignoreCase=options.ignoreCase,predicate=function(dataItem){var text=that._text(dataItem);if(void 0!==text)return(""==(text+="")||""!==word)&&(ignoreCase&&(text=text.toLowerCase()),0===text.indexOf(word))};if(ignoreCase&&(word=word.toLowerCase()),that.ul[0].firstChild){this.listView.focus(this._get(predicate));var current=this.listView.focus();current&&(options.suggest&&that.suggest(current),this.open()),this.options.highlightFirst&&!word&&this.listView.focusFirst()}else dataSource.one(CHANGE,function(){dataSource.view()[0]&&that.search(word)}).fetch()},_input:function(){var that=this,element=this.element.removeClass("k-input")[0],accessKey=element.accessKey,wrapper=this.wrapper,SELECTOR="input.k-input",name=element.name||"",input,maxLength;name&&(name='name="'+name+'_input" '),(input=wrapper.find(SELECTOR))[0]||(wrapper.append('<span tabindex="-1" unselectable="on" class="k-dropdown-wrap k-state-default"><input '+name+'class="k-input" type="text" autocomplete="off"/><span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span>').append(this.element),input=wrapper.find(SELECTOR)),input[0].style.cssText=element.style.cssText,input[0].title=element.title,(maxLength=parseInt(this.element.prop("maxlength")||this.element.attr("maxlength"),10))>-1&&(input[0].maxLength=maxLength),input.addClass(element.className).css({width:"100%",height:element.style.height}).attr({role:"combobox","aria-expanded":!1}).show(),placeholderSupported&&input.attr("placeholder",this.options.placeholder),accessKey&&(element.accessKey="",input[0].accessKey=accessKey),this._focused=this.input=input,this._inputWrapper=$(wrapper[0].firstChild),this._arrow=wrapper.find(".k-select").attr({role:"button",tabIndex:-1}),this._arrowIcon=this._arrow.find(".k-icon"),element.id&&this._arrow.attr("aria-controls",this.ul[0].id)},_clearButton:function(){this._clear=$('<span unselectable="on" class="k-icon k-clear-value k-i-close" title="clear"></span>').attr({role:"button",tabIndex:-1}),this.options.clearButton&&(this._clear.insertAfter(this.input),this.wrapper.addClass("k-combobox-clearable"))},_keydown:function(e){var that=this,key=e.keyCode;this._last=key,clearTimeout(this._typingTimeout),this._typingTimeout=null,key==keys.TAB||this._move(e)||this._search()},_placeholder:function(show){if(!placeholderSupported){var that=this,input=this.input,placeholder=this.options.placeholder,value;if(placeholder){if(value=this.value(),void 0===show&&(show=!value),input.toggleClass("k-readonly",show),!show){if(value)return;placeholder=""}input.val(placeholder),placeholder||input[0]!==activeElement()||caret(input[0],0,0)}}},_search:function(){var that=this;that._typingTimeout=setTimeout(function(){var value=that.text();that._prev!==value&&(that._prev=value,"none"===that.options.filter&&that.listView.select(-1),that.search(value),that._toggleCloseVisibility()),that._typingTimeout=null},that.options.delay)},_setText:function(text){this.input.val(text),this._prev=text},_wrapper:function(){var that=this,element=this.element,wrapper=element.parent();wrapper.is("span.k-widget")||((wrapper=element.hide().wrap("<span />").parent())[0].style.cssText=element[0].style.cssText),this.wrapper=wrapper.addClass("k-widget k-combobox k-header").addClass(element[0].className).css("display","")},_clearSelection:function(parent,isFiltered){var that=this,hasValue=parent.value(),custom=hasValue&&-1===parent.selectedIndex;-1==this.selectedIndex&&this.value()||(isFiltered||!hasValue||custom)&&(this.options.value="",this.value(""))},_preselect:function(value,text){this.input.val(text),this._accessor(value),this._old=this._accessor(),this._oldIndex=this.selectedIndex,this.listView.setValue(value),this._placeholder(),this._initialIndex=null,this._presetValue=!0}});ui.plugin(ComboBox)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(a1,a2,a3){(a3||a2)()}),function(f,define){define("kendo.dropdownlist",["kendo.list","kendo.mobile.scroller"],f)}(function(){var __meta___id="dropdownlist",__meta___name="DropDownList",__meta___category="web",__meta___description="The DropDownList widget displays a list of values and allows the selection of a single value from the list.",__meta___depends=["list"],__meta___features=[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]},{id:"virtualization",name:"VirtualList",description:"Support for virtualization",depends:["virtuallist"]}];return function($,undefined){var kendo=window.kendo,ui=kendo.ui,List=ui.List,Select=ui.Select,support=kendo.support,activeElement=kendo._activeElement,ObservableObject=kendo.data.ObservableObject,keys=kendo.keys,ns=".kendoDropDownList",DISABLED="disabled",READONLY="readonly",CHANGE="change",FOCUSED="k-state-focused",DEFAULT="k-state-default",STATEDISABLED="k-state-disabled",ARIA_DISABLED="aria-disabled",HOVEREVENTS="mouseenter"+ns+" mouseleave"+ns,TABINDEX="tabindex",STATE_FILTER="filter",STATE_ACCEPT="accept",MSG_INVALID_OPTION_LABEL="The `optionLabel` option is not valid due to missing fields. Define a custom optionLabel as shown here http://docs.telerik.com/kendo-ui/api/javascript/ui/dropdownlist#configuration-optionLabel",proxy=$.proxy,DropDownList=Select.extend({init:function(element,options){var that=this,index=options&&options.index,optionLabel,text,disabled;this.ns=ns,options=$.isArray(options)?{dataSource:options}:options,Select.fn.init.call(this,element,options),options=this.options,element=this.element.on("focus"+ns,proxy(this._focusHandler,this)),this._focusInputHandler=$.proxy(this._focusInput,this),this.optionLabel=$(),this._optionLabel(),this._inputTemplate(),this._reset(),this._prev="",this._word="",this._wrapper(),this._tabindex(),this.wrapper.data(TABINDEX,this.wrapper.attr(TABINDEX)),this._span(),this._popup(),this._mobile(),this._dataSource(),this._ignoreCase(),this._filterHeader(),this._aria(),this._enable(),this._oldIndex=this.selectedIndex=-1,void 0!==index&&(options.index=index),this._initialIndex=options.index,this.requireValueMapper(this.options),this._initList(),this._cascade(),options.autoBind?this.dataSource.fetch():-1===this.selectedIndex&&((text=options.text||"")||((optionLabel=options.optionLabel)&&0===options.index?text=optionLabel:this._isSelect&&(text=element.children(":selected").text())),this._textAccessor(text)),(disabled=$(this.element).parents("fieldset").is(":disabled"))&&this.enable(!1),this.listView.bind("click",function(e){e.preventDefault()}),kendo.notify(this)},options:{name:"DropDownList",enabled:!0,autoBind:!0,index:0,text:null,value:null,delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",cascadeFromField:"",ignoreCase:!0,animation:{},filter:"none",minLength:1,enforceMinLength:!1,virtual:!1,template:null,valueTemplate:null,optionLabelTemplate:null,groupTemplate:"#:data#",fixedGroupTemplate:"#:data#"},events:["open","close",CHANGE,"select","filtering","dataBinding","dataBound","cascade","set"],setOptions:function(options){Select.fn.setOptions.call(this,options),this.listView.setOptions(this._listOptions(options)),this._optionLabel(),this._inputTemplate(),this._accessors(),this._filterHeader(),this._enable(),this._aria(),!this.value()&&this.hasOptionLabel()&&this.select(0)},destroy:function(){var that=this;Select.fn.destroy.call(this),this.wrapper.off(ns),this.element.off(ns),this._inputWrapper.off(ns),this._arrow.off(),this._arrow=null,this._arrowIcon=null,this.optionLabel.off()},open:function(){var that=this;this.popup.visible()||(this.listView.bound()&&"accept"!==this._state?this._allowOpening()&&(this.popup.one("activate",this._focusInputHandler),this.popup.open(),this._resizeFilterInput(),this._focusItem()):(this._open=!0,this._state="rebind",this.filterInput&&(this.filterInput.val(""),this._prev=""),this.filterInput&&1!==this.options.minLength?(this.refresh(),this.popup.one("activate",this._focusInputHandler),this.popup.open(),this._resizeFilterInput()):this._filterSource()))},_focusInput:function(){this._focusElement(this.filterInput)},_resizeFilterInput:function(){var filterInput=this.filterInput,originalPrevent=this._prevent;if(filterInput){var isInputActive=this.filterInput[0]===activeElement(),caret=kendo.caret(this.filterInput[0])[0];this._prevent=!0,filterInput.css("display","none").css("width",this.popup.element.css("width")).css("display","inline-block"),isInputActive&&(filterInput.focus(),kendo.caret(filterInput[0],caret)),this._prevent=originalPrevent}},_allowOpening:function(){return this.hasOptionLabel()||this.filterInput||Select.fn._allowOpening.call(this)},toggle:function(toggle){this._toggle(toggle,!0)},current:function(candidate){var current;if(void 0===candidate)return!(current=this.listView.focus())&&0===this.selectedIndex&&this.hasOptionLabel()?this.optionLabel:current;this._focus(candidate)},dataItem:function(index){var that=this,dataItem=null;if(null===index)return index;if(void 0===index)dataItem=this.listView.selectedDataItems()[0];else{if("number"!=typeof index){if(this.options.virtual)return this.dataSource.getByUid($(index).data("uid"));index=index.hasClass("k-list-optionlabel")?-1:$(this.items()).index(index)}else this.hasOptionLabel()&&(index-=1);dataItem=this.dataSource.flatView()[index]}return dataItem||(dataItem=this._optionLabelDataItem()),dataItem},refresh:function(){this.listView.refresh()},text:function(text){var that=this,loweredText,ignoreCase=that.options.ignoreCase;if(void 0===(text=null===text?"":text))return that._textAccessor();"string"==typeof text?(loweredText=ignoreCase?text.toLowerCase():text,that._select(function(data){return data=that._text(data),ignoreCase&&(data=(data+"").toLowerCase()),data===loweredText}).done(function(){that._textAccessor(that.dataItem()||text)})):that._textAccessor(text)},_clearFilter:function(){$(this.filterInput).val(""),Select.fn._clearFilter.call(this)},value:function(value){var that=this,listView=that.listView,dataSource=that.dataSource;return void 0===value?void 0===(value=that._accessor()||that.listView.value()[0])||null===value?"":value:(that.requireValueMapper(that.options,value),!value&&that.hasOptionLabel()||(that._initialIndex=null),this.trigger("set",{value:value}),that._request&&that.options.cascadeFrom&&that.listView.bound()?(that._valueSetter&&dataSource.unbind(CHANGE,that._valueSetter),that._valueSetter=proxy(function(){that.value(value)},that),void dataSource.one(CHANGE,that._valueSetter)):(that._isFilterEnabled()&&listView.bound()&&listView.isFiltered()?that._clearFilter():that._fetchData(),void listView.value(value).done(function(){that._old=that._accessor(),that._oldIndex=that.selectedIndex})))},hasOptionLabel:function(){return this.optionLabel&&!!this.optionLabel[0]},_optionLabel:function(){var that=this,options=that.options,optionLabel=options.optionLabel,template=options.optionLabelTemplate;if(!optionLabel)return that.optionLabel.off().remove(),void(that.optionLabel=$());template||(template="#:",template+="string"==typeof optionLabel?"data":kendo.expr(options.dataTextField,"data"),template+="#"),"function"!=typeof template&&(template=kendo.template(template)),that.optionLabelTemplate=template,that.hasOptionLabel()||(that.optionLabel=$('<div class="k-list-optionlabel"></div>').prependTo(that.list)),that.optionLabel.html(template(optionLabel)).off().click(proxy(that._click,that)).on(HOVEREVENTS,that._toggleHover),that.angular("compile",function(){return{elements:that.optionLabel,data:[{dataItem:that._optionLabelDataItem()}]}})},_optionLabelText:function(){var optionLabel=this.options.optionLabel;return"string"==typeof optionLabel?optionLabel:this._text(optionLabel)},_optionLabelDataItem:function(){var that=this,optionLabel=this.options.optionLabel;return this.hasOptionLabel()?$.isPlainObject(optionLabel)?new ObservableObject(optionLabel):this._assignInstance(this._optionLabelText(),""):null},_buildOptions:function(data){var that=this;if(this._isSelect){var value=this.listView.value()[0],optionLabel=this._optionLabelDataItem(),optionLabelValue=optionLabel&&this._value(optionLabel);void 0!==value&&null!==value||(value=""),optionLabel&&(void 0!==optionLabelValue&&null!==optionLabelValue||(optionLabelValue=""),optionLabel='<option value="'+optionLabelValue+'">'+this._text(optionLabel)+"</option>"),this._options(data,optionLabel,value),value!==List.unifyType(this._accessor(),typeof value)&&(this._customOption=null,this._custom(value))}},_listBound:function(){var that=this,initialIndex=this._initialIndex,filtered="filter"===this._state,data=this.dataSource.flatView(),dataItem;this._presetValue=!1,this._renderFooter(),this._renderNoData(),this._toggleNoData(!data.length),this._resizePopup(!0),this.popup.position(),this._buildOptions(data),this._makeUnselectable(),filtered||(this._open&&this.toggle(this._allowOpening()),this._open=!1,this._fetch||(data.length?(!this.listView.value().length&&initialIndex>-1&&null!==initialIndex&&this.select(initialIndex),this._initialIndex=null,(dataItem=this.listView.selectedDataItems()[0])&&this.text()!==this._text(dataItem)&&this._selectValue(dataItem)):this._textAccessor()!==this._optionLabelText()&&(this.listView.value(""),this._selectValue(null),this._oldIndex=this.selectedIndex))),this._hideBusy(),this.trigger("dataBound")},_listChange:function(){this._selectValue(this.listView.selectedDataItems()[0]),(this._presetValue||this._old&&-1===this._oldIndex)&&(this._oldIndex=this.selectedIndex)},_filterPaste:function(){this._search()},_focusHandler:function(){this.wrapper.focus()},_focusinHandler:function(){this._inputWrapper.addClass(FOCUSED),this._prevent=!1},_focusoutHandler:function(){var that=this,isIFrame=window.self!==window.top;this._prevent||(clearTimeout(this._typingTimeout),support.mobileOS.ios&&isIFrame?this._change():this._blur(),this._inputWrapper.removeClass(FOCUSED),this._prevent=!0,this._open=!1,this.element.blur())},_wrapperMousedown:function(){this._prevent=!!this.filterInput},_wrapperClick:function(e){e.preventDefault(),this.popup.unbind("activate",this._focusInputHandler),this._focused=this.wrapper,this._toggle()},_editable:function(options){var that=this,element=this.element,disable=options.disable,readonly=options.readonly,wrapper=this.wrapper.add(this.filterInput).off(ns),dropDownWrapper=this._inputWrapper.off(HOVEREVENTS);readonly||disable?disable?(wrapper.removeAttr(TABINDEX),dropDownWrapper.addClass(STATEDISABLED).removeClass(DEFAULT)):(dropDownWrapper.addClass(DEFAULT).removeClass(STATEDISABLED),wrapper.on("focusin"+ns,proxy(this._focusinHandler,this)).on("focusout"+ns,proxy(this._focusoutHandler,this))):(element.removeAttr(DISABLED).removeAttr(READONLY),dropDownWrapper.addClass(DEFAULT).removeClass(STATEDISABLED).on(HOVEREVENTS,this._toggleHover),wrapper.attr(TABINDEX,wrapper.data(TABINDEX)).attr(ARIA_DISABLED,!1).on("keydown"+ns,proxy(this._keydown,this)).on("focusin"+ns,proxy(this._focusinHandler,this)).on("focusout"+ns,proxy(this._focusoutHandler,this)).on("mousedown"+ns,proxy(this._wrapperMousedown,this)).on("paste"+ns,proxy(this._filterPaste,this)),this.wrapper.on("click"+ns,proxy(this._wrapperClick,this)),this.filterInput||wrapper.on("keypress"+ns,proxy(this._keypress,this))),element.attr(DISABLED,disable).attr(READONLY,readonly),wrapper.attr(ARIA_DISABLED,disable)},_keydown:function(e){var that=this,key=e.keyCode,altKey=e.altKey,isInputActive,handled,isPopupVisible=that.popup.visible();if(that.filterInput&&(isInputActive=that.filterInput[0]===activeElement()),key===keys.LEFT?(key=keys.UP,handled=!0):key===keys.RIGHT&&(key=keys.DOWN,handled=!0),!handled||!isInputActive)if(e.keyCode=key,(altKey&&key===keys.UP||key===keys.ESC)&&that._focusElement(that.wrapper),"filter"===that._state&&key===keys.ESC&&that._clearFilter(),key===keys.ENTER&&that._typingTimeout&&that.filterInput&&isPopupVisible)e.preventDefault();else if(!(handled=that._move(e))){if(!isPopupVisible||!that.filterInput){var current=that._focus();if(key===keys.HOME?(handled=!0,that._firstItem()):key===keys.END&&(handled=!0,that._lastItem()),handled){if(that.trigger("select",{dataItem:that._getElementDataItem(that._focus()),item:that._focus()}))return void that._focus(current);that._select(that._focus(),!0).done(function(){isPopupVisible||that._blur()}),e.preventDefault()}}altKey||handled||!that.filterInput||that._search()}},_matchText:function(text,word){var ignoreCase=this.options.ignoreCase;return void 0!==text&&null!==text&&(text+="",ignoreCase&&(text=text.toLowerCase()),0===text.indexOf(word))},_shuffleData:function(data,splitIndex){var optionDataItem=this._optionLabelDataItem();return optionDataItem&&(data=[optionDataItem].concat(data)),data.slice(splitIndex).concat(data.slice(0,splitIndex))},_selectNext:function(){var that=this,data=that.dataSource.flatView(),dataLength=data.length+(that.hasOptionLabel()?1:0),isInLoop=sameCharsOnly(that._word,that._last),startIndex=that.selectedIndex,oldFocusedItem,text;startIndex=-1===startIndex?0:normalizeIndex(startIndex+=isInLoop?1:0,dataLength),data=data.toJSON?data.toJSON():data.slice(),data=that._shuffleData(data,startIndex);for(var idx=0;idx<dataLength&&(text=that._text(data[idx]),!isInLoop||!that._matchText(text,that._last))&&!that._matchText(text,that._word);idx++);idx!==dataLength&&(oldFocusedItem=that._focus(),that._select(normalizeIndex(startIndex+idx,dataLength)).done(function(){var done=function(){that.popup.visible()||that._change()};that.trigger("select",{dataItem:that._getElementDataItem(that._focus()),item:that._focus()})?that._select(oldFocusedItem).done(done):done()}))},_keypress:function(e){var that=this;if(0!==e.which&&e.keyCode!==kendo.keys.ENTER){var character=String.fromCharCode(e.charCode||e.keyCode);this.options.ignoreCase&&(character=character.toLowerCase())," "===character&&e.preventDefault(),this._word+=character,this._last=character,this._search()}},_popupOpen:function(){var popup=this.popup;popup.wrapper=kendo.wrap(popup.element),popup.element.closest(".km-root")[0]&&(popup.wrapper.addClass("km-popup km-widget"),this.wrapper.addClass("km-widget"))},_popup:function(){Select.fn._popup.call(this),this.popup.one("open",proxy(this._popupOpen,this))},_getElementDataItem:function(element){return element&&element[0]?element[0]===this.optionLabel[0]?this._optionLabelDataItem():this.listView.dataItemByIndex(this.listView.getElementIndex(element)):null},_click:function(e){var that=this,item=e.item||$(e.currentTarget);e.preventDefault(),that.trigger("select",{dataItem:that._getElementDataItem(item),item:item})?that.close():(that._userTriggered=!0,that._select(item).done(function(){that._focusElement(that.wrapper),that._blur()}))},_focusElement:function(element){var active=activeElement(),wrapper=this.wrapper,filterInput=this.filterInput,compareElement=element===filterInput?wrapper:filterInput,touchEnabled=support.mobileOS&&(support.touch||support.MSPointers||support.pointers);filterInput&&filterInput[0]===element[0]&&touchEnabled||filterInput&&compareElement[0]===active&&(this._prevent=!0,this._focused=element.focus())},_searchByWord:function(word){if(word){var that=this,ignoreCase;that.options.ignoreCase&&(word=word.toLowerCase()),that._select(function(dataItem){return that._matchText(that._text(dataItem),word)})}},_inputValue:function(){return this.text()},_search:function(){var that=this,dataSource=that.dataSource;if(clearTimeout(that._typingTimeout),that._isFilterEnabled())that._typingTimeout=setTimeout(function(){var value=that.filterInput.val();that._prev!==value&&(that._prev=value,that.search(value),that._resizeFilterInput()),that._typingTimeout=null},that.options.delay);else{if(that._typingTimeout=setTimeout(function(){that._word=""},that.options.delay),!that.listView.bound())return void dataSource.fetch().done(function(){that._selectNext()});that._selectNext()}},_get:function(candidate){var data,found,idx,isFunction="function"==typeof candidate,jQueryCandidate=isFunction?$():$(candidate);if(this.hasOptionLabel()&&("number"==typeof candidate?candidate>-1&&(candidate-=1):jQueryCandidate.hasClass("k-list-optionlabel")&&(candidate=-1)),isFunction){for(data=this.dataSource.flatView(),idx=0;idx<data.length;idx++)if(candidate(data[idx])){candidate=idx,found=!0;break}found||(candidate=-1)}return candidate},_firstItem:function(){this.hasOptionLabel()?this._focus(this.optionLabel):this.listView.focusFirst()},_lastItem:function(){this._resetOptionLabel(),this.listView.focusLast()},_nextItem:function(){this.optionLabel.hasClass("k-state-focused")?(this._resetOptionLabel(),this.listView.focusFirst()):this.listView.focusNext()},_prevItem:function(){this.optionLabel.hasClass("k-state-focused")||(this.listView.focusPrev(),this.listView.focus()||this._focus(this.optionLabel))},_focusItem:function(){var options=this.options,listView=this.listView,focusedItem=listView.focus(),index=listView.select();void 0===(index=index[index.length-1])&&options.highlightFirst&&!focusedItem&&(index=0),void 0!==index?listView.focus(index):!options.optionLabel||options.virtual&&"dataItem"===options.virtual.mapValueTo?listView.scrollToIndex(0):(this._focus(this.optionLabel),this._select(this.optionLabel))},_resetOptionLabel:function(additionalClass){this.optionLabel.removeClass("k-state-focused"+(additionalClass||"")).removeAttr("id")},_focus:function(candidate){var listView=this.listView,optionLabel=this.optionLabel;if(void 0===candidate)return!(candidate=listView.focus())&&optionLabel.hasClass("k-state-focused")&&(candidate=optionLabel),candidate;this._resetOptionLabel(),candidate=this._get(candidate),listView.focus(candidate),-1===candidate&&(optionLabel.addClass("k-state-focused").attr("id",listView._optionID),this._focused.add(this.filterInput).removeAttr("aria-activedescendant").attr("aria-activedescendant",listView._optionID))},_select:function(candidate,keepState){var that=this;return candidate=that._get(candidate),that.listView.select(candidate).done(function(){keepState||"filter"!==that._state||(that._state="accept"),-1===candidate&&that._selectValue(null)})},_selectValue:function(dataItem){var that=this,optionLabel=this.options.optionLabel,idx=this.listView.select(),value="",text="";void 0===(idx=idx[idx.length-1])&&(idx=-1),this._resetOptionLabel(" k-state-selected"),dataItem||0===dataItem?(text=dataItem,value=this._dataValue(dataItem),optionLabel&&(idx+=1)):optionLabel&&(this._focus(this.optionLabel.addClass("k-state-selected")),text=this._optionLabelText(),value="string"==typeof optionLabel?"":this._value(optionLabel),idx=0),this.selectedIndex=idx,null===value&&(value=""),this._textAccessor(text),this._accessor(value,idx),this._triggerCascade()},_mobile:function(){var that=this,popup=this.popup,mobileOS=support.mobileOS,root;popup.element.parents(".km-root").eq(0).length&&mobileOS&&(popup.options.animation.open.effects=mobileOS.android||mobileOS.meego?"fadeIn":mobileOS.ios||mobileOS.wp?"slideIn:up":popup.options.animation.open.effects)},_filterHeader:function(){var icon;this.filterInput&&(this.filterInput.off(ns).parent().remove(),this.filterInput=null),this._isFilterEnabled()&&(icon='<span class="k-icon k-i-zoom"></span>',this.filterInput=$('<input class="k-textbox"/>').attr({placeholder:this.element.attr("placeholder"),title:this.element.attr("title"),role:"listbox","aria-haspopup":!0,"aria-expanded":!1}),this.list.prepend($('<span class="k-list-filter" />').append(this.filterInput.add(icon))))},_span:function(){var that=this,wrapper=this.wrapper,SELECTOR="span.k-input",span;(span=wrapper.find(SELECTOR))[0]||(wrapper.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span>').append(this.element),span=wrapper.find(SELECTOR)),this.span=span,this._inputWrapper=$(wrapper[0].firstChild),this._arrow=wrapper.find(".k-select"),this._arrowIcon=this._arrow.find(".k-icon")},_wrapper:function(){var that=this,element=this.element,DOMelement=element[0],wrapper;(wrapper=element.parent()).is("span.k-widget")||((wrapper=element.wrap("<span />").parent())[0].style.cssText=DOMelement.style.cssText,wrapper[0].title=DOMelement.title),this._focused=this.wrapper=wrapper.addClass("k-widget k-dropdown k-header").addClass(DOMelement.className).css("display","").attr({accesskey:element.attr("accesskey"),unselectable:"on",role:"listbox","aria-haspopup":!0,"aria-expanded":!1}),element.hide().removeAttr("accesskey")},_clearSelection:function(parent){this.select(parent.value()?0:-1)},_inputTemplate:function(){var that=this,template=this.options.valueTemplate;if(template=template?kendo.template(template):$.proxy(kendo.template("#:this._text(data)#",{useWithBlock:!1}),this),this.valueTemplate=template,this.hasOptionLabel()&&!this.options.optionLabelTemplate)try{this.valueTemplate(this._optionLabelDataItem())}catch(e){throw new Error(MSG_INVALID_OPTION_LABEL)}},_textAccessor:function(text){var dataItem=null,template=this.valueTemplate,optionLabelText=this._optionLabelText(),span=this.span;if(void 0===text)return span.text();$.isPlainObject(text)||text instanceof ObservableObject?dataItem=text:optionLabelText&&optionLabelText===text&&(dataItem=this.options.optionLabel),dataItem||(dataItem=this._assignInstance(text,this._accessor())),this.hasOptionLabel()&&(dataItem!==optionLabelText&&this._text(dataItem)!==optionLabelText||(template=this.optionLabelTemplate,"string"!=typeof this.options.optionLabel||this.options.optionLabelTemplate||(dataItem=optionLabelText)));var getElements=function(){return{elements:span.get(),data:[{dataItem:dataItem}]}};this.angular("cleanup",getElements);try{span.html(template(dataItem))}catch(e){span.html("")}this.angular("compile",getElements)},_preselect:function(value,text){value||text||(text=this._optionLabelText()),this._accessor(value),this._textAccessor(text),this._old=this._accessor(),this._oldIndex=this.selectedIndex,this.listView.setValue(value),this._initialIndex=null,this._presetValue=!0},_assignInstance:function(text,value){var dataTextField=this.options.dataTextField,dataItem={};return dataTextField?(assign(dataItem,dataTextField.split("."),text),assign(dataItem,this.options.dataValueField.split("."),value),dataItem=new ObservableObject(dataItem)):dataItem=text,dataItem}});function assign(instance,fields,value){for(var idx=0,lastIndex=fields.length-1,field;idx<lastIndex;++idx)(field=fields[idx])in instance||(instance[field]={}),instance=instance[field];instance[fields[lastIndex]]=value}function normalizeIndex(index,length){return index>=length&&(index-=length),index}function sameCharsOnly(word,character){for(var idx=0;idx<word.length;idx++)if(word.charAt(idx)!==character)return!1;return!0}ui.plugin(DropDownList)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(a1,a2,a3){(a3||a2)()}),function(f,define){define("kendo.colorpicker",["kendo.core","kendo.color","kendo.popup","kendo.slider","kendo.userevents","kendo.button"],f)}(function(){var __meta___id="colorpicker",__meta___name="Color tools",__meta___category="web",__meta___description="Color selection widgets",__meta___depends=["core","color","popup","slider","userevents","button"];return function($,parseInt,undefined){var kendo=window.kendo,ui=kendo.ui,Widget=ui.Widget,parseColor=kendo.parseColor,Color=kendo.Color,KEYS=kendo.keys,BACKGROUNDCOLOR="background-color",ITEMSELECTEDCLASS="k-state-selected",SIMPLEPALETTE="000000,7f7f7f,880015,ed1c24,ff7f27,fff200,22b14c,00a2e8,3f48cc,a349a4,ffffff,c3c3c3,b97a57,ffaec9,ffc90e,efe4b0,b5e61d,99d9ea,7092be,c8bfe7",WEBPALETTE="FFFFFF,FFCCFF,FF99FF,FF66FF,FF33FF,FF00FF,CCFFFF,CCCCFF,CC99FF,CC66FF,CC33FF,CC00FF,99FFFF,99CCFF,9999FF,9966FF,9933FF,9900FF,FFFFCC,FFCCCC,FF99CC,FF66CC,FF33CC,FF00CC,CCFFCC,CCCCCC,CC99CC,CC66CC,CC33CC,CC00CC,99FFCC,99CCCC,9999CC,9966CC,9933CC,9900CC,FFFF99,FFCC99,FF9999,FF6699,FF3399,FF0099,CCFF99,CCCC99,CC9999,CC6699,CC3399,CC0099,99FF99,99CC99,999999,996699,993399,990099,FFFF66,FFCC66,FF9966,FF6666,FF3366,FF0066,CCFF66,CCCC66,CC9966,CC6666,CC3366,CC0066,99FF66,99CC66,999966,996666,993366,990066,FFFF33,FFCC33,FF9933,FF6633,FF3333,FF0033,CCFF33,CCCC33,CC9933,CC6633,CC3333,CC0033,99FF33,99CC33,999933,996633,993333,990033,FFFF00,FFCC00,FF9900,FF6600,FF3300,FF0000,CCFF00,CCCC00,CC9900,CC6600,CC3300,CC0000,99FF00,99CC00,999900,996600,993300,990000,66FFFF,66CCFF,6699FF,6666FF,6633FF,6600FF,33FFFF,33CCFF,3399FF,3366FF,3333FF,3300FF,00FFFF,00CCFF,0099FF,0066FF,0033FF,0000FF,66FFCC,66CCCC,6699CC,6666CC,6633CC,6600CC,33FFCC,33CCCC,3399CC,3366CC,3333CC,3300CC,00FFCC,00CCCC,0099CC,0066CC,0033CC,0000CC,66FF99,66CC99,669999,666699,663399,660099,33FF99,33CC99,339999,336699,333399,330099,00FF99,00CC99,009999,006699,003399,000099,66FF66,66CC66,669966,666666,663366,660066,33FF66,33CC66,339966,336666,333366,330066,00FF66,00CC66,009966,006666,003366,000066,66FF33,66CC33,669933,666633,663333,660033,33FF33,33CC33,339933,336633,333333,330033,00FF33,00CC33,009933,006633,003333,000033,66FF00,66CC00,669900,666600,663300,660000,33FF00,33CC00,339900,336600,333300,330000,00FF00,00CC00,009900,006600,003300,000000",WHITE="#ffffff",MESSAGES={apply:"Apply",cancel:"Cancel",noColor:"no color",clearColor:"Clear color",previewInput:"Color Hexadecimal Code"},NS=".kendoColorTools",CLICK_NS="click"+NS,KEYDOWN_NS="keydown"+NS,browser=kendo.support.browser,isIE8=browser.msie&&browser.version<9,ColorSelector=Widget.extend({init:function(element,options){var that=this,ariaId;Widget.fn.init.call(this,element,options),element=this.element,options=this.options,this._value=options.value=parseColor(options.value),this._tabIndex=element.attr("tabIndex")||0,(ariaId=this._ariaId=options.ariaId)&&element.attr("aria-labelledby",ariaId),options._standalone&&(this._triggerSelect=this._triggerChange)},options:{name:"ColorSelector",value:null,_standalone:!0},events:["change","select","cancel"],color:function(value){return void 0!==value&&(this._value=parseColor(value),this._updateUI(this._value)),this._value},value:function(color){return(color=this.color(color))&&(color=this.options.opacity?color.toCssRgba():color.toCss()),color||null},enable:function(enable){0===arguments.length&&(enable=!0),$(".k-disabled-overlay",this.wrapper).remove(),enable||this.wrapper.append("<div class='k-disabled-overlay'></div>"),this._onEnable(enable)},_select:function(color,nohooks){var prev=this._value;color=this.color(color),nohooks||(this.element.trigger("change"),color.equals(prev)?this._standalone||this.trigger("cancel"):this.trigger("change",{value:this.value()}))},_triggerSelect:function(color){triggerEvent(this,"select",color)},_triggerChange:function(color){triggerEvent(this,"change",color)},destroy:function(){this.element&&this.element.off(NS),this.wrapper&&this.wrapper.off(NS).find("*").off(NS),this.wrapper=null,Widget.fn.destroy.call(this)},_updateUI:$.noop,_selectOnHide:function(){return null},_cancel:function(){this.trigger("cancel")}});function triggerEvent(self,type,color){(color=parseColor(color))&&!color.equals(self.color())&&("change"==type&&(self._value=color),color=1!=color.a?color.toCssRgba():color.toCss(),self.trigger(type,{value:color}))}var ColorPalette=ColorSelector.extend({init:function(element,options){var that=this;ColorSelector.fn.init.call(that,element,options),element=that.wrapper=that.element;var colors=(options=that.options).palette;"websafe"==colors?(colors=WEBPALETTE,options.columns=18):"basic"==colors&&(colors=SIMPLEPALETTE),"string"==typeof colors&&(colors=colors.split(",")),$.isArray(colors)&&(colors=$.map(colors,function(x){return parseColor(x)})),that._selectedID=(options.ariaId||kendo.guid())+"_selected",element.addClass("k-widget k-colorpalette").attr("role","grid").attr("aria-readonly","true").append($(that._template({colors:colors,columns:options.columns,tileSize:options.tileSize,value:that._value,id:options.ariaId}))).on(CLICK_NS,".k-item",function(ev){that._select($(ev.currentTarget).css(BACKGROUNDCOLOR))}).attr("tabIndex",that._tabIndex).on(KEYDOWN_NS,bind(that._keydown,that));var tileSize=options.tileSize,width,height;if(tileSize){if(/number|string/.test(typeof tileSize))width=height=parseFloat(tileSize);else{if("object"!=typeof tileSize)throw new Error("Unsupported value for the 'tileSize' argument");width=parseFloat(tileSize.width),height=parseFloat(tileSize.height)}element.find(".k-item").css({width:width,height:height})}},focus:function(){this.wrapper.focus()},options:{name:"ColorPalette",columns:10,tileSize:null,palette:"basic"},_onEnable:function(enable){enable?this.wrapper.attr("tabIndex",this._tabIndex):this.wrapper.removeAttr("tabIndex")},_keydown:function(e){var selected,wrapper,items=this.wrapper.find(".k-item"),current=items.filter(".k-state-selected").get(0),keyCode=e.keyCode;if(keyCode==KEYS.LEFT?selected=relative(items,current,-1):keyCode==KEYS.RIGHT?selected=relative(items,current,1):keyCode==KEYS.DOWN?selected=relative(items,current,this.options.columns):keyCode==KEYS.UP?selected=relative(items,current,-this.options.columns):keyCode==KEYS.ENTER?(preventDefault(e),current&&this._select($(current).css(BACKGROUNDCOLOR))):keyCode==KEYS.ESC&&this._cancel(),selected){preventDefault(e),this._current(selected);try{var color=parseColor(selected.css(BACKGROUNDCOLOR));this._triggerSelect(color)}catch(ex){}}},_current:function(item){this.wrapper.find(".k-state-selected").removeClass(ITEMSELECTEDCLASS).attr("aria-selected",!1).removeAttr("id"),$(item).addClass(ITEMSELECTEDCLASS).attr("aria-selected",!0).attr("id",this._selectedID),this.element.removeAttr("aria-activedescendant").attr("aria-activedescendant",this._selectedID)},_updateUI:function(color){var item=null;this.wrapper.find(".k-item").each(function(){var c=parseColor($(this).css(BACKGROUNDCOLOR));if(c&&c.equals(color))return item=this,!1}),this._current(item)},_template:kendo.template('<table class="k-palette k-reset" role="presentation"><tr role="row"># for (var i = 0; i < colors.length; ++i) { ## var selected = colors[i].equals(value); ## if (i && i % columns == 0) { # </tr><tr role="row"> # } #<td role="gridcell" unselectable="on" style="background-color:#= colors[i].toCss() #"#= selected ? " aria-selected=true" : "" # #=(id && i === 0) ? "id=\\""+id+"\\" " : "" # class="k-item#= selected ? " k-state-selected" : "" #" aria-label="#= colors[i].toCss() #"></td># } #</tr></table>')}),FlatColorPicker=ColorSelector.extend({init:function(element,options){var that=this;ColorSelector.fn.init.call(that,element,options),(options=that.options).messages=options.options?$.extend(that.options.messages,options.options.messages):that.options.messages,element=that.element,that.wrapper=element.addClass("k-widget k-flatcolorpicker").append(that._template(options)),that._hueElements=$(".k-hsv-rectangle, .k-transparency-slider .k-slider-track",element),that._selectedColor=$(".k-selected-color-display",element),that._colorAsText=$("input.k-color-value",element),that._sliders(),that._hsvArea(),that._updateUI(that._value||parseColor("#f00")),element.find("input.k-color-value").on(KEYDOWN_NS,function(ev){var input=this;if(ev.keyCode==KEYS.ENTER)try{var color=parseColor(input.value),val=that.color();that._select(color,color.equals(val))}catch(ex){$(input).addClass("k-state-error")}else that.options.autoupdate&&setTimeout(function(){var color=parseColor(input.value,!0);color&&that._updateUI(color,!0)},10)}).end().on(CLICK_NS,".k-controls button.apply",function(){that.options._clearedColor?that.trigger("change"):that._select(that._getHSV())}).on(CLICK_NS,".k-controls button.cancel",function(){that._updateUI(that.color()),that._cancel()}),isIE8&&that._applyIEFilter()},destroy:function(){this._hueSlider.destroy(),this._opacitySlider&&this._opacitySlider.destroy(),this._hueSlider=this._opacitySlider=this._hsvRect=this._hsvHandle=this._hueElements=this._selectedColor=this._colorAsText=null,ColorSelector.fn.destroy.call(this)},options:{name:"FlatColorPicker",opacity:!1,buttons:!1,input:!0,preview:!0,clearButton:!1,autoupdate:!0,messages:MESSAGES},_applyIEFilter:function(){var track=this.element.find(".k-hue-slider .k-slider-track")[0],url=track.currentStyle.backgroundImage;url=url.replace(/^url\([\'\"]?|[\'\"]?\)$/g,""),track.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+url+"', sizingMethod='scale')"},_sliders:function(){var that=this,element=that.element,hueSlider=element.find(".k-hue-slider"),opacitySlider=element.find(".k-transparency-slider");function hueChange(e){that._updateUI(that._getHSV(e.value,null,null,null))}function opacityChange(e){that._updateUI(that._getHSV(null,null,null,e.value/100))}hueSlider.attr("aria-label","hue saturation"),that._hueSlider=hueSlider.kendoSlider({min:0,max:360,tickPlacement:"none",showButtons:!1,slide:hueChange,change:hueChange}).data("kendoSlider"),opacitySlider.attr("aria-label","opacity"),that._opacitySlider=opacitySlider.kendoSlider({min:0,max:100,tickPlacement:"none",showButtons:!1,slide:opacityChange,change:opacityChange}).data("kendoSlider")},_hsvArea:function(){var that=this,element,hsvRect=that.element.find(".k-hsv-rectangle"),hsvHandle=hsvRect.find(".k-draghandle").attr("tabIndex",0).on(KEYDOWN_NS,bind(that._keydown,that));function update(x,y){var offset=this.offset,dx=x-offset.left,dy=y-offset.top,rw=this.width,rh=this.height;dx=dx<0?0:dx>rw?rw:dx,dy=dy<0?0:dy>rh?rh:dy,that._svChange(dx/rw,1-dy/rh)}that._hsvEvents=new kendo.UserEvents(hsvRect,{global:!0,press:function(e){this.offset=kendo.getOffset(hsvRect),this.width=hsvRect.width(),this.height=hsvRect.height(),hsvHandle.focus(),update.call(this,e.x.location,e.y.location)},start:function(){hsvRect.addClass("k-dragging"),hsvHandle.focus()},move:function(e){e.preventDefault(),update.call(this,e.x.location,e.y.location)},end:function(){hsvRect.removeClass("k-dragging")}}),that._hsvRect=hsvRect,that._hsvHandle=hsvHandle},_onEnable:function(enable){this._hueSlider.enable(enable),this._opacitySlider&&this._opacitySlider.enable(enable),this.wrapper.find("input").attr("disabled",!enable);var handle=this._hsvRect.find(".k-draghandle");enable?handle.attr("tabIndex",this._tabIndex):handle.removeAttr("tabIndex")},_keydown:function(ev){var that=this;function move(prop,d){var c=that._getHSV();c[prop]+=d*(ev.shiftKey?.01:.05),c[prop]<0&&(c[prop]=0),c[prop]>1&&(c[prop]=1),that._updateUI(c),preventDefault(ev)}function hue(d){var c=that._getHSV();c.h+=d*(ev.shiftKey?1:5),c.h<0&&(c.h=0),c.h>359&&(c.h=359),that._updateUI(c),preventDefault(ev)}switch(ev.keyCode){case KEYS.LEFT:ev.ctrlKey?hue(-1):move("s",-1);break;case KEYS.RIGHT:ev.ctrlKey?hue(1):move("s",1);break;case KEYS.UP:move(ev.ctrlKey&&that._opacitySlider?"a":"v",1);break;case KEYS.DOWN:move(ev.ctrlKey&&that._opacitySlider?"a":"v",-1);break;case KEYS.ENTER:that._select(that._getHSV());break;case KEYS.F2:that.wrapper.find("input.k-color-value").focus().select();break;case KEYS.ESC:that._cancel()}},focus:function(){this._hsvHandle.focus()},_getHSV:function(h,s,v,a){var rect=this._hsvRect,width=rect.width(),height=rect.height(),handlePosition=this._hsvHandle.position();return null==h&&(h=this._hueSlider.value()),null==s&&(s=handlePosition.left/width),null==v&&(v=1-handlePosition.top/height),null==a&&(a=this._opacitySlider?this._opacitySlider.value()/100:1),Color.fromHSV(h,s,v,a)},_svChange:function(s,v){var color=this._getHSV(null,s,v,null);this._updateUI(color)},_updateUI:function(color,dontChangeInput){var that=this,rect=this._hsvRect;color&&(this._colorAsText.attr("title",this.options.messages.previewInput),this._colorAsText.removeClass("k-state-error"),this._selectedColor.css(BACKGROUNDCOLOR,color.toDisplay()),dontChangeInput||this._colorAsText.val(this._opacitySlider?color.toCssRgba():color.toCss()),this._triggerSelect(color),color=color.toHSV(),this._hsvHandle.css({left:color.s*rect.width()+"px",top:(1-color.v)*rect.height()+"px"}),this._hueElements.css(BACKGROUNDCOLOR,Color.fromHSV(color.h,1,1,1).toCss()),this._hueSlider.value(color.h),this._opacitySlider&&this._opacitySlider.value(100*color.a))},_selectOnHide:function(){return this.options.buttons?null:this._getHSV()},_template:kendo.template('# if (preview) { #<div class="k-selected-color"><div class="k-selected-color-display"><div class="k-color-input"><input class="k-color-value" # if (clearButton && !_standalone) { #placeholder="#: messages.noColor #" # } ##= !data.input ? \'style="visibility: hidden;"\' : "" #># if (clearButton && !_standalone) { #<span class="k-clear-color k-button k-bare" title="#: messages.clearColor #"></span># } #</div></div></div># } ## if (clearButton && !_standalone && !preview) { #<div class="k-clear-color-container"><span class="k-clear-color k-button k-bare">#: messages.clearColor #</span></div># } #<div class="k-hsv-rectangle"><div class="k-hsv-gradient"></div><div class="k-draghandle"></div></div><input class="k-hue-slider" /># if (opacity) { #<input class="k-transparency-slider" /># } ## if (buttons) { #<div unselectable="on" class="k-controls"><button class="k-button k-primary apply">#: messages.apply #</button> <button class="k-button cancel">#: messages.cancel #</button></div># } #')});function relative(array,element,delta){var n=(array=Array.prototype.slice.call(array)).length,pos=array.indexOf(element);return pos<0?delta<0?array[n-1]:array[0]:((pos+=delta)<0?pos+=n:pos%=n,array[pos])}var ColorPicker=Widget.extend({init:function(element,options){var that=this;Widget.fn.init.call(that,element,options),options=that.options;var value=(element=that.element).attr("value")||element.val();value=parseColor(value||options.value,!0),that._value=options.value=value;var content=that.wrapper=$(that._template(options));if(element.hide().after(content),element.is("input")){element.appendTo(content);var label=element.closest("label"),id=element.attr("id");id&&(label=label.add('label[for="'+id+'"]')),label.click(function(ev){that.open(),ev.preventDefault()})}that._tabIndex=element.attr("tabIndex")||0,that.enable(!element.attr("disabled"));var accesskey=element.attr("accesskey");accesskey&&(element.attr("accesskey",null),content.attr("accesskey",accesskey)),that.bind("activate",function(ev){ev.isDefaultPrevented()||that.toggle()}),that._updateUI(value)},destroy:function(){this.wrapper.off(NS).find("*").off(NS),this._popup&&(this._selector.destroy(),this._popup.destroy()),this._selector=this._popup=this.wrapper=null,Widget.fn.destroy.call(this)},enable:function(enable){var that=this,wrapper=that.wrapper,innerWrapper=wrapper.children(".k-picker-wrap"),arrow=innerWrapper.find(".k-select");0===arguments.length&&(enable=!0),that.element.attr("disabled",!enable),wrapper.attr("aria-disabled",!enable),arrow.off(NS).on("mousedown"+NS,preventDefault),wrapper.addClass("k-state-disabled").removeAttr("tabIndex").add("*",wrapper).off(NS),enable?wrapper.removeClass("k-state-disabled").attr("tabIndex",that._tabIndex).on("mouseenter"+NS,function(){innerWrapper.addClass("k-state-hover")}).on("mouseleave"+NS,function(){innerWrapper.removeClass("k-state-hover")}).on("focus"+NS,function(){innerWrapper.addClass("k-state-focused")}).on("blur"+NS,function(){innerWrapper.removeClass("k-state-focused")}).on(KEYDOWN_NS,bind(that._keydown,that)).on(CLICK_NS,".k-select",bind(that.toggle,that)).on(CLICK_NS,that.options.toolIcon?".k-tool-icon":".k-selected-color",function(){that.trigger("activate")}):that.close()},_template:kendo.template('<span role="textbox" aria-haspopup="true" class="k-widget k-colorpicker k-header"><span class="k-picker-wrap k-state-default"># if (toolIcon) { #<span class="k-icon k-tool-icon #= toolIcon #"><span class="k-selected-color"></span></span># } else { #<span class="k-selected-color"><span class="k-icon k-i-line" style="display: none;"></span></span># } #<span class="k-select" unselectable="on" aria-label="select"><span class="k-icon k-i-arrow-60-down"></span></span></span></span>'),options:{name:"ColorPicker",palette:null,columns:10,toolIcon:null,value:null,messages:MESSAGES,opacity:!1,buttons:!0,preview:!0,clearButton:!1,ARIATemplate:'Current selected color is #=data || ""#'},events:["activate","change","select","open","close"],open:function(){this.element.prop("disabled")||this._getPopup().open()},close:function(){var selOptions=this._selector&&this._selector.options||{};selOptions._closing=!0,this._getPopup().close(),delete selOptions._closing},toggle:function(){this.element.prop("disabled")||this._getPopup().toggle()},_noColorIcon:function(){return this.wrapper.find(".k-picker-wrap > .k-selected-color > .k-icon.k-i-line")},color:ColorSelector.fn.color,value:ColorSelector.fn.value,_select:ColorSelector.fn._select,_triggerSelect:ColorSelector.fn._triggerSelect,_isInputTypeColor:function(){var el=this.element[0];return/^input$/i.test(el.tagName)&&/^color$/i.test(el.type)},_updateUI:function(value){var formattedValue="";value&&(formattedValue=this._isInputTypeColor()||1==value.a?value.toCss():value.toCssRgba(),this.element.val(formattedValue)),this._ariaTemplate||(this._ariaTemplate=kendo.template(this.options.ARIATemplate)),this.wrapper.attr("aria-label",this._ariaTemplate(formattedValue)),this._triggerSelect(value),this.wrapper.find(".k-selected-color").css(BACKGROUNDCOLOR,value?value.toDisplay():WHITE),this._noColorIcon()[formattedValue?"hide":"show"]()},_keydown:function(ev){var key=ev.keyCode;this._getPopup().visible()?(key==KEYS.ESC?this._selector._cancel():this._selector._keydown(ev),preventDefault(ev)):key!=KEYS.ENTER&&key!=KEYS.DOWN||(this.open(),preventDefault(ev))},_getPopup:function(){var that=this,popup=that._popup;if(!popup){var options=that.options,selectorType;selectorType=options.palette?ColorPalette:FlatColorPicker,options._standalone=!1,delete options.select,delete options.change,delete options.cancel;var id=kendo.guid(),selector=that._selector=new selectorType($('<div id="'+id+'"/>').appendTo(document.body),options);that.wrapper.attr("aria-owns",id),that._popup=popup=selector.wrapper.kendoPopup({anchor:that.wrapper,adjustSize:{width:5,height:0}}).data("kendoPopup"),selector.element.find(".k-clear-color").kendoButton({icon:"reset-color",click:function(e){selector.options._clearedColor=!0,that.value(null),that.element.val(null),that._updateUI(null),selector._colorAsText.val(""),selector._hsvHandle.css({top:"0px",left:"0px"}),selector._selectedColor.css(BACKGROUNDCOLOR,WHITE),that.trigger("change",{value:that.value()}),e.preventDefault()}}),selector.bind({select:function(ev){that._updateUI(parseColor(ev.value)),delete selector.options._clearedColor},change:function(){selector.options._clearedColor||that._select(selector.color()),that.close()},cancel:function(){selector.options._clearedColor&&!that.value()&&selector.value()&&that._select(selector.color(),!0),that.close()}}),popup.bind({close:function(ev){if(that.trigger("close"))ev.preventDefault();else{that.wrapper.children(".k-picker-wrap").removeClass("k-state-focused");var color=selector._selectOnHide(),selectorColor=selector.value(),value=that.value(),options=selector.options;color?options._clearedColor&&!value||that._select(color):(setTimeout(function(){that.wrapper&&that.wrapper.focus()}),!options._closing&&options._clearedColor&&!value&&selectorColor?that._select(selectorColor,!0):that._updateUI(that.color()))}},open:function(ev){that.trigger("open")?ev.preventDefault():that.wrapper.children(".k-picker-wrap").addClass("k-state-focused")},activate:function(){selector._select(that.color(),!0),selector.focus(),that.wrapper.children(".k-picker-wrap").addClass("k-state-focused")}})}return popup}});function preventDefault(ev){ev.preventDefault()}function bind(callback,obj){return function(){return callback.apply(obj,arguments)}}ui.plugin(ColorPalette),ui.plugin(FlatColorPicker),ui.plugin(ColorPicker)}(jQuery,parseInt),window.kendo},"function"==typeof define&&define.amd?define:function(a1,a2,a3){(a3||a2)()}),function(f,define){define("kendo.maskedtextbox",["kendo.core"],f)}(function(){var __meta___id="maskedtextbox",__meta___name="MaskedTextBox",__meta___category="web",__meta___description="The MaskedTextBox widget allows to specify a mask type on an input field.",__meta___depends=["core"];return function($,undefined){var global=window,min=global.Math.min,kendo=global.kendo,caret=kendo.caret,keys=kendo.keys,ui=kendo.ui,Widget=ui.Widget,NS=".kendoMaskedTextBox",proxy=$.proxy,setTimeout=window.setTimeout,STATEDISABLED="k-state-disabled",STATEINVALID="k-state-invalid",DISABLED="disabled",READONLY="readonly",CHANGE="change",MOUSEUP="mouseup",DROP="drop",KEYDOWN="keydown",PASTE="paste",INPUT="input";function ns(name){return name+NS}var INPUT_EVENT_NAME=ns(kendo.support.propertyChangeEvent?"propertychange":INPUT);function stringDiffStart(str1,str2){for(var i=0;i<str2.length&&str1[i]===str2[i];)i++;return i}var MaskedTextBox=Widget.extend({init:function(element,options){var that=this,DOMElement,disabled;Widget.fn.init.call(that,element,options),that._rules=$.extend({},that.rules,that.options.rules),element=that.element,DOMElement=element[0],that._wrapper(),that._tokenize(),that._form(),that.element.addClass("k-textbox").attr("autocomplete","off").on("focus"+NS,function(){var value=DOMElement.value;value?that._togglePrompt(!0):DOMElement.value=that._old=that._emptyMask,that._oldValue=value,that._timeoutId=setTimeout(function(){caret(element,0,value?that._maskLength:0)})}).on("focusout"+NS,function(){var value=element.val();clearTimeout(that._timeoutId),DOMElement.value=that._old="",value!==that._emptyMask&&(DOMElement.value=that._old=value),that._change(),that._togglePrompt()}),element.is("[disabled]")||$(that.element).parents("fieldset").is(":disabled")?that.enable(!1):that.readonly(element.is("[readonly]")),that.value(that.options.value||element.val()),that._validationIcon=$("<span class='k-icon k-i-warning'></span>").insertAfter(element),kendo.notify(that)},options:{name:"MaskedTextBox",clearPromptChar:!1,unmaskOnPost:!1,promptChar:"_",culture:"",rules:{},value:"",mask:""},events:[CHANGE],rules:{0:/\d/,9:/\d|\s/,"#":/\d|\s|\+|\-/,L:/[a-zA-Z]/,"?":/[a-zA-Z]|\s/,"&":/\S/,C:/./,A:/[a-zA-Z0-9]/,a:/[a-zA-Z0-9]|\s/},setOptions:function(options){var that=this;Widget.fn.setOptions.call(this,options),this._rules=$.extend({},this.rules,this.options.rules),this._tokenize(),this._unbindInput(),this._bindInput(),this.value(this.element.val())},destroy:function(){var that=this;this.element.off(NS),this._formElement&&(this._formElement.off("reset",this._resetHandler),this._formElement.off("submit",this._submitHandler)),Widget.fn.destroy.call(this)},raw:function(){var unmasked;return this._unmask(this.element.val(),0).replace(new RegExp(this.options.promptChar,"g"),"")},value:function(value){var element=this.element,emptyMask=this._emptyMask;return void 0===value?this.element.val():(null===value&&(value=""),emptyMask?(value=this._unmask(value+""),element.val(value?emptyMask:""),this._mask(0,this._maskLength,value),this._unmaskedValue=null,value=element.val(),this._oldValue=value,void(kendo._activeElement()!==element&&(value===emptyMask?element.val(""):this._togglePrompt()))):(this._oldValue=value,void element.val(value)))},_togglePrompt:function(show){var DOMElement=this.element[0],value=DOMElement.value;this.options.clearPromptChar&&(value=show?this._oldValue:value.replace(new RegExp(this.options.promptChar,"g")," "),DOMElement.value=this._old=value)},readonly:function(readonly){this._editable({readonly:void 0===readonly||readonly,disable:!1})},enable:function(enable){this._editable({readonly:!1,disable:!(enable=void 0===enable||enable)})},_bindInput:function(){var that=this;if(this._maskLength&&(this.options.$angular&&this.element.off(INPUT),this.element.on(ns(KEYDOWN),proxy(this._keydown,this)).on(ns(DROP),proxy(this._drop,this)).on(ns(CHANGE),proxy(this._trackChange,this)).on(INPUT_EVENT_NAME,proxy(this._inputHandler,this)),kendo.support.browser.msie)){var version=kendo.support.browser.version;if(version>8&&version<11){var events=[ns(MOUSEUP),ns(DROP),ns(KEYDOWN),ns(PASTE)].join(" ");this.element.on(events,proxy(this._legacyIEInputHandler,this))}}},_unbindInput:function(){var events=[INPUT_EVENT_NAME,ns(KEYDOWN),ns(MOUSEUP),ns(DROP),ns(PASTE)].join(" ");this.element.off(events)},_editable:function(options){var that=this,element=this.element,wrapper=this.wrapper,disable=options.disable,readonly=options.readonly;this._unbindInput(),readonly||disable?(element.attr(DISABLED,disable).attr(READONLY,readonly),wrapper.toggleClass(STATEDISABLED,disable)):(element.removeAttr(DISABLED).removeAttr(READONLY),wrapper.removeClass(STATEDISABLED),this._bindInput())},_change:function(){var that=this,value=this.value();value!==this._oldValue?(this._oldValue=value,this.trigger(CHANGE),this.element.trigger(CHANGE)):""===value&&this.__changing&&this.element.trigger(CHANGE)},inputChange:function(backward){var that=this,old=this._old,element=this.element[0],value=element.value,selection,cursor=caret(element)[1],lengthDiff=value.length-old.length,mobile=kendo.support.mobileOS;if(!(this.__dropping&&lengthDiff<0)){-1===lengthDiff&&mobile.android&&"chrome"===mobile.browser&&(backward=!0);var contentStart=min(cursor,stringDiffStart(value,old)),content=value.substring(contentStart,cursor);element.value=value.substring(0,contentStart)+this._emptyMask.substring(contentStart);var caretPos=this._mask(contentStart,cursor,content),endContent=this._trimStartPromptChars(value.substring(cursor),min(lengthDiff,caretPos-contentStart)),unmasked=this._unmask(endContent,old.length-endContent.length);this._mask(caretPos,caretPos,unmasked),backward&&(caretPos=this._findCaretPosBackwards(contentStart)),caret(element,caretPos),this.__dropping=!1}},_trimStartPromptChars:function(content,count){for(var promptChar=this.options.promptChar;count-- >0&&0===content.indexOf(promptChar);)content=content.substring(1);return content},_findCaretPosBackwards:function(pos){var caretStart=this._find(pos,!0);return caretStart<pos&&(caretStart+=1),caretStart},_inputHandler:function(){kendo._activeElement()===this.element[0]&&this.inputChange(this.__backward)},_legacyIEInputHandler:function(e){var that=this,input=that.element[0],value=input.value,type=e.type;that.__pasting="paste"===type,setTimeout(function(){"mouseup"===type&&that.__pasting||input.value!==value&&that.inputChange(that.__backward)})},_trackChange:function(){var that=this;that.__changing=!0,setTimeout(function(){that.__changing=!1})},_form:function(){var that=this,element=that.element,formId=element.attr("form"),form=formId?$("#"+formId):element.closest("form");form[0]&&(that._resetHandler=function(){setTimeout(function(){that.value(element[0].value)})},that._submitHandler=function(){that.element[0].value=that._old=that.raw()},that.options.unmaskOnPost&&form.on("submit",that._submitHandler),that._formElement=form.on("reset",that._resetHandler))},_keydown:function(e){var key=e.keyCode;this.__backward=key===keys.BACKSPACE,key===keys.ENTER&&this._change()},_drop:function(){this.__dropping=!0},_find:function(idx,backward){var value=this.element.val()||this._emptyMask,step=1;for(!0===backward&&(step=-1);idx>-1||idx<=this._maskLength;){if(value.charAt(idx)!==this.tokens[idx])return idx;idx+=step}return-1},_mask:function(start,end,value,backward){var element=this.element[0],current=element.value||this._emptyMask,empty=this.options.promptChar,valueLength,chrIdx=0,unmasked,chr,idx;for((start=this._find(start,backward))>end&&(end=start),unmasked=this._unmask(current.substring(end),end),valueLength=(value=this._unmask(value,start)).length,value&&(unmasked=unmasked.replace(new RegExp("^_{0,"+valueLength+"}"),"")),value+=unmasked,current=current.split(""),chr=value.charAt(chrIdx);start<this._maskLength;)current[start]=chr||empty,chr=value.charAt(++chrIdx),void 0===idx&&chrIdx>valueLength&&(idx=start),start=this._find(start+1);return element.value=this._old=current.join(""),kendo._activeElement()===element&&(void 0===idx&&(idx=this._maskLength),caret(element,idx)),idx},_unmask:function(value,idx){if(!value)return"";if(this._unmaskedValue===value)return this._unmaskedValue;var chr,token;value=(value+"").split("");for(var chrIdx=0,tokenIdx=idx||0,empty=this.options.promptChar,valueLength=value.length,tokensLength=this.tokens.length,result="";tokenIdx<tokensLength&&((chr=value[chrIdx])===(token=this.tokens[tokenIdx])||chr===empty?(result+=chr===empty?empty:"",chrIdx+=1,tokenIdx+=1):"string"!=typeof token?(token&&token.test&&token.test(chr)||$.isFunction(token)&&token(chr)?(result+=chr,tokenIdx+=1):1===valueLength&&this._blinkInvalidState(),chrIdx+=1):tokenIdx+=1,!(chrIdx>=valueLength)););return this._unmaskedValue=result,result},_wrapper:function(){var that=this,element=this.element,DOMElement=element[0],wrapper=element.wrap("<span class='k-widget k-maskedtextbox'></span>").parent();wrapper[0].style.cssText=DOMElement.style.cssText,DOMElement.style.width="100%",this.wrapper=wrapper.addClass(DOMElement.className)},_blinkInvalidState:function(){var that=this;this.wrapper.addClass(STATEINVALID),clearTimeout(this._invalidStateTimeout),this._invalidStateTimeout=setTimeout(proxy(this._removeInvalidState,this),100)},_removeInvalidState:function(){var that=this;this.wrapper.removeClass(STATEINVALID),this._invalidStateTimeout=null},_tokenize:function(){for(var tokens=[],tokenIdx=0,mask,maskChars=(this.options.mask||"").split(""),length=maskChars.length,idx=0,chr,rule,emptyMask="",promptChar=this.options.promptChar,numberFormat=kendo.getCulture(this.options.culture).numberFormat,rules=this._rules;idx<length;idx++)if(rule=rules[chr=maskChars[idx]])tokens[tokenIdx]=rule,emptyMask+=promptChar,tokenIdx+=1;else{"."===chr||","===chr?chr=numberFormat[chr]:"$"===chr?chr=numberFormat.currency.symbol:"\\"===chr&&(chr=maskChars[idx+=1]);for(var i=0,l=(chr=chr.split("")).length;i<l;i++)tokens[tokenIdx]=chr[i],emptyMask+=chr[i],tokenIdx+=1}this.tokens=tokens,this._emptyMask=emptyMask,this._maskLength=emptyMask.length}});ui.plugin(MaskedTextBox)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(a1,a2,a3){(a3||a2)()}),function(f,define){define("kendo.multiselect",["kendo.list","kendo.mobile.scroller"],f)}(function(){var __meta___id="multiselect",__meta___name="MultiSelect",__meta___category="web",__meta___description="The MultiSelect widget allows the selection from pre-defined values.",__meta___depends=["list"],__meta___features=[{id:"mobile-scroller",name:"Mobile scroller",description:"Support for kinetic scrolling in mobile device",depends:["mobile.scroller"]},{id:"virtualization",name:"VirtualList",description:"Support for virtualization",depends:["virtuallist"]}];return function($,undefined){var kendo=window.kendo,ui=kendo.ui,List=ui.List,keys=kendo.keys,activeElement=kendo._activeElement,ObservableArray=kendo.data.ObservableArray,proxy=$.proxy,ID="id",LI="li",ACCEPT="accept",FILTER="filter",REBIND="rebind",OPEN="open",CLOSE="close",CHANGE="change",PROGRESS="progress",SELECT="select",DESELECT="deselect",ARIA_DISABLED="aria-disabled",FOCUSEDCLASS="k-state-focused",HIDDENCLASS="k-hidden",HOVERCLASS="k-state-hover",STATEDISABLED="k-state-disabled",DISABLED="disabled",READONLY="readonly",ns=".kendoMultiSelect",CLICK="click"+ns,KEYDOWN="keydown"+ns,MOUSEENTER="mouseenter"+ns,MOUSELEAVE="mouseleave"+ns,HOVEREVENTS=MOUSEENTER+" "+MOUSELEAVE,quotRegExp=/"/g,isArray=$.isArray,styles=["font-family","font-size","font-stretch","font-style","font-weight","letter-spacing","text-transform","line-height"],MultiSelect=List.extend({init:function(element,options){var that=this,id,disabled;this.ns=ns,List.fn.init.call(this,element,options),this._optionsMap={},this._customOptions={},this._wrapper(),this._tagList(),this._input(),this._textContainer(),this._loader(),this._clearButton(),this._tabindex(this.input),element=this.element.attr("multiple","multiple").hide(),(options=this.options).placeholder||(options.placeholder=element.data("placeholder")),(id=element.attr(ID))&&(this._tagID=id+"_tag_active",id+="_taglist",this.tagList.attr(ID,id)),this._aria(id),this._dataSource(),this._ignoreCase(),this._popup(),this._tagTemplate(),this.requireValueMapper(this.options),this._initList(),this._reset(),this._enable(),this._placeholder(),options.autoBind?this.dataSource.fetch():options.value&&this._preselect(options.value),(disabled=$(this.element).parents("fieldset").is(":disabled"))&&this.enable(!1),kendo.notify(this),this._toggleCloseVisibility()},options:{name:"MultiSelect",tagMode:"multiple",enabled:!0,autoBind:!0,autoClose:!0,highlightFirst:!0,dataTextField:"",dataValueField:"",filter:"startswith",ignoreCase:!0,minLength:1,enforceMinLength:!1,delay:100,value:null,maxSelectedItems:null,placeholder:"",height:200,animation:{},virtual:!1,itemTemplate:"",tagTemplate:"",groupTemplate:"#:data#",fixedGroupTemplate:"#:data#",clearButton:!0},events:[OPEN,CLOSE,CHANGE,SELECT,DESELECT,"filtering","dataBinding","dataBound"],setDataSource:function(dataSource){this.options.dataSource=dataSource,this._state="",this._dataSource(),this.listView.setDataSource(this.dataSource),this.options.autoBind&&this.dataSource.fetch()},setOptions:function(options){var listOptions=this._listOptions(options);List.fn.setOptions.call(this,options),this.listView.setOptions(listOptions),this._accessors(),this._aria(this.tagList.attr(ID)),this._tagTemplate()},currentTag:function(candidate){var that=this;if(void 0===candidate)return this._currentTag;this._currentTag&&(this._currentTag.removeClass(FOCUSEDCLASS).removeAttr(ID),this.input.removeAttr("aria-activedescendant")),candidate&&(candidate.addClass(FOCUSEDCLASS).attr(ID,this._tagID),this.input.attr("aria-activedescendant",this._tagID)),this._currentTag=candidate},dataItems:function(){return this.listView.selectedDataItems()},destroy:function(){var that=this,ns=this.ns;clearTimeout(this._busy),clearTimeout(this._typingTimeout),this.wrapper.off(ns),this.tagList.off(ns),this.input.off(ns),this._clear.off(ns),List.fn.destroy.call(this)},_activateItem:function(){List.fn._activateItem.call(this),this.currentTag(null)},_listOptions:function(options){var that=this,listOptions=List.fn._listOptions.call(this,$.extend(options,{selectedItemChange:proxy(this._selectedItemChange,this),selectable:"multiple"})),itemTemplate=this.options.itemTemplate||this.options.template,template=listOptions.itemTemplate||itemTemplate||listOptions.template;return template||(template="#:"+kendo.expr(listOptions.dataTextField,"data")+"#"),listOptions.template=template,listOptions},_setListValue:function(){List.fn._setListValue.call(this,this._initialValues.slice(0))},_listChange:function(e){var data=this.dataSource.flatView(),optionsMap=this._optionsMap,valueGetter=this._value;this._state===REBIND&&(this._state="");for(var i=0;i<e.added.length;i++)if(void 0===optionsMap[valueGetter(e.added[i].dataItem)]){this._render(data);break}this._selectValue(e.added,e.removed)},_selectedItemChange:function(e){var items=e.items,context,idx;for(idx=0;idx<items.length;idx++)context=items[idx],this.tagList.children().eq(context.index).children("span:first").html(this.tagTextTemplate(context.item))},_wrapperMousedown:function(e){var that=this,notInput="input"!==e.target.nodeName.toLowerCase(),target=$(e.target),closeButton=target.hasClass("k-select")||target.hasClass("k-icon");closeButton&&(closeButton=!target.closest(".k-select").children(".k-i-arrow-60-down").length),!notInput||closeButton&&kendo.support.mobileOS||e.preventDefault(),closeButton||(this.input[0]!==activeElement()&&notInput&&this.input.focus(),1===this.options.minLength&&this.open())},_inputFocus:function(){this._placeholder(!1),this.wrapper.addClass(FOCUSEDCLASS)},_inputFocusout:function(){var that=this;clearTimeout(this._typingTimeout),this.wrapper.removeClass(FOCUSEDCLASS),this._placeholder(!this.listView.selectedDataItems()[0],!0),this.close(),this._state===FILTER&&(this._state=ACCEPT,this.listView.skipUpdate(!0)),this.element.blur()},_removeTag:function(tag){var that=this,state=that._state,position=tag.index(),listView=that.listView,value=listView.value()[position],dataItem=that.listView.selectedDataItems()[position],customIndex=that._customOptions[value],option;if(that.trigger(DESELECT,{dataItem:dataItem,item:tag}))that._close();else{void 0!==customIndex||state!==ACCEPT&&state!==FILTER||(customIndex=that._optionsMap[value]);var done=function(){that.currentTag(null),that._change(),that._close()};void 0===customIndex?listView.select(listView.select()[position]).done(done):((option=that.element[0].children[customIndex]).selected=!1,listView.removeAt(position),tag.remove(),done())}},_tagListClick:function(e){var target=$(e.currentTarget);target.children(".k-i-arrow-60-down").length||this._removeTag(target.closest(LI))},_clearClick:function(){var that=this;that.tagList.children().each(function(index,tag){that._removeTag($(tag))}),that.input.val(""),that._search(),that.trigger("change"),that.focus()},_editable:function(options){var that=this,disable=options.disable,readonly=options.readonly,wrapper=this.wrapper.off(ns),tagList=this.tagList.off(ns),input=this.element.add(this.input.off(ns));readonly||disable?(disable?wrapper.addClass(STATEDISABLED):wrapper.removeClass(STATEDISABLED),input.attr(DISABLED,disable).attr(READONLY,readonly).attr(ARIA_DISABLED,disable)):(wrapper.removeClass(STATEDISABLED).on(HOVEREVENTS,this._toggleHover).on("mousedown"+ns+" touchend"+ns,proxy(this._wrapperMousedown,this)),this.input.on(KEYDOWN,proxy(this._keydown,this)).on("paste"+ns,proxy(this._search,this)).on("focus"+ns,proxy(this._inputFocus,this)).on("focusout"+ns,proxy(this._inputFocusout,this)),this._clear.on("click"+ns,proxy(this._clearClick,this)),input.removeAttr(DISABLED).removeAttr(READONLY).attr(ARIA_DISABLED,!1),tagList.on(MOUSEENTER,LI,function(){$(this).addClass(HOVERCLASS)}).on(MOUSELEAVE,LI,function(){$(this).removeClass(HOVERCLASS)}).on(CLICK,"li.k-button .k-select",proxy(this._tagListClick,this)))},_close:function(){var that=this;this.options.autoClose?this.close():this.popup.position()},_filterSource:function(filter,force){force||(force=this._retrieveData),this._retrieveData=!1,List.fn._filterSource.call(this,filter,force)},close:function(){this.popup.close()},open:function(){var that=this;this._request&&(this._retrieveData=!1),this._retrieveData||!this.listView.bound()||this._state===ACCEPT?(this._open=!0,this._state=REBIND,this.listView.skipUpdate(!0),this._filterSource()):this._allowOpening()&&(this.popup.open(),this._focusItem())},toggle:function(toggle){this[(toggle=void 0!==toggle?toggle:!this.popup.visible())?OPEN:CLOSE]()},refresh:function(){this.listView.refresh()},_listBound:function(){var that=this,data=this.dataSource.flatView(),skip=this.listView.skip();this._render(data),this._renderFooter(),this._renderNoData(),this._toggleNoData(!data.length),this._resizePopup(),this._open&&(this._open=!1,this.toggle(this._allowOpening())),this.popup.position(),!this.options.highlightFirst||void 0!==skip&&0!==skip||this.listView.focusFirst(),this._touchScroller&&this._touchScroller.reset(),this._hideBusy(),this._makeUnselectable(),this.trigger("dataBound")},_inputValue:function(){var that=this,inputValue=this.input.val();return this.options.placeholder===inputValue&&(inputValue=""),inputValue},value:function(value){var that=this,listView=this.listView,oldValue=listView.value().slice(),maxSelectedItems=this.options.maxSelectedItems,clearFilters=listView.bound()&&listView.isFiltered();if(void 0===value)return oldValue;this.requireValueMapper(this.options,value),value=this._normalizeValues(value),null!==maxSelectedItems&&value.length>maxSelectedItems&&(value=value.slice(0,maxSelectedItems)),clearFilters&&this._clearFilter(),listView.value(value),this._old=listView.value(),clearFilters||this._fetchData()},_preselect:function(data,value){var that=this;isArray(data)||data instanceof kendo.data.ObservableArray||(data=[data]),($.isPlainObject(data[0])||data[0]instanceof kendo.data.ObservableObject||!this.options.dataValueField)&&(this.dataSource.data(data),this.value(value||this._initialValues),this._retrieveData=!0)},_setOption:function(value,selected){var option=this.element[0].children[this._optionsMap[value]];option&&(option.selected=selected)},_fetchData:function(){var that=this,hasItems=!!that.dataSource.view().length,isEmptyArray;0===that.listView.value().length||that._request||(that._retrieveData||!that._fetch&&!hasItems)&&(that._fetch=!0,that._retrieveData=!1,that.dataSource.read().done(function(){that._fetch=!1}))},_isBound:function(){return this.listView.bound()&&!this._retrieveData},_dataSource:function(){var that=this,element=this.element,options=this.options,dataSource=options.dataSource||{};(dataSource=isArray(dataSource)?{data:dataSource}:dataSource).select=element,dataSource.fields=[{field:options.dataTextField},{field:options.dataValueField}],this.dataSource&&this._refreshHandler?this._unbindDataSource():(this._progressHandler=proxy(this._showBusy,this),this._errorHandler=proxy(this._hideBusy,this)),this.dataSource=kendo.data.DataSource.create(dataSource).bind(PROGRESS,this._progressHandler).bind("error",this._errorHandler)},_reset:function(){var that=this,element=that.element,formId=element.attr("form"),form=formId?$("#"+formId):element.closest("form");form[0]&&(that._resetHandler=function(){setTimeout(function(){that.value(that._initialValues),that._placeholder()})},that._form=form.on("reset",that._resetHandler))},_initValue:function(){var value=this.options.value||this.element.val();this._old=this._initialValues=this._normalizeValues(value)},_normalizeValues:function(value){var that=this;return null===value?value=[]:value&&$.isPlainObject(value)?value=[that._value(value)]:value&&$.isPlainObject(value[0])?value=$.map(value,function(dataItem){return that._value(dataItem)}):isArray(value)||value instanceof ObservableArray?isArray(value)&&(value=value.slice()):value=[value],value},_change:function(){var that=this,value=this.value();compare(value,this._old)||(this._old=value.slice(),this.trigger(CHANGE),this.element.trigger(CHANGE)),this._toggleCloseVisibility()},_click:function(e){var that=this,item=e.item;e.preventDefault(),that._select(item).done(function(){that._change(),that._close()})},_keydown:function(e){var that=this,key=e.keyCode,tag=that._currentTag,listView=that.listView,current=listView.focus(),hasValue=that.input.val(),isRtl=kendo.support.isRtl(that.wrapper),visible=that.popup.visible();if(key===keys.DOWN){if(e.preventDefault(),!visible)return that.open(),void(current||listView.focusFirst());current?(listView.focusNext(),listView.focus()||listView.focusLast()):listView.focusFirst()}else if(key===keys.UP)visible&&(current&&listView.focusPrev(),listView.focus()||that.close()),e.preventDefault();else if(key===keys.LEFT&&!isRtl||key===keys.RIGHT&&isRtl)hasValue||(tag=tag?tag.prev():$(that.tagList[0].lastChild))[0]&&that.currentTag(tag);else if(key===keys.RIGHT&&!isRtl||key===keys.LEFT&&isRtl)!hasValue&&tag&&(tag=tag.next(),that.currentTag(tag[0]?tag:null));else if(key===keys.ENTER&&visible)that._select(current).done(function(){that._change(),that._close()}),e.preventDefault();else if(key===keys.ESC)visible?e.preventDefault():that.currentTag(null),that.close();else if(key===keys.HOME)visible?listView.focusFirst():hasValue||(tag=that.tagList[0].firstChild)&&that.currentTag($(tag));else if(key===keys.END)visible?listView.focusLast():hasValue||(tag=that.tagList[0].lastChild)&&that.currentTag($(tag));else if(key!==keys.DELETE&&key!==keys.BACKSPACE||hasValue)if(!that.popup.visible()||key!==keys.PAGEDOWN&&key!==keys.PAGEUP)clearTimeout(that._typingTimeout),setTimeout(function(){that._scale()}),that._search();else{e.preventDefault();var direction=key===keys.PAGEDOWN?1:-1;listView.scrollWith(direction*listView.screenHeight())}else{if("single"===that.options.tagMode)return listView.value([]),that._change(),void that._close();key!==keys.BACKSPACE||tag||(tag=$(that.tagList[0].lastChild)),tag&&tag[0]&&that._removeTag(tag)}},_hideBusy:function(){var that=this;clearTimeout(this._busy),this.input.attr("aria-busy",!1),this._loading.addClass("k-hidden"),this._request=!1,this._busy=null,this._showClear()},_showBusyHandler:function(){this.input.attr("aria-busy",!0),this._loading.removeClass("k-hidden"),this._hideClear()},_showBusy:function(){var that=this;this._request=!0,this._busy||(this._busy=setTimeout(proxy(this._showBusyHandler,this),100))},_placeholder:function(show,skipCaret){var that=this,input=this.input,active=activeElement(),placeholder=this.options.placeholder,inputValue=input.val(),isActive=input[0]===active,caretPos=inputValue.length;isActive&&!this.options.autoClose&&inputValue!==placeholder||(caretPos=0,inputValue=""),void 0===show&&(show=!1,input[0]!==active&&(show=!this.listView.selectedDataItems()[0])),this._prev=inputValue,input.toggleClass("k-readonly",show).val(show?placeholder:inputValue),isActive&&!skipCaret&&kendo.caret(input[0],caretPos,caretPos),this._scale()},_scale:function(){var that=this,wrapper=this.wrapper,wrapperWidth=wrapper.width(),span=this._span.text(this.input.val()),textWidth;wrapper.is(":visible")?textWidth=span.width()+25:(span.appendTo(document.documentElement),wrapperWidth=textWidth=span.width()+25,span.appendTo(wrapper)),this.input.width(textWidth>wrapperWidth?wrapperWidth:textWidth)},_option:function(dataValue,dataText,selected){var option="<option";return void 0!==dataValue&&(-1!==(dataValue+="").indexOf('"')&&(dataValue=dataValue.replace(quotRegExp,"&quot;")),option+=' value="'+dataValue+'"'),selected&&(option+=" selected"),option+=">",void 0!==dataText&&(option+=kendo.htmlEncode(dataText)),option+"</option>"},_render:function(data){var selectedItems=this.listView.selectedDataItems(),values=this.listView.value(),length=data.length,selectedIndex,options="",dataItem,value,idx;values.length!==selectedItems.length&&(selectedItems=this._buildSelectedItems(values));var custom={},optionsMap={};for(idx=0;idx<length;idx++)dataItem=data[idx],value=this._value(dataItem),-1!==(selectedIndex=this._selectedItemIndex(value,selectedItems))&&selectedItems.splice(selectedIndex,1),optionsMap[value]=idx,options+=this._option(value,this._text(dataItem),-1!==selectedIndex);if(selectedItems.length)for(idx=0;idx<selectedItems.length;idx++)dataItem=selectedItems[idx],custom[value=this._value(dataItem)]=length,optionsMap[value]=length,length+=1,options+=this._option(value,this._text(dataItem),!0);this._customOptions=custom,this._optionsMap=optionsMap,this.element.html(options)},_buildSelectedItems:function(values){for(var valueField=this.options.dataValueField,textField=this.options.dataTextField,result=[],item,idx=0;idx<values.length;idx++)(item={})[valueField]=values[idx],item[textField]=values[idx],result.push(item);return result},_selectedItemIndex:function(value,selectedItems){for(var valueGetter=this._value,idx=0;idx<selectedItems.length;idx++)if(value===valueGetter(selectedItems[idx]))return idx;return-1},_search:function(){var that=this;that._typingTimeout=setTimeout(function(){var value=that._inputValue();that._prev!==value&&(that._prev=value,that.search(value),that._toggleCloseVisibility())},that.options.delay)},_toggleCloseVisibility:function(){this.value().length||this.input.val()&&this.input.val()!==this.options.placeholder?this._showClear():this._hideClear()},_allowOpening:function(){return this._allowSelection()&&List.fn._allowOpening.call(this)},_allowSelection:function(){var max=this.options.maxSelectedItems;return null===max||max>this.listView.value().length},_angularTagItems:function(cmd){var that=this;that.angular(cmd,function(){return{elements:that.tagList[0].children,data:$.map(that.dataItems(),function(dataItem){return{dataItem:dataItem}})}})},_selectValue:function(added,removed){var that=this,values=this.value(),total=this.dataSource.total(),tagList=this.tagList,getter=this._value,removedItem,addedItem,idx;if(this._angularTagItems("cleanup"),"multiple"===this.options.tagMode){for(idx=removed.length-1;idx>-1;idx--)removedItem=removed[idx],tagList[0].removeChild(tagList[0].children[removedItem.position]),this._setOption(getter(removedItem.dataItem),!1);for(idx=0;idx<added.length;idx++)addedItem=added[idx],tagList.append(this.tagTemplate(addedItem.dataItem)),this._setOption(getter(addedItem.dataItem),!0)}else{for((!this._maxTotal||this._maxTotal<total)&&(this._maxTotal=total),tagList.html(""),values.length&&tagList.append(this.tagTemplate({values:values,dataItems:this.dataItems(),maxTotal:this._maxTotal,currentTotal:total})),idx=removed.length-1;idx>-1;idx--)this._setOption(getter(removed[idx].dataItem),!1);for(idx=0;idx<added.length;idx++)this._setOption(getter(added[idx].dataItem),!0)}this._angularTagItems("compile"),this._placeholder()},_select:function(candidate){var resolved=$.Deferred().resolve();if(!candidate)return resolved;var that=this,listView=that.listView,dataItem=listView.dataItemByIndex(listView.getElementIndex(candidate)),isSelected=candidate.hasClass("k-state-selected");return that._state===REBIND&&(that._state=""),that._allowSelection()?that.trigger(isSelected?DESELECT:SELECT,{dataItem:dataItem,item:candidate})?(that._close(),resolved):listView.select(candidate).done(function(){that._placeholder(),that._state===FILTER&&(that._state=ACCEPT,listView.skipUpdate(!0))}):resolved},_input:function(){var that=this,element=this.element,accessKey=element[0].accessKey,input=this._innerWrapper.children("input.k-input");input[0]||(input=$('<input class="k-input" style="width: 25px" />').appendTo(this._innerWrapper)),element.removeAttr("accesskey"),this._focused=this.input=input.attr({accesskey:accessKey,autocomplete:"off",role:"listbox",title:element[0].title,"aria-expanded":!1})},_tagList:function(){var that=this,tagList=this._innerWrapper.children("ul");tagList[0]||(tagList=$('<ul role="listbox" deselectable="on" class="k-reset"/>').appendTo(this._innerWrapper)),this.tagList=tagList},_tagTemplate:function(){var that=this,options=this.options,tagTemplate=options.tagTemplate,hasDataSource=options.dataSource,isMultiple="multiple"===options.tagMode,defaultTemplate;this.element[0].length&&!hasDataSource&&(options.dataTextField=options.dataTextField||"text",options.dataValueField=options.dataValueField||"value"),defaultTemplate=isMultiple?kendo.template("#:"+kendo.expr(options.dataTextField,"data")+"#",{useWithBlock:!1}):kendo.template("#:values.length# item(s) selected"),this.tagTextTemplate=tagTemplate=tagTemplate?kendo.template(tagTemplate):defaultTemplate,this.tagTemplate=function(data){return'<li class="k-button" deselectable="on"><span deselectable="on">'+tagTemplate(data)+'</span><span unselectable="on" aria-label="'+(isMultiple?"delete":"open")+'" class="k-select"><span class="k-icon '+(isMultiple?"k-i-close":"k-i-arrow-60-down")+'"></span></span></li>'}},_loader:function(){this._loading=$('<span class="k-icon k-i-loading k-hidden"></span>').insertAfter(this.input)},_clearButton:function(){this._clear=$('<span deselectable="on" class="k-icon k-clear-value k-i-close" title="clear"></span>').attr({role:"button",tabIndex:-1}),this.options.clearButton&&this._clear.insertAfter(this.input)},_textContainer:function(){var computedStyles=kendo.getComputedStyles(this.input[0],styles);computedStyles.position="absolute",computedStyles.visibility="hidden",computedStyles.top=-3333,computedStyles.left=-3333,this._span=$("<span/>").css(computedStyles).appendTo(this.wrapper)},_wrapper:function(){var that=this,element=this.element,wrapper=element.parent("span.k-multiselect");wrapper[0]||((wrapper=element.wrap('<div class="k-widget k-multiselect k-header" deselectable="on" />').parent())[0].style.cssText=element[0].style.cssText,wrapper[0].title=element[0].title,$('<div class="k-multiselect-wrap k-floatwrap" deselectable="on" />').insertBefore(element)),this.wrapper=wrapper.addClass(element[0].className).css("display",""),this._innerWrapper=$(wrapper[0].firstChild)}});function compare(a,b){var length;if(null===a&&null!==b||null!==a&&null===b)return!1;if((length=a.length)!==b.length)return!1;for(;length--;)if(a[length]!==b[length])return!1;return!0}ui.plugin(MultiSelect)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(a1,a2,a3){(a3||a2)()}),function(f,define){define("kendo.numerictextbox",["kendo.core","kendo.userevents"],f)}(function(){var __meta___id="numerictextbox",__meta___name="NumericTextBox",__meta___category="web",__meta___description="The NumericTextBox widget can format and display numeric, percentage or currency textbox.",__meta___depends=["core","userevents"];return function($,undefined){var kendo=window.kendo,caret=kendo.caret,keys=kendo.keys,ui=kendo.ui,Widget=ui.Widget,activeElement=kendo._activeElement,extractFormat=kendo._extractFormat,parse=kendo.parseFloat,placeholderSupported=kendo.support.placeholder,getCulture=kendo.getCulture,CHANGE="change",DISABLED="disabled",READONLY="readonly",INPUT="k-input",SPIN="spin",ns=".kendoNumericTextBox",TOUCHEND="touchend",MOUSELEAVE,HOVEREVENTS="mouseenter"+ns+" "+("mouseleave"+ns),DEFAULT="k-state-default",FOCUSED="k-state-focused",HOVER="k-state-hover",FOCUS="focus",POINT=".",CLASS_ICON="k-icon",SELECTED="k-state-selected",STATEDISABLED="k-state-disabled",STATE_INVALID="k-state-invalid",ARIA_DISABLED="aria-disabled",INTEGER_REGEXP=/^(-)?(\d*)$/,NULL=null,proxy=$.proxy,extend=$.extend,NumericTextBox=Widget.extend({init:function(element,options){var that=this,isStep=options&&void 0!==options.step,min,max,step,value,disabled;Widget.fn.init.call(that,element,options),options=that.options,element=that.element.on("focusout"+ns,proxy(that._focusout,that)).attr("role","spinbutton"),options.placeholder=options.placeholder||element.attr("placeholder"),that._initialOptions=extend({},options),min=that.min(element.attr("min")),max=that.max(element.attr("max")),step=that._parse(element.attr("step")),null===options.min&&null!==min&&(options.min=min),null===options.max&&null!==max&&(options.max=max),isStep||null===step||(options.step=step),that._reset(),that._wrapper(),that._arrows(),that._validation(),that._input(),kendo.support.mobileOS?that._text.on(TOUCHEND+ns+" "+FOCUS+ns,function(){kendo.support.browser.edge?that._text.one(FOCUS+ns,function(){that._toggleText(!1),element.focus()}):(that._toggleText(!1),element.focus())}):that._text.on(FOCUS+ns,proxy(that._click,that)),element.attr("aria-valuemin",null!==options.min?options.min*options.factor:options.min).attr("aria-valuemax",null!==options.max?options.max*options.factor:options.max),options.format=extractFormat(options.format),value=options.value,that.value(null!==value?value:element.val()),(disabled=element.is("[disabled]")||$(that.element).parents("fieldset").is(":disabled"))?that.enable(!1):that.readonly(element.is("[readonly]")),kendo.notify(that)},options:{name:"NumericTextBox",decimals:null,restrictDecimals:!1,min:null,max:null,value:null,step:1,round:!0,culture:"",format:"n",spinners:!0,placeholder:"",factor:1,upArrowText:"Increase value",downArrowText:"Decrease value"},events:[CHANGE,SPIN],_editable:function(options){var that=this,element=that.element,disable=options.disable,readonly=options.readonly,text=that._text.add(element),wrapper=that._inputWrapper.off(HOVEREVENTS);that._toggleText(!0),that._upArrowEventHandler.unbind("press"),that._downArrowEventHandler.unbind("press"),element.off("keydown"+ns).off("keypress"+ns).off("keyup"+ns).off("paste"+ns),readonly||disable?(wrapper.addClass(disable?STATEDISABLED:DEFAULT).removeClass(disable?DEFAULT:STATEDISABLED),text.attr(DISABLED,disable).attr(READONLY,readonly).attr(ARIA_DISABLED,disable)):(wrapper.addClass(DEFAULT).removeClass(STATEDISABLED).on(HOVEREVENTS,that._toggleHover),text.removeAttr(DISABLED).removeAttr(READONLY).attr(ARIA_DISABLED,!1),that._upArrowEventHandler.bind("press",function(e){e.preventDefault(),that._spin(1),that._upArrow.addClass(SELECTED)}),that._downArrowEventHandler.bind("press",function(e){e.preventDefault(),that._spin(-1),that._downArrow.addClass(SELECTED)}),that.element.on("keydown"+ns,proxy(that._keydown,that)).on("keypress"+ns,proxy(that._keypress,that)).on("keyup"+ns,proxy(that._keyup,that)).on("paste"+ns,proxy(that._paste,that)))},readonly:function(readonly){this._editable({readonly:void 0===readonly||readonly,disable:!1})},enable:function(enable){this._editable({readonly:!1,disable:!(enable=void 0===enable||enable)})},destroy:function(){var that=this;this.element.add(this._text).add(this._upArrow).add(this._downArrow).add(this._inputWrapper).off(ns),this._upArrowEventHandler.destroy(),this._downArrowEventHandler.destroy(),this._form&&this._form.off("reset",this._resetHandler),Widget.fn.destroy.call(this)},min:function(value){return this._option("min",value)},max:function(value){return this._option("max",value)},step:function(value){return this._option("step",value)},value:function(value){var that=this,adjusted;if(void 0===value)return this._value;(value=this._parse(value))===(adjusted=this._adjust(value))&&(this._update(value),this._old=this._value)},focus:function(){this._focusin()},_adjust:function(value){var that=this,options=this.options,min=options.min,max=options.max;return null===value?value:(null!==min&&value<min?value=min:null!==max&&value>max&&(value=max),value)},_arrows:function(){var that=this,arrows,_release=function(){clearTimeout(that._spinning),arrows.removeClass(SELECTED)},options=that.options,spinners=options.spinners,element=that.element;(arrows=element.siblings("."+CLASS_ICON))[0]||(arrows=$(buttonHtml("increase",options.upArrowText)+buttonHtml("decrease",options.downArrowText)).insertAfter(element)).wrapAll('<span class="k-select"/>'),spinners||(arrows.parent().toggle(spinners),that._inputWrapper.addClass("k-expand-padding")),that._upArrow=arrows.eq(0),that._upArrowEventHandler=new kendo.UserEvents(that._upArrow,{release:_release}),that._downArrow=arrows.eq(1),that._downArrowEventHandler=new kendo.UserEvents(that._downArrow,{release:_release})},_validation:function(){var that=this,element=this.element;this._validationIcon=$("<span class='"+CLASS_ICON+" k-i-warning'></span>").hide().insertAfter(element)},_blur:function(){var that=this;this._toggleText(!0),this._change(this.element.val())},_click:function(e){var that=this;clearTimeout(that._focusing),that._focusing=setTimeout(function(){var input=e.target,idx=caret(input)[0],value=input.value.substring(0,idx),format=that._format(that.options.format),group=format[","],result,groupRegExp,extractRegExp,caretPosition=0;group&&(groupRegExp=new RegExp("\\"+group,"g"),extractRegExp=new RegExp("([\\d\\"+group+"]+)(\\"+format[POINT]+")?(\\d+)?")),extractRegExp&&(result=extractRegExp.exec(value)),result&&(caretPosition=result[0].replace(groupRegExp,"").length,-1!=value.indexOf("(")&&that._value<0&&caretPosition++),that._focusin(),caret(that.element[0],caretPosition)})},_change:function(value){var that=this,factor=this.options.factor;factor&&1!==factor&&null!==(value=parseFloat(value))&&(value/=factor),this._update(value),value=this._value,this._old!=value&&(this._old=value,this._typing||this.element.trigger(CHANGE),this.trigger(CHANGE)),this._typing=!1},_culture:function(culture){return culture||getCulture(this.options.culture)},_focusin:function(){var that=this;this._inputWrapper.addClass(FOCUSED),this._toggleText(!1),this.element[0].focus()},_focusout:function(){var that=this;clearTimeout(this._focusing),this._inputWrapper.removeClass(FOCUSED).removeClass(HOVER),this._blur(),this._removeInvalidState()},_format:function(format,culture){var numberFormat=this._culture(culture).numberFormat;return(format=format.toLowerCase()).indexOf("c")>-1?numberFormat=numberFormat.currency:format.indexOf("p")>-1&&(numberFormat=numberFormat.percent),numberFormat},_input:function(){var that=this,options=this.options,CLASSNAME="k-formatted-value",element=this.element.addClass(INPUT).show()[0],accessKey=element.accessKey,wrapper,text;(text=this.wrapper.find(POINT+CLASSNAME))[0]||(text=$('<input type="text"/>').insertBefore(element).addClass(CLASSNAME));try{element.setAttribute("type","text")}catch(e){element.type="text"}this._initialTitle=element.title,text[0].title=element.title,text[0].tabIndex=element.tabIndex,text[0].style.cssText=element.style.cssText,text.prop("placeholder",options.placeholder),accessKey&&(text.attr("accesskey",accessKey),element.accessKey=""),this._text=text.addClass(element.className).attr({role:"spinbutton","aria-valuemin":null!==options.min?options.min*options.factor:options.min,"aria-valuemax":null!==options.max?options.max*options.factor:options.max})},_keydown:function(e){var that=this,key=e.keyCode;this._key=key,key==keys.DOWN?this._step(-1):key==keys.UP?this._step(1):key==keys.ENTER?this._change(this.element.val()):this._typing=!0},_keypress:function(e){if(0!==e.which&&!e.metaKey&&!e.ctrlKey&&e.keyCode!==keys.BACKSPACE&&e.keyCode!==keys.ENTER){var that=this,min=this.options.min,element=this.element,selection=caret(element),selectionStart=selection[0],selectionEnd=selection[1],character=String.fromCharCode(e.which),numberFormat=this._format(this.options.format),isNumPadDecimal=this._key===keys.NUMPAD_DOT,value=element.val(),isValid;isNumPadDecimal&&(character=numberFormat[POINT]),value=value.substring(0,selectionStart)+character+value.substring(selectionEnd),(isValid=this._numericRegex(numberFormat).test(value))&&isNumPadDecimal?(element.val(value),caret(element,selectionStart+character.length),e.preventDefault()):(null!==min&&min>=0&&"-"===value.charAt(0)||!isValid)&&(this._addInvalidState(),e.preventDefault()),this._key=0}},_keyup:function(){this._removeInvalidState()},_addInvalidState:function(){var that=this;this._inputWrapper.addClass(STATE_INVALID),this._validationIcon.show()},_removeInvalidState:function(){var that=this;this._inputWrapper.removeClass(STATE_INVALID),this._validationIcon.hide()},_numericRegex:function(numberFormat){var that=this,separator=numberFormat[POINT],precision=this.options.decimals,fractionRule="*";return separator===POINT&&(separator="\\"+separator),null===precision&&(precision=numberFormat.decimals),0===precision?INTEGER_REGEXP:(this.options.restrictDecimals&&(fractionRule="{0,"+precision+"}"),this._separator!==separator&&(this._separator=separator,this._floatRegExp=new RegExp("^(-)?(((\\d+("+separator+"\\d"+fractionRule+")?)|("+separator+"\\d"+fractionRule+")))?$")),this._floatRegExp)},_paste:function(e){var that=this,element=e.target,value=element.value,numberFormat=that._format(that.options.format);setTimeout(function(){var result=that._parse(element.value);null===result?that._update(value):(element.value=result.toString().replace(POINT,numberFormat[POINT]),that._adjust(result)===result&&that._numericRegex(numberFormat).test(element.value)||that._update(value))})},_option:function(option,value){var that=this,element=this.element,options=this.options;if(void 0===value)return options[option];((value=this._parse(value))||"step"!==option)&&(options[option]=value,element.add(this._text).attr("aria-value"+option,value),element.attr(option,value))},_spin:function(step,timeout){var that=this;timeout=timeout||500,clearTimeout(that._spinning),that._spinning=setTimeout(function(){that._spin(step,50)},timeout),that._step(step)},_step:function(step){var that=this,element=this.element,value=this._parse(element.val())||0;activeElement()!=element[0]&&this._focusin(),this.options.factor&&value&&(value/=this.options.factor),value+=this.options.step*step,this._update(this._adjust(value)),this._typing=!1,this.trigger(SPIN)},_toggleHover:function(e){$(e.currentTarget).toggleClass(HOVER,"mouseenter"===e.type)},_toggleText:function(toggle){var that=this;this._text.toggle(toggle),this.element.toggle(!toggle)},_parse:function(value,culture){return parse(value,this._culture(culture),this.options.format)},_round:function(value,precision){var rounder;return(this.options.round?kendo._round:truncate)(value,precision)},_update:function(value){var that=this,options=this.options,factor=options.factor,format=options.format,decimals=options.decimals,culture=this._culture(),numberFormat=this._format(format,culture),isNotNull;null===decimals&&(decimals=numberFormat.decimals),(isNotNull=null!==(value=this._parse(value,culture)))&&(value=parseFloat(this._round(value,decimals),10)),this._value=value=this._adjust(value),this._placeholder(kendo.toString(value,format,culture)),isNotNull?(factor&&(value=parseFloat(this._round(value*factor,decimals),10)),-1!==(value=value.toString()).indexOf("e")&&(value=this._round(+value,decimals)),value=value.replace(POINT,numberFormat[POINT])):value=null,this.element.val(value),this.element.add(this._text).attr("aria-valuenow",value)},_placeholder:function(value){var input=this._text;input.val(value),placeholderSupported||value||input.val(this.options.placeholder),input.attr("title",this._initialTitle||input.val())},_wrapper:function(){var that=this,element=this.element,DOMElement=element[0],wrapper;(wrapper=element.parents(".k-numerictextbox")).is("span.k-numerictextbox")||(wrapper=(wrapper=element.hide().wrap('<span class="k-numeric-wrap k-state-default" />').parent()).wrap("<span/>").parent()),wrapper[0].style.cssText=DOMElement.style.cssText,DOMElement.style.width="",this.wrapper=wrapper.addClass("k-widget k-numerictextbox").addClass(DOMElement.className).css("display",""),this._inputWrapper=$(wrapper[0].firstChild)},_reset:function(){var that=this,element=that.element,formId=element.attr("form"),form=formId?$("#"+formId):element.closest("form");form[0]&&(that._resetHandler=function(){setTimeout(function(){that.value(element[0].value),that.max(that._initialOptions.max),that.min(that._initialOptions.min)})},that._form=form.on("reset",that._resetHandler))}});function buttonHtml(direction,text){var className;return'<span unselectable="on" class="k-link k-link-'+direction+'" aria-label="'+text+'" title="'+text+'"><span unselectable="on" class="'+CLASS_ICON+" "+("k-i-arrow-"+("increase"===direction?"60-up":"60-down"))+'"></span></span>'}function truncate(value,precision){var parts=parseFloat(value,10).toString().split(POINT);return parts[1]&&(parts[1]=parts[1].substring(0,precision)),parts.join(POINT)}ui.plugin(NumericTextBox)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(a1,a2,a3){(a3||a2)()}),function(f,define){define("kendo.toolbar",["kendo.core","kendo.userevents","kendo.popup"],f)}(function(){var __meta___id="toolbar",__meta___name="ToolBar",__meta___category="web",__meta___description="The ToolBar widget displays one or more command buttons divided into groups.",__meta___depends=["core"];return function($,undefined){var kendo=window.kendo,Class=kendo.Class,Widget=kendo.ui.Widget,proxy=$.proxy,isFunction=kendo.isFunction,keys=kendo.keys,outerWidth=kendo._outerWidth,TOOLBAR="k-toolbar",BUTTON="k-button",OVERFLOW_BUTTON="k-overflow-button",TOGGLE_BUTTON="k-toggle-button",BUTTON_GROUP="k-button-group",SPLIT_BUTTON="k-split-button",SEPARATOR="k-separator",POPUP="k-popup",RESIZABLE_TOOLBAR="k-toolbar-resizable",STATE_ACTIVE="k-state-active",STATE_DISABLED="k-state-disabled",STATE_HIDDEN="k-state-hidden",GROUP_START="k-group-start",GROUP_END="k-group-end",PRIMARY="k-primary",ICON="k-icon",ICON_PREFIX="k-i-",BUTTON_ICON="k-button-icon",BUTTON_ICON_TEXT="k-button-icontext",LIST_CONTAINER="k-list-container k-split-container",SPLIT_BUTTON_ARROW="k-split-button-arrow",OVERFLOW_ANCHOR="k-overflow-anchor",OVERFLOW_CONTAINER="k-overflow-container",FIRST_TOOLBAR_VISIBLE="k-toolbar-first-visible",LAST_TOOLBAR_VISIBLE="k-toolbar-last-visible",CLICK="click",TOGGLE="toggle",OPEN="open",CLOSE="close",OVERFLOW_OPEN="overflowOpen",OVERFLOW_CLOSE="overflowClose",OVERFLOW_NEVER="never",OVERFLOW_AUTO="auto",OVERFLOW_ALWAYS="always",OVERFLOW_HIDDEN="k-overflow-hidden",KENDO_UID_ATTR=kendo.attr("uid");kendo.toolbar={};var components={overflowAnchor:'<div tabindex="0" class="k-overflow-anchor"></div>',overflowContainer:'<ul class="k-overflow-container k-list-container"></ul>'};kendo.toolbar.registerComponent=function(name,toolbar,overflow){components[name]={toolbar:toolbar,overflow:overflow}};var Item=kendo.Class.extend({addOverflowAttr:function(){this.element.attr(kendo.attr("overflow"),this.options.overflow||"auto")},addUidAttr:function(){this.element.attr(KENDO_UID_ATTR,this.options.uid)},addIdAttr:function(){this.options.id&&this.element.attr("id",this.options.id)},addOverflowIdAttr:function(){this.options.id&&this.element.attr("id",this.options.id+"_overflow")},attributes:function(){this.options.attributes&&this.element.attr(this.options.attributes)},show:function(){this.element.removeClass(STATE_HIDDEN).show(),this.options.hidden=!1},hide:function(){this.element.addClass(STATE_HIDDEN).hide(),this.options.hidden=!0},remove:function(){this.element.remove()},enable:function(isEnabled){void 0===isEnabled&&(isEnabled=!0),this.element.toggleClass(STATE_DISABLED,!isEnabled),this.options.enable=isEnabled},twin:function(){var uid=this.element.attr(KENDO_UID_ATTR);return this.overflow?this.toolbar.element.find("["+KENDO_UID_ATTR+"='"+uid+"']").data(this.options.type):this.toolbar.options.resizable?this.toolbar.popup.element.find("["+KENDO_UID_ATTR+"='"+uid+"']").data(this.options.type):void 0}});kendo.toolbar.Item=Item;var Button=Item.extend({init:function(options,toolbar){var element=options.useButtonTag?$('<button tabindex="0"></button>'):$('<a href tabindex="0"></a>');this.element=element,this.options=options,this.toolbar=toolbar,this.attributes(),options.primary&&element.addClass(PRIMARY),options.togglable&&(element.addClass(TOGGLE_BUTTON),this.toggle(options.selected)),void 0===options.url||options.useButtonTag||(element.attr("href",options.url),options.mobile&&element.attr(kendo.attr("role"),"button")),options.group&&(element.attr(kendo.attr("group"),options.group),this.group=this.toolbar.addToGroup(this,options.group)),!options.togglable&&options.click&&isFunction(options.click)&&(this.clickHandler=options.click),options.togglable&&options.toggle&&isFunction(options.toggle)&&(this.toggleHandler=options.toggle)},toggle:function(state,propagate){state=!!state,this.group&&state?this.group.select(this):this.group||this.select(state),propagate&&this.twin()&&this.twin().toggle(state)},getParentGroup:function(){if(this.options.isChild)return this.element.closest("."+BUTTON_GROUP).data("buttonGroup")},_addGraphics:function(){var element=this.element,icon=this.options.icon,spriteCssClass=this.options.spriteCssClass,imageUrl=this.options.imageUrl,isEmpty,span,img;(spriteCssClass||imageUrl||icon)&&(isEmpty=!0,element.contents().filter(function(){return!$(this).hasClass("k-sprite")&&!$(this).hasClass(ICON)&&!$(this).hasClass("k-image")}).each(function(idx,el){(1==el.nodeType||3==el.nodeType&&$.trim(el.nodeValue).length>0)&&(isEmpty=!1)}),isEmpty?element.addClass(BUTTON_ICON):element.addClass(BUTTON_ICON_TEXT)),icon?((span=element.children("span."+ICON).first())[0]||(span=$('<span class="'+ICON+'"></span>').prependTo(element)),span.addClass(ICON_PREFIX+icon)):spriteCssClass?((span=element.children("span.k-sprite").first())[0]||(span=$('<span class="k-sprite '+ICON+'"></span>').prependTo(element)),span.addClass(spriteCssClass)):imageUrl&&((img=element.children("img.k-image").first())[0]||(img=$('<img alt="icon" class="k-image" />').prependTo(element)),img.attr("src",imageUrl))}});kendo.toolbar.Button=Button;var ToolBarButton=Button.extend({init:function(options,toolbar){Button.fn.init.call(this,options,toolbar);var element=this.element;element.addClass(BUTTON),this.addIdAttr(),options.align&&element.addClass("k-align-"+options.align),"overflow"!=options.showText&&options.text&&(options.mobile?element.html('<span class="km-text">'+options.text+"</span>"):element.html(options.text)),options.hasIcon="overflow"!=options.showIcon&&(options.icon||options.spriteCssClass||options.imageUrl),options.hasIcon&&this._addGraphics(),this.addUidAttr(),this.addOverflowAttr(),this.enable(options.enable),options.hidden&&this.hide(),this.element.data({type:"button",button:this})},select:function(selected){void 0===selected&&(selected=!1),this.element.toggleClass(STATE_ACTIVE,selected),this.options.selected=selected}});kendo.toolbar.ToolBarButton=ToolBarButton;var OverflowButton=Button.extend({init:function(options,toolbar){this.overflow=!0,Button.fn.init.call(this,options,toolbar);var element=this.element;"toolbar"!=options.showText&&options.text&&(options.mobile?element.html('<span class="km-text">'+options.text+"</span>"):element.html('<span class="k-text">'+options.text+"</span>")),options.hasIcon="toolbar"!=options.showIcon&&(options.icon||options.spriteCssClass||options.imageUrl),options.hasIcon&&this._addGraphics(),options.isChild||this._wrap(),this.addOverflowIdAttr(),this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this.enable(options.enable),element.addClass(OVERFLOW_BUTTON+" "+BUTTON),options.hidden&&this.hide(),options.togglable&&this.toggle(options.selected),this.element.data({type:"button",button:this})},_wrap:function(){this.element=this.element.wrap("<li></li>").parent()},overflowHidden:function(){this.element.addClass(OVERFLOW_HIDDEN)},select:function(selected){void 0===selected&&(selected=!1),this.options.isChild?this.element.toggleClass(STATE_ACTIVE,selected):this.element.find(".k-button").toggleClass(STATE_ACTIVE,selected),this.options.selected=selected}});kendo.toolbar.OverflowButton=OverflowButton,kendo.toolbar.registerComponent("button",ToolBarButton,OverflowButton);var ButtonGroup=Item.extend({createButtons:function(buttonConstructor){for(var options=this.options,items=options.buttons||[],item,i=0;i<items.length;i++)items[i].uid||(items[i].uid=kendo.guid()),(item=new buttonConstructor($.extend({mobile:options.mobile,isChild:!0,type:"button"},items[i]),this.toolbar)).element.appendTo(this.element)},refresh:function(){this.element.children().filter(":not('.k-state-hidden'):first").addClass(GROUP_START),this.element.children().filter(":not('.k-state-hidden'):last").addClass(GROUP_END)}});kendo.toolbar.ButtonGroup=ButtonGroup;var ToolBarButtonGroup=ButtonGroup.extend({init:function(options,toolbar){var element=this.element=$("<div></div>");this.options=options,this.toolbar=toolbar,this.addIdAttr(),options.align&&element.addClass("k-align-"+options.align),this.createButtons(ToolBarButton),this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this.refresh(),element.addClass(BUTTON_GROUP),this.element.data({type:"buttonGroup",buttonGroup:this})}});kendo.toolbar.ToolBarButtonGroup=ToolBarButtonGroup;var OverflowButtonGroup=ButtonGroup.extend({init:function(options,toolbar){var element=this.element=$("<li></li>");this.options=options,this.toolbar=toolbar,this.overflow=!0,this.addOverflowIdAttr(),this.createButtons(OverflowButton),this.attributes(),this.addUidAttr(),this.addOverflowAttr(),this.refresh(),element.addClass((options.mobile?"":BUTTON_GROUP)+" k-overflow-group"),this.element.data({type:"buttonGroup",buttonGroup:this})},overflowHidden:function(){this.element.addClass(OVERFLOW_HIDDEN)}});kendo.toolbar.OverflowButtonGroup=OverflowButtonGroup,kendo.toolbar.registerComponent("buttonGroup",ToolBarButtonGroup,OverflowButtonGroup);var ToolBarSplitButton=Item.extend({init:function(options,toolbar){var element=this.element=$('<div class="k-split-button" tabindex="0"></div>');this.options=options,this.toolbar=toolbar,this.mainButton=new ToolBarButton($.extend({},options,{hidden:!1}),toolbar),this.arrowButton=$('<a class="'+BUTTON+" "+SPLIT_BUTTON_ARROW+'"><span class="'+(options.mobile?"km-icon km-arrowdown":"k-icon k-i-arrow-60-down")+'"></span></a>'),this.popupElement=$('<ul class="'+LIST_CONTAINER+'"></ul>'),this.mainButton.element.removeAttr("href tabindex").appendTo(element),this.arrowButton.appendTo(element),this.popupElement.appendTo(element),options.align&&element.addClass("k-align-"+options.align),options.id||(options.id=options.uid),element.attr("id",options.id+"_wrapper"),this.addOverflowAttr(),this.addUidAttr(),this.createMenuButtons(),this.createPopup(),this._navigatable(),this.mainButton.main=!0,this.enable(options.enable),options.hidden&&this.hide(),element.data({type:"splitButton",splitButton:this,kendoPopup:this.popup})},_navigatable:function(){var that=this;that.popupElement.on("keydown","."+BUTTON,function(e){var li=$(e.target).parent();e.preventDefault(),e.keyCode===keys.ESC||e.keyCode===keys.TAB||e.altKey&&e.keyCode===keys.UP?(that.toggle(),that.focus()):e.keyCode===keys.DOWN?findFocusableSibling(li,"next").focus():e.keyCode===keys.UP?findFocusableSibling(li,"prev").focus():e.keyCode!==keys.SPACEBAR&&e.keyCode!==keys.ENTER||that.toolbar.userEvents.trigger("tap",{target:$(e.target)})})},createMenuButtons:function(){for(var options=this.options,items=options.menuButtons,item,i=0;i<items.length;i++)(item=new ToolBarButton($.extend({mobile:options.mobile,type:"button",click:options.click},items[i]),this.toolbar)).element.wrap("<li></li>").parent().appendTo(this.popupElement)},createPopup:function(){var options=this.options,element=this.element;this.popupElement.attr("id",options.id+"_optionlist").attr(KENDO_UID_ATTR,options.rootUid),options.mobile&&(this.popupElement=actionSheetWrap(this.popupElement)),this.popup=this.popupElement.kendoPopup({appendTo:options.mobile?$(options.mobile).children(".km-pane"):null,anchor:element,isRtl:this.toolbar._isRtl,copyAnchorStyles:!1,animation:options.animation,open:adjustPopupWidth,activate:function(){this.element.find(":kendoFocusable").first().focus()},close:function(){element.focus()}}).data("kendoPopup"),this.popup.element.on(CLICK,"a.k-button",preventClick)},remove:function(){this.popup.element.off(CLICK,"a.k-button"),this.popup.destroy(),this.element.remove()},toggle:function(){this.popup.toggle()},enable:function(isEnabled){void 0===isEnabled&&(isEnabled=!0),this.mainButton.enable(isEnabled),this.options.enable=isEnabled},focus:function(){this.element.focus()},hide:function(){this.popup&&this.popup.close(),this.element.addClass(STATE_HIDDEN).hide(),this.options.hidden=!0},show:function(){this.element.removeClass(STATE_HIDDEN).hide(),this.options.hidden=!1}});kendo.toolbar.ToolBarSplitButton=ToolBarSplitButton;var OverflowSplitButton=Item.extend({init:function(options,toolbar){var element=this.element=$('<li class="k-split-button"></li>'),items=options.menuButtons,item;this.options=options,this.toolbar=toolbar,this.overflow=!0,this.mainButton=new OverflowButton($.extend({isChild:!0},options)),this.mainButton.element.appendTo(element);for(var i=0;i<items.length;i++)(item=new OverflowButton($.extend({mobile:options.mobile,isChild:!0},items[i]),this.toolbar)).element.appendTo(element);this.addUidAttr(),this.addOverflowAttr(),this.mainButton.main=!0,element.data({type:"splitButton",splitButton:this})},overflowHidden:function(){this.element.addClass(OVERFLOW_HIDDEN)}});kendo.toolbar.OverflowSplitButton=OverflowSplitButton,kendo.toolbar.registerComponent("splitButton",ToolBarSplitButton,OverflowSplitButton);var ToolBarSeparator=Item.extend({init:function(options,toolbar){var element=this.element=$("<div>&nbsp;</div>");this.element=element,this.options=options,this.toolbar=toolbar,this.attributes(),this.addIdAttr(),this.addUidAttr(),this.addOverflowAttr(),element.addClass(SEPARATOR),element.data({type:"separator",separator:this})}}),OverflowSeparator=Item.extend({init:function(options,toolbar){var element=this.element=$("<li>&nbsp;</li>");this.element=element,this.options=options,this.toolbar=toolbar,this.overflow=!0,this.attributes(),this.addUidAttr(),this.addOverflowIdAttr(),element.addClass(SEPARATOR),element.data({type:"separator",separator:this})},overflowHidden:function(){this.element.addClass(OVERFLOW_HIDDEN)}});kendo.toolbar.registerComponent("separator",ToolBarSeparator,OverflowSeparator);var TemplateItem=Item.extend({init:function(template,options,toolbar){var element=isFunction(template)?template(options):template;element=element instanceof jQuery?element.wrap("<div></div>").parent():$("<div></div>").html(element),this.element=element,this.options=options,this.options.type="template",this.toolbar=toolbar,this.attributes(),this.addUidAttr(),this.addIdAttr(),this.addOverflowAttr(),element.data({type:"template",template:this})}});kendo.toolbar.TemplateItem=TemplateItem;var OverflowTemplateItem=Item.extend({init:function(template,options,toolbar){var element=isFunction(template)?$(template(options)):$(template);element=element instanceof jQuery?element.wrap("<li></li>").parent():$("<li></li>").html(element),this.element=element,this.options=options,this.options.type="template",this.toolbar=toolbar,this.overflow=!0,this.attributes(),this.addUidAttr(),this.addOverflowIdAttr(),this.addOverflowAttr(),element.data({type:"template",template:this})},overflowHidden:function(){this.element.addClass(OVERFLOW_HIDDEN)}});function adjustPopupWidth(){var anchor=this.options.anchor,computedWidth=outerWidth(anchor),width;kendo.wrap(this.element).addClass("k-split-wrapper"),width="border-box"!==this.element.css("box-sizing")?computedWidth-(outerWidth(this.element)-this.element.width()):computedWidth,this.element.css({fontFamily:anchor.css("font-family"),"min-width":width})}function toggleActive(e){e.target.is(".k-toggle-button")||e.target.toggleClass(STATE_ACTIVE,"press"==e.type)}function actionSheetWrap(element){return(element=$(element)).hasClass("km-actionsheet")?element.closest(".km-popup-wrapper"):element.addClass("km-widget km-actionsheet").wrap('<div class="km-actionsheet-wrapper km-actionsheet-tablet km-widget km-popup"></div>').parent().wrap('<div class="km-popup-wrapper k-popup"></div>').parent()}function preventClick(e){e.preventDefault()}function findFocusableSibling(element,dir){var getSibling="next"===dir?$.fn.next:$.fn.prev,getter="next"===dir?$.fn.first:$.fn.last,candidate=getSibling.call(element);return candidate.is(":kendoFocusable")||!candidate.length?candidate:candidate.find(":kendoFocusable").length?getter.call(candidate.find(":kendoFocusable")):findFocusableSibling(candidate,dir)}kendo.toolbar.OverflowTemplateItem=OverflowTemplateItem;var Group=Class.extend({init:function(name){this.name=name,this.buttons=[]},add:function(button){this.buttons[this.buttons.length]=button},remove:function(button){var index=$.inArray(button,this.buttons);this.buttons.splice(index,1)},select:function(button){for(var tmp,i=0;i<this.buttons.length;i++)(tmp=this.buttons[i]).select(!1);button.select(!0),button.twin()&&button.twin().select(!0)}}),ToolBar=Widget.extend({init:function(element,options){var that=this;if(Widget.fn.init.call(that,element,options),options=that.options,(element=that.wrapper=that.element).addClass(TOOLBAR+" k-widget"),this.uid=kendo.guid(),this._isRtl=kendo.support.isRtl(element),this._groups={},element.attr(KENDO_UID_ATTR,this.uid),that.isMobile="boolean"==typeof options.mobile?options.mobile:that.element.closest(".km-root")[0],that.animation=that.isMobile?{open:{effects:"fade"}}:{},that.isMobile&&(element.addClass("km-widget"),ICON="km-icon",ICON_PREFIX="km-",BUTTON="km-button",BUTTON_GROUP="km-buttongroup km-widget",STATE_ACTIVE="km-state-active",STATE_DISABLED="km-state-disabled"),options.resizable?(that._renderOverflow(),element.addClass(RESIZABLE_TOOLBAR),that.overflowUserEvents=new kendo.UserEvents(that.element,{threshold:5,allowSelection:!0,filter:"."+OVERFLOW_ANCHOR,tap:proxy(that._toggleOverflow,that)}),that._resizeHandler=kendo.onResize(function(){that.resize()})):that.popup={element:$([])},options.items&&options.items.length)for(var i=0;i<options.items.length;i++)that.add(options.items[i]);that.userEvents=new kendo.UserEvents(document,{threshold:5,allowSelection:!0,filter:"["+KENDO_UID_ATTR+"="+this.uid+"] a."+BUTTON+", ["+KENDO_UID_ATTR+"="+this.uid+"] ."+OVERFLOW_BUTTON,tap:proxy(that._buttonClick,that),press:toggleActive,release:toggleActive}),that.element.on(CLICK,"a.k-button",preventClick),that._navigatable(),options.resizable&&that.popup.element.on(CLICK,NaN,preventClick),options.resizable&&this._toggleOverflowAnchor(),kendo.notify(that)},events:[CLICK,TOGGLE,OPEN,CLOSE,OVERFLOW_OPEN,OVERFLOW_CLOSE],options:{name:"ToolBar",items:[],resizable:!0,mobile:null},addToGroup:function(button,groupName){var group;return(group=this._groups[groupName]?this._groups[groupName]:this._groups[groupName]=new Group).add(button),group},destroy:function(){var that=this;this.element.find("."+SPLIT_BUTTON).each(function(idx,element){$(element).data("kendoPopup").destroy()}),this.element.off(CLICK,"a.k-button"),this.userEvents.destroy(),this.options.resizable&&(kendo.unbindResize(this._resizeHandler),this.overflowUserEvents.destroy(),this.popup.element.off(CLICK,"a.k-button"),this.popup.destroy()),Widget.fn.destroy.call(this)},add:function(options){var component=components[options.type],template=options.template,tool,that=this,itemClasses=this.isMobile?"":"k-item k-state-default",overflowTemplate=options.overflowTemplate,overflowTool;if($.extend(options,{uid:kendo.guid(),animation:this.animation,mobile:this.isMobile,rootUid:this.uid}),options.menuButtons)for(var i=0;i<options.menuButtons.length;i++)$.extend(options.menuButtons[i],{uid:kendo.guid()});template&&!overflowTemplate?options.overflow="never":options.overflow||(options.overflow="auto"),"never"!==options.overflow&&this.options.resizable&&(overflowTemplate?overflowTool=new OverflowTemplateItem(overflowTemplate,options,this):component&&(overflowTool=new component.overflow(options,this)).element.addClass(itemClasses),overflowTool&&("auto"===options.overflow&&overflowTool.overflowHidden(),overflowTool.element.appendTo(this.popup.container),this.angular("compile",function(){return{elements:overflowTool.element.get()}}))),"always"!==options.overflow&&(template?tool=new TemplateItem(template,options,this):component&&(tool=new component.toolbar(options,this)),tool&&(this.options.resizable?(tool.element.appendTo(this.element).css("visibility","hidden"),this._shrink(this.element.innerWidth()),tool.element.css("visibility","visible")):tool.element.appendTo(this.element),this.angular("compile",function(){return{elements:tool.element.get()}})))},_getItem:function(candidate){var element,toolbarItem,overflowItem,isResizable=this.options.resizable,type;return(element=this.element.find(candidate)).length||(element=$(".k-split-container[data-uid="+this.uid+"]").find(candidate)),type=element.length?element.data("type"):"",(toolbarItem=element.data(type))?(toolbarItem.main&&(type="splitButton",toolbarItem=(element=element.parent("."+SPLIT_BUTTON)).data(type)),isResizable&&(overflowItem=toolbarItem.twin())):isResizable&&(type=(element=this.popup.element.find(candidate)).length?element.data("type"):"",(overflowItem=element.data(type))&&overflowItem.main&&(type="splitButton",overflowItem=(element=element.parent("."+SPLIT_BUTTON)).data(type))),{type:type,toolbar:toolbarItem,overflow:overflowItem}},remove:function(candidate){var item=this._getItem(candidate);item.toolbar&&item.toolbar.remove(),item.overflow&&item.overflow.remove(),this.resize(!0)},hide:function(candidate){var item=this._getItem(candidate);item.toolbar&&("button"===item.toolbar.options.type&&item.toolbar.options.isChild?(item.toolbar.hide(),item.toolbar.getParentGroup().refresh()):item.toolbar.options.hidden||item.toolbar.hide()),item.overflow&&("button"===item.overflow.options.type&&item.overflow.options.isChild?(item.overflow.hide(),item.overflow.getParentGroup().refresh()):item.overflow.options.hidden||item.overflow.hide()),this.resize(!0)},show:function(candidate){var item=this._getItem(candidate);item.toolbar&&("button"===item.toolbar.options.type&&item.toolbar.options.isChild?(item.toolbar.show(),item.toolbar.getParentGroup().refresh()):item.toolbar.options.hidden&&item.toolbar.show()),item.overflow&&("button"===item.overflow.options.type&&item.overflow.options.isChild?(item.toolbar.show(),item.overflow.getParentGroup().refresh()):item.overflow.options.hidden&&item.overflow.show()),this.resize(!0)},enable:function(element,enable){var item=this._getItem(element);void 0===enable&&(enable=!0),item.toolbar&&item.toolbar.enable(enable),item.overflow&&item.overflow.enable(enable)},getSelectedFromGroup:function(groupName){return this.element.find(".k-toggle-button[data-group='"+groupName+"']").filter("."+STATE_ACTIVE)},toggle:function(button,checked){var element,item=$(button).data("button");item.options.togglable&&(void 0===checked&&(checked=!0),item.toggle(checked,!0))},_renderOverflow:function(){var that=this,overflowContainer=components.overflowContainer,isRtl=that._isRtl,horizontalDirection=isRtl?"left":"right";that.overflowAnchor=$(components.overflowAnchor).addClass(BUTTON),that.element.append(that.overflowAnchor),that.isMobile?(that.overflowAnchor.append('<span class="km-icon km-more"></span>'),overflowContainer=actionSheetWrap(overflowContainer)):that.overflowAnchor.append('<span class="k-icon k-i-arrow-60-down"></span>'),that.popup=new kendo.ui.Popup(overflowContainer,{origin:"bottom "+horizontalDirection,position:"top "+horizontalDirection,anchor:that.overflowAnchor,isRtl:isRtl,animation:that.animation,appendTo:that.isMobile?$(that.isMobile).children(".km-pane"):null,copyAnchorStyles:!1,open:function(e){var wrapper=kendo.wrap(that.popup.element).addClass("k-overflow-wrapper");that.isMobile?that.popup.container.css("max-height",parseFloat($(".km-content:visible").innerHeight())-15+"px"):wrapper.css("margin-left",(isRtl?-1:1)*((outerWidth(wrapper)-wrapper.width())/2+1)),that.trigger(OVERFLOW_OPEN)&&e.preventDefault()},activate:function(){this.element.find(":kendoFocusable").first().focus()},close:function(e){that.trigger(OVERFLOW_CLOSE)&&e.preventDefault(),this.element.focus()}}),that.popup.element.on("keydown","."+BUTTON,function(e){var target=$(e.target),li=target.parent(),isComplexTool=li.is("."+BUTTON_GROUP)||li.is("."+SPLIT_BUTTON),element;e.preventDefault(),e.keyCode===keys.ESC||e.keyCode===keys.TAB||e.altKey&&e.keyCode===keys.UP?(that._toggleOverflow(),that.overflowAnchor.focus()):e.keyCode===keys.DOWN?findFocusableSibling(element=!isComplexTool||isComplexTool&&target.is(":last-child")?li:target,"next").focus():e.keyCode===keys.UP?findFocusableSibling(element=!isComplexTool||isComplexTool&&target.is(":first-child")?li:target,"prev").focus():e.keyCode!==keys.SPACEBAR&&e.keyCode!==keys.ENTER||that.userEvents.trigger("tap",{target:$(e.target)})}),that.isMobile?that.popup.container=that.popup.element.find("."+OVERFLOW_CONTAINER):that.popup.container=that.popup.element,that.popup.container.attr(KENDO_UID_ATTR,this.uid)},_toggleOverflowAnchor:function(){var hasVisibleChildren=!1;(hasVisibleChildren=this.options.mobile?this.popup.element.find("."+OVERFLOW_CONTAINER).children(":not(.k-overflow-hidden, .k-popup)").length>0:this.popup.element.children(":not(.k-overflow-hidden, .k-popup)").length>0)?this.overflowAnchor.css({visibility:"visible",width:""}):this.overflowAnchor.css({visibility:"hidden",width:"1px"})},_buttonClick:function(e){var that=this,popup,target,item,splitContainer,isSplitButtonArrow=e.target.closest("."+SPLIT_BUTTON_ARROW).length,handler,eventData,urlTarget;e.preventDefault(),isSplitButtonArrow?this._toggle(e):(target=$(e.target).closest("."+BUTTON,this.element)).hasClass(OVERFLOW_ANCHOR)||(!(item=target.data("button"))&&this.popup&&(item=(target=$(e.target).closest("."+OVERFLOW_BUTTON,this.popup.container)).parent("li").data("button")),item&&item.options.enable&&(item.options.togglable?(handler=isFunction(item.toggleHandler)?item.toggleHandler:null,item.toggle(!item.options.selected,!0),eventData={target:target,group:item.options.group,checked:item.options.selected,id:item.options.id},handler&&handler.call(this,eventData),this.trigger(TOGGLE,eventData)):(handler=isFunction(item.clickHandler)?item.clickHandler:null,eventData={sender:this,target:target,id:item.options.id},handler&&handler.call(this,eventData),this.trigger(CLICK,eventData)),item.options.url&&(item.options.attributes&&item.options.attributes.target&&(urlTarget=item.options.attributes.target),window.open(item.options.url,urlTarget||"_self")),target.hasClass(OVERFLOW_BUTTON)&&this.popup.close(),(splitContainer=target.closest(".k-split-container"))[0]&&((popup=splitContainer.data("kendoPopup"))||splitContainer.parents(".km-popup-wrapper").data("kendoPopup")).close()))},_navigatable:function(){var that=this;this.element.attr("tabindex",0).focus(function(){var element=$(this).find(":kendoFocusable:first");0!==element.length&&(element.is("."+OVERFLOW_ANCHOR)&&(element=findFocusableSibling(element,"next")),element[0].focus())}).on("keydown",proxy(this._keydown,this))},_keydown:function(e){var target=$(e.target),keyCode=e.keyCode,items=this.element.children(":not(.k-separator):visible");if(keyCode===keys.TAB){var element=target.parentsUntil(this.element).last(),lastHasFocus=!1,firstHasFocus=!1;element.length||(element=target),element.is("."+OVERFLOW_ANCHOR)&&(e.shiftKey&&e.preventDefault(),items.last().is(":kendoFocusable")?items.last().focus():items.last().find(":kendoFocusable").last().focus()),e.shiftKey||items.index(element)!==items.length-1||(lastHasFocus=!element.is("."+BUTTON_GROUP)||target.is(":last-child"));var isFirstTool=items.index(element)===items.not(".k-overflow-anchor").first().index();if(e.shiftKey&&isFirstTool&&(firstHasFocus=!element.is("."+BUTTON_GROUP)||target.is(":first-child")),lastHasFocus&&this.overflowAnchor&&"hidden"!==this.overflowAnchor.css("visibility")&&(e.preventDefault(),this.overflowAnchor.focus()),firstHasFocus){e.preventDefault();var prevFocusable=this._getPrevFocusable(this.wrapper);prevFocusable&&prevFocusable.focus()}}if(e.altKey&&keyCode===keys.DOWN){var splitButton=$(document.activeElement).data("splitButton"),isOverflowAnchor=$(document.activeElement).is("."+OVERFLOW_ANCHOR);splitButton?splitButton.toggle():isOverflowAnchor&&this._toggleOverflow()}else if((keyCode===keys.SPACEBAR||keyCode===keys.ENTER)&&!target.is("input, checkbox"))return e.preventDefault(),target.is("."+SPLIT_BUTTON)&&(target=target.children().first()),void this.userEvents.trigger("tap",{target:target})},_getPrevFocusable:function(element){return element.is("html")?element:(element.prevAll().each(function(){return(prevElement=$(this)).is(":kendoFocusable")?(elementToFocus=prevElement,!1):prevElement.find(":kendoFocusable").length>0?(elementToFocus=prevElement.find(":kendoFocusable").last(),!1):void 0}),elementToFocus||this._getPrevFocusable(element.parent()));var elementToFocus,prevElement,prevElements},_toggle:function(e){var splitButton=$(e.target).closest("."+SPLIT_BUTTON).data("splitButton"),isDefaultPrevented;e.preventDefault(),splitButton.options.enable&&((isDefaultPrevented=splitButton.popup.element.is(":visible")?this.trigger(CLOSE,{target:splitButton.element}):this.trigger(OPEN,{target:splitButton.element}))||splitButton.toggle())},_toggleOverflow:function(){this.popup.toggle()},_resize:function(e){var containerWidth=e.width;this.options.resizable&&(this.popup.close(),this._shrink(containerWidth),this._stretch(containerWidth),this._markVisibles(),this._toggleOverflowAnchor())},_childrenWidth:function(){var childrenWidth=0;return this.element.children(":visible:not('.k-state-hidden')").each(function(){childrenWidth+=outerWidth($(this),!0)}),Math.ceil(childrenWidth)},_shrink:function(containerWidth){var commandElement,visibleCommands;if(containerWidth<this._childrenWidth())for(var i=(visibleCommands=this.element.children(":visible:not([data-overflow='never'], .k-overflow-anchor)")).length-1;i>=0&&(commandElement=visibleCommands.eq(i),!(containerWidth>this._childrenWidth()));i--)this._hideItem(commandElement)},_stretch:function(containerWidth){var commandElement,hiddenCommands;if(containerWidth>this._childrenWidth()){hiddenCommands=this.element.children(":hidden:not('.k-state-hidden')");for(var i=0;i<hiddenCommands.length&&(commandElement=hiddenCommands.eq(i),!(containerWidth<this._childrenWidth())&&this._showItem(commandElement,containerWidth));i++);}},_hideItem:function(item){item.hide(),this.popup&&this.popup.container.find(">li[data-uid='"+item.data("uid")+"']").removeClass(OVERFLOW_HIDDEN)},_showItem:function(item,containerWidth){return!!(item.length&&containerWidth>this._childrenWidth()+outerWidth(item,!0))&&(item.show(),this.popup&&this.popup.container.find(">li[data-uid='"+item.data("uid")+"']").addClass(OVERFLOW_HIDDEN),!0)},_markVisibles:function(){var overflowItems=this.popup.container.children(),toolbarItems=this.element.children(":not(.k-overflow-anchor)"),visibleOverflowItems=overflowItems.filter(":not(.k-overflow-hidden)"),visibleToolbarItems=toolbarItems.filter(":visible");overflowItems.add(toolbarItems).removeClass(FIRST_TOOLBAR_VISIBLE+" "+LAST_TOOLBAR_VISIBLE),visibleOverflowItems.first().add(visibleToolbarItems.first()).addClass(FIRST_TOOLBAR_VISIBLE),visibleOverflowItems.last().add(visibleToolbarItems.last()).addClass(LAST_TOOLBAR_VISIBLE)}});kendo.ui.plugin(ToolBar)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(a1,a2,a3){(a3||a2)()}),function(f,define){define("kendo.panelbar",["kendo.data"],f)}(function(){var __meta___id="panelbar",__meta___name="PanelBar",__meta___category="web",__meta___description="The PanelBar widget displays hierarchical data as a multi-level expandable panel bar.",__meta___depends=["core","data","data.odata"];return function($,undefined){var kendo=window.kendo,ui=kendo.ui,keys=kendo.keys,extend=$.extend,proxy=$.proxy,each=$.each,isArray=$.isArray,template=kendo.template,Widget=ui.Widget,HierarchicalDataSource=kendo.data.HierarchicalDataSource,excludedNodesRegExp=/^(ul|a|div)$/i,NS=".kendoPanelBar",IMG="img",HREF="href",LAST="k-last",LINK="k-link",LINKSELECTOR="."+LINK,ERROR="error",ITEM=".k-item",GROUP,VISIBLEGROUP=".k-group"+":visible",IMAGE="k-image",FIRST="k-first",CHANGE="change",EXPAND="expand",SELECT="select",CONTENT="k-content",ACTIVATE="activate",COLLAPSE="collapse",DATABOUND="dataBound",MOUSEENTER="mouseenter",MOUSELEAVE="mouseleave",CONTENTLOAD="contentLoad",UNDEFINED="undefined",ACTIVECLASS="k-state-active",GROUPS="> .k-panel",CONTENTS="> .k-content",STRING="string",FOCUSEDCLASS="k-state-focused",DISABLEDCLASS="k-state-disabled",SELECTEDCLASS="k-state-selected",SELECTEDSELECTOR="."+SELECTEDCLASS,HIGHLIGHTCLASS="k-state-highlight",ACTIVEITEMSELECTOR=ITEM+":not(.k-state-disabled)",clickableItems="> "+ACTIVEITEMSELECTOR+" > .k-link, .k-panel > "+ACTIVEITEMSELECTOR+" > .k-link",disabledItems=ITEM+".k-state-disabled > .k-link",selectableItems="> li > .k-state-selected, .k-panel > li > .k-state-selected",defaultState="k-state-default",ARIA_DISABLED="aria-disabled",ARIA_EXPANDED="aria-expanded",ARIA_HIDDEN="aria-hidden",ARIA_SELECTED="aria-selected",VISIBLE=":visible",EMPTY=":empty",SINGLE="single",bindings={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},itemIcon,rendering={aria:function(item){var attr="";return(item.items||item.content||item.contentUrl||item.expanded)&&(attr+="aria-expanded='"+(item.expanded?"true":"false")+"' "),!1===item.enabled&&(attr+="aria-disabled='true'"),attr},wrapperCssClass:function(group,item){var result="k-item",index=item.index;return!1===item.enabled?result+=" "+DISABLEDCLASS:!0===item.expanded?result+=" "+ACTIVECLASS:result+=" k-state-default",0===index&&(result+=" k-first"),index==group.length-1&&(result+=" k-last"),item.cssClass&&(result+=" "+item.cssClass),result},textClass:function(item,group){var result=LINK;return group.firstLevel&&(result+=" k-header"),result},textAttributes:function(url){return url?" href='"+url+"'":""},arrowClass:function(item){var result="k-icon";return result+=item.expanded?" k-panelbar-collapse k-i-arrow-n":" k-panelbar-expand k-i-arrow-s"},text:function(item){return!1===item.encoded?item.text:kendo.htmlEncode(item.text)},groupAttributes:function(group){return!0!==group.expanded?" style='display:none'":""},groupCssClass:function(){return"k-group k-panel"},contentAttributes:function(content){return!0!==content.item.expanded?" style='display:none'":""},content:function(item){return item.content?item.content:item.contentUrl?"":"&nbsp;"},contentUrl:function(item){return item.contentUrl?'href="'+item.contentUrl+'"':""}};function updateFirstLast(items){(items=$(items)).filter(".k-first:not(:first-child)").removeClass(FIRST),items.filter(".k-last:not(:last-child)").removeClass(LAST),items.filter(":first-child").addClass(FIRST),items.filter(":last-child").addClass(LAST)}function updateItemHtml(item){var wrapper=item,group=item.children("ul"),toggleButton=wrapper.children(".k-link").children(".k-icon");item.hasClass("k-panelbar")||(!toggleButton.length&&group.length?toggleButton=$("<span class='k-icon' />").appendTo(wrapper):group.length&&group.children().length||(toggleButton.remove(),group.remove()))}itemIcon=function(item){return item.children("span").children(".k-icon")};var PanelBar=kendo.ui.DataBoundWidget.extend({init:function(element,options){var that=this,content,hasDataSource;isArray(options)&&(options={dataSource:options}),hasDataSource=options&&!!options.dataSource,Widget.fn.init.call(that,element,options),element=that.wrapper=that.element.addClass("k-widget k-reset k-header k-panelbar"),options=that.options,element[0].id&&(that._itemId=element[0].id+"_pb_active"),that._tabindex(),that._accessors(),that._dataSource(),that._templates(),that._initData(hasDataSource),that._updateClasses(),that._animations(options),element.on("click"+NS,clickableItems,function(e){that._click($(e.currentTarget))&&e.preventDefault()}).on(MOUSEENTER+NS+" "+MOUSELEAVE+NS,clickableItems,that._toggleHover).on("click"+NS,disabledItems,!1).on("click"+NS,".k-request-retry",proxy(that._retryRequest,that)).on("keydown"+NS,$.proxy(that._keydown,that)).on("focus"+NS,function(){var item=that.select();that._current(item[0]?item:that._first())}).on("blur"+NS,function(){that._current(null)}).attr("role","menu"),(content=element.find("li.k-state-active > ."+CONTENT))[0]&&that.expand(content.parent(),!1),options.dataSource||that._angularCompile(),kendo.notify(that)},events:[EXPAND,COLLAPSE,SELECT,ACTIVATE,CHANGE,ERROR,DATABOUND,CONTENTLOAD],options:{name:"PanelBar",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:200}},messages:{loading:"Loading...",requestFailed:"Request failed.",retry:"Retry"},autoBind:!0,loadOnDemand:!0,expandMode:"multiple",dataTextField:null},_angularCompile:function(){var that=this;that.angular("compile",function(){return{elements:that.element.children("li"),data:[{dataItem:that.options.$angular}]}})},_angularCompileElements:function(html,items){var that=this;this.angular("compile",function(){return{elements:html,data:$.map(items,function(item){return[{dataItem:item}]})}})},_angularCleanup:function(){var that=this;that.angular("cleanup",function(){return{elements:that.element.children("li")}})},destroy:function(){Widget.fn.destroy.call(this),this.element.off(NS),this._angularCleanup(),kendo.destroy(this.element)},_initData:function(hasDataSource){var that=this;hasDataSource&&(this.element.empty(),this.options.autoBind&&(this._progress(!0),this.dataSource.fetch()))},_templates:function(){var that=this,options=this.options,fieldAccessor=proxy(this._fieldAccessor,this);options.template&&typeof options.template==STRING?options.template=template(options.template):options.template||(options.template=template("# var text = "+fieldAccessor("text")+"(data.item); ## if (typeof data.item.encoded != 'undefined' && data.item.encoded === false) {##= text ## } else { ##: text ## } #")),this.templates={content:template("<div role='region' class='k-content'#= contentAttributes(data) #>#= content(item) #</div>"),group:template("<ul role='group' aria-hidden='true' class='#= groupCssClass(group) #'#= groupAttributes(group) #>#= renderItems(data) #</ul>"),itemWrapper:template("# var url = "+fieldAccessor("url")+"(item); ## var imageUrl = "+fieldAccessor("imageUrl")+"(item); ## var spriteCssClass = "+fieldAccessor("spriteCssClass")+"(item); ## var contentUrl = contentUrl(item); ## var tag = url||contentUrl ? 'a' : 'span'; #<#= tag # class='#= textClass(item, group) #' #= contentUrl ##= textAttributes(url) #># if (imageUrl) { #<img class='k-image' alt='' src='#= imageUrl #' /># } ## if (spriteCssClass) { #<span class='k-sprite #= spriteCssClass #'></span># } ##= data.panelBar.options.template(data) ##= arrow(data) #</#= tag #>"),item:template("<li role='menuitem' #=aria(item)#class='#= wrapperCssClass(group, item) #'"+kendo.attr("uid")+"='#= item.uid #'>#= itemWrapper(data) ## if (item.items && item.items.length > 0) { ##= subGroup({ items: item.items, panelBar: panelBar, group: { expanded: item.expanded } }) ## } else if (item.content || item.contentUrl) { ##= renderContent(data) ## } #</li>"),loading:template("<div class='k-item'><span class='k-icon k-i-loading'></span> #: data.messages.loading #</div>"),retry:template("#: data.messages.requestFailed # <button class='k-button k-request-retry'>#: data.messages.retry #</button>"),arrow:template("<span class='#= arrowClass(item) #'></span>"),empty:template("")}},setOptions:function(options){var animation=this.options.animation;this._animations(options),options.animation=extend(!0,animation,options.animation),"dataSource"in options&&this.setDataSource(options.dataSource),Widget.fn.setOptions.call(this,options)},expand:function(element,useAnimation){var that=this,animBackup={};if(element=this.element.find(element),!that._animating||!element.find("ul").is(":visible"))return that._animating=!0,useAnimation=!1!==useAnimation,element.each(function(index,item){item=$(item);var wrapper=element.children(".k-group,.k-content");wrapper.length||(wrapper=that._addGroupElement(element));var groups=wrapper.add(item.find(CONTENTS));if(!item.hasClass(DISABLEDCLASS)&&groups.length>0){if(that.options.expandMode==SINGLE&&that._collapseAllExpanded(item))return that;element.find("."+HIGHLIGHTCLASS).removeClass(HIGHLIGHTCLASS),item.addClass(HIGHLIGHTCLASS),useAnimation||(animBackup=that.options.animation,that.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),that._triggerEvent(EXPAND,item)||that._toggleItem(item,!1,!1),useAnimation||(that.options.animation=animBackup)}}),that;that.one("complete",function(){setTimeout(function(){that.expand(element)})})},collapse:function(element,useAnimation){var that=this,animBackup={};return that._animating=!0,useAnimation=!1!==useAnimation,(element=that.element.find(element)).each(function(index,item){var groups=(item=$(item)).find(GROUPS).add(item.find(CONTENTS));!item.hasClass(DISABLEDCLASS)&&groups.is(VISIBLE)&&(item.removeClass(HIGHLIGHTCLASS),useAnimation||(animBackup=that.options.animation,that.options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}}),that._triggerEvent(COLLAPSE,item)||that._toggleItem(item,!0),useAnimation||(that.options.animation=animBackup))}),that},updateArrow:function(items){var that=this;(items=$(items)).children(".k-link").children(".k-panelbar-collapse, .k-panelbar-expand").remove(),items.filter(function(){var dataItem=that.dataItem(this);return dataItem?dataItem.hasChildren||dataItem.content||dataItem.contentUrl:$(this).find(".k-panel").length>0||$(this).find(".k-content").length>0}).children(".k-link:not(:has([class*=k-i-arrow]))").each(function(){var item=$(this),parent=item.parent();item.append("<span class='k-icon "+(parent.hasClass(ACTIVECLASS)?" k-panelbar-collapse k-i-arrow-n":" k-panelbar-expand k-i-arrow-s")+"'/>")})},_accessors:function(){var that=this,options=this.options,i,field,textField,element=this.element;for(i in bindings)field=options[bindings[i]],textField=element.attr(kendo.attr(i+"-field")),!field&&textField&&(field=textField),field||(field=i),isArray(field)||(field=[field]),options[bindings[i]]=field},_progress:function(item,showProgress){var element=this.element,loadingText=this.templates.loading({messages:this.options.messages});1==arguments.length?(showProgress=item)?element.html(loadingText):element.empty():itemIcon(item).toggleClass("k-i-loading",showProgress).removeClass("k-i-refresh")},_refreshRoot:function(items){var that=this,parent,groupData={firstLevel:!0,expanded:!0,length:that.element.children().length};this.element.empty();var rootItemsHtml=$.map(items,function(value,idx){return"string"==typeof value?$(value):(value.items=[],$(that.renderItem({group:groupData,item:extend(value,{index:idx})})))});this.element.append(rootItemsHtml),this._angularCompileElements(rootItemsHtml,items)},_refreshChildren:function(item,parentNode){var i,children,child;parentNode.children(".k-group").empty();var items=item.children.data();if(items.length)for(this.append(item.children,parentNode),this.options.loadOnDemand&&this._toggleGroup(parentNode.children(".k-group"),!1),children=parentNode.children(".k-group").children("li"),i=0;i<children.length;i++)child=children.eq(i),this.trigger("itemChange",{item:child,data:this.dataItem(child),ns:ui});else updateItemHtml(parentNode),children=parentNode.children(".k-group").children("li"),this._angularCompileElements(children,items)},findByUid:function(uid){for(var items=this.element.find(".k-item"),uidAttr=kendo.attr("uid"),result,i=0;i<items.length;i++)if(items[i].getAttribute(uidAttr)==uid){result=items[i];break}return $(result)},refresh:function(e){var options=this.options,node=e.node,action=e.action,items=e.items,parentNode=this.wrapper,loadOnDemand=options.loadOnDemand;if(e.field){if(!items[0]||!items[0].level)return;return this._updateItems(items,e.field)}if(node&&(parentNode=this.findByUid(node.uid),this._progress(parentNode,!1)),"add"==action?this._appendItems(e.index,items,parentNode):"remove"==action?this.remove(this.findByUid(items[0].uid)):"itemchange"==action?this._updateItems(items):"itemloaded"==action?this._refreshChildren(node,parentNode):this._refreshRoot(items),"remove"!=action)for(var k=0;k<items.length;k++)if(!loadOnDemand||items[k].expanded){var tempItem=items[k];this._hasChildItems(tempItem)&&tempItem.load()}this.trigger(DATABOUND,{node:node?parentNode:void 0})},_error:function(e){var node=e.node&&this.findByUid(e.node.uid),retryHtml=this.templates.retry({messages:this.options.messages});node?(this._progress(node,!1),this._expanded(node,!1),itemIcon(node).addClass("k-i-refresh"),e.node.loaded(!1)):(this._progress(!1),this.element.html(retryHtml))},_retryRequest:function(e){e.preventDefault(),this.dataSource.fetch()},items:function(){return this.element.find(".k-item > span:first-child")},setDataSource:function(dataSource){var options;this.options.dataSource=dataSource,this._dataSource(),this.options.autoBind&&(this._progress(!0),this.dataSource.fetch())},_bindDataSource:function(){this._refreshHandler=proxy(this.refresh,this),this._errorHandler=proxy(this._error,this),this.dataSource.bind(CHANGE,this._refreshHandler),this.dataSource.bind(ERROR,this._errorHandler)},_unbindDataSource:function(){var dataSource=this.dataSource;dataSource&&(dataSource.unbind(CHANGE,this._refreshHandler),dataSource.unbind(ERROR,this._errorHandler))},_fieldAccessor:function(fieldName){var fieldBindings=this.options[bindings[fieldName]]||[],count=fieldBindings.length,result="(function(item) {";return 0===count?result+="return item['"+fieldName+"'];":(result+="var levels = ["+$.map(fieldBindings,function(x){return"function(d){ return "+kendo.expr(x)+"}"}).join(",")+"];",result+="if(item.level){return levels[Math.min(item.level(), "+count+"-1)](item);}else",result+="{return levels["+count+"-1](item)}"),result+="})"},_dataSource:function(){var that=this,options,dataSource=this.options.dataSource;dataSource&&(dataSource=isArray(dataSource)?{data:dataSource}:dataSource,this._unbindDataSource(),dataSource.fields||(dataSource.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]),this.dataSource=HierarchicalDataSource.create(dataSource),this._bindDataSource())},_appendItems:function(index,items,parentNode){var that=this,children,wrapper;parentNode.hasClass("k-panelbar")?(children=parentNode.children("li"),wrapper=parentNode):((wrapper=parentNode.children(".k-group")).length||(wrapper=that._addGroupElement(parentNode)),children=wrapper.children("li"));var groupData={firstLevel:parentNode.hasClass("k-panelbar"),expanded:!0,length:children.length},itemsHtml=$.map(items,function(value,idx){return $("string"==typeof value?value:that.renderItem({group:groupData,item:extend(value,{index:idx})}))});typeof index==UNDEFINED&&(index=children.length);for(var i=0;i<itemsHtml.length;i++)0===children.length||0===index?wrapper.append(itemsHtml[i]):itemsHtml[i].insertAfter(children[index-1]);that._angularCompileElements(itemsHtml,items),that.dataItem(parentNode)&&(that.dataItem(parentNode).hasChildren=!0,that.updateArrow(parentNode))},_updateItems:function(items,field){var that=this,i,node,nodeWrapper,item,context={panelBar:that.options,item:item,group:{}},render="expanded"!=field;if("selected"==field)if(items[0][field]){var currentNode=that.findByUid(items[0].uid);currentNode.hasClass(DISABLEDCLASS)||that.select(currentNode,!0)}else that.clearSelection();else{var elements=$.map(items,function(item){return that.findByUid(item.uid)});for(render&&that.angular("cleanup",function(){return{elements:elements}}),i=0;i<items.length;i++)context.item=item=items[i],context.panelBar=that,node=(nodeWrapper=elements[i]).parent(),render&&(context.group={firstLevel:node.hasClass("k-panelbar"),expanded:nodeWrapper.parent().hasClass(ACTIVECLASS),length:nodeWrapper.children().length},nodeWrapper.children(".k-link").remove(),nodeWrapper.prepend(that.templates.itemWrapper(extend(context,{arrow:item.hasChildren||item.content||item.contentUrl?that.templates.arrow:that.templates.empty},rendering)))),"expanded"==field?that._toggleItem(nodeWrapper,!item[field],!item[field]||"true"):"enabled"==field&&(that.enable(nodeWrapper,item[field]),item[field]||item.selected&&item.set("selected",!1)),nodeWrapper.length&&this.trigger("itemChange",{item:nodeWrapper,data:item,ns:ui});render&&that.angular("compile",function(){return{elements:elements,data:$.map(items,function(item){return[{dataItem:item}]})}})}},_toggleDisabled:function(element,enable){(element=this.element.find(element)).toggleClass(defaultState,enable).toggleClass(DISABLEDCLASS,!enable).attr(ARIA_DISABLED,!enable)},dataItem:function(item){var uid=$(item).closest(ITEM).attr(kendo.attr("uid")),dataSource=this.dataSource;return dataSource&&dataSource.getByUid(uid)},select:function(element,skipChange){var that=this;return void 0===element?that.element.find(selectableItems).parent():((element=that.element.find(element)).length?element.each(function(){var item=$(this),link=item.children(".k-link");if(item.hasClass(DISABLEDCLASS))return that;that._updateSelected(link,skipChange)}):this._updateSelected(element),that)},clearSelection:function(){this.select($())},enable:function(element,state){return this._toggleDisabled(element,!1!==state),this},disable:function(element){return this._toggleDisabled(element,!1),this},append:function(item,referenceItem){referenceItem=this.element.find(referenceItem);var inserted=this._insert(item,referenceItem,referenceItem.length?referenceItem.find(GROUPS):null);return each(inserted.items,function(){inserted.group.append(this),updateFirstLast(this)}),this.updateArrow(referenceItem),updateFirstLast(inserted.group.find(".k-first, .k-last")),inserted.group.height("auto"),this},insertBefore:function(item,referenceItem){referenceItem=this.element.find(referenceItem);var inserted=this._insert(item,referenceItem,referenceItem.parent());return each(inserted.items,function(){referenceItem.before(this),updateFirstLast(this)}),updateFirstLast(referenceItem),inserted.group.height("auto"),this},insertAfter:function(item,referenceItem){referenceItem=this.element.find(referenceItem);var inserted=this._insert(item,referenceItem,referenceItem.parent());return each(inserted.items,function(){referenceItem.after(this),updateFirstLast(this)}),updateFirstLast(referenceItem),inserted.group.height("auto"),this},remove:function(element){var that=this,parent=(element=this.element.find(element)).parentsUntil(this.element,ITEM),group=element.parent("ul");return element.remove(),!group||group.hasClass("k-panelbar")||group.children(ITEM).length||group.remove(),parent.length&&(parent=parent.eq(0),this.updateArrow(parent),updateFirstLast(parent)),this},reload:function(element){var that=this;(element=that.element.find(element)).each(function(){var item=$(this);that._ajaxRequest(item,item.children("."+CONTENT),!item.is(VISIBLE))})},_first:function(){return this.element.children(ACTIVEITEMSELECTOR).first()},_last:function(){var item=this.element.children(ACTIVEITEMSELECTOR).last(),group=item.children(VISIBLEGROUP);return group[0]?group.children(ACTIVEITEMSELECTOR).last():item},_current:function(candidate){var that=this,focused=this._focused,id=this._itemId;if(void 0===candidate)return focused;this.element.removeAttr("aria-activedescendant"),focused&&focused.length&&(focused[0].id===id&&focused.removeAttr("id"),focused.children(".k-link").removeClass(FOCUSEDCLASS)),$(candidate).length&&(id=candidate[0].id||id,candidate.attr("id",id).children(".k-link").addClass(FOCUSEDCLASS),this.element.attr("aria-activedescendant",id)),this._focused=candidate},_keydown:function(e){var that=this,key=e.keyCode,current=this._current();e.target==e.currentTarget&&(key==keys.DOWN||key==keys.RIGHT?(this._current(this._nextItem(current)),e.preventDefault()):key==keys.UP||key==keys.LEFT?(this._current(this._prevItem(current)),e.preventDefault()):key==keys.ENTER||key==keys.SPACEBAR?(this._click(current.children(".k-link")),e.preventDefault()):key==keys.HOME?(this._current(this._first()),e.preventDefault()):key==keys.END&&(this._current(this._last()),e.preventDefault()))},_nextItem:function(item){if(!item)return this._first();var group=item.children(VISIBLEGROUP),next=item.nextAll(":visible").first();return group[0]&&(next=group.children("."+FIRST)),next[0]||(next=item.parent(VISIBLEGROUP).parent(ITEM).next()),next[0]||(next=this._first()),next.hasClass(DISABLEDCLASS)&&(next=this._nextItem(next)),next},_prevItem:function(item){if(!item)return this._last();var prev=item.prevAll(":visible").first(),result;if(prev[0])for(result=prev;result[0];)(result=result.children(VISIBLEGROUP).children("."+LAST))[0]&&(prev=result);else(prev=item.parent(VISIBLEGROUP).parent(ITEM))[0]||(prev=this._last());return prev.hasClass(DISABLEDCLASS)&&(prev=this._prevItem(prev)),prev},_insert:function(item,referenceItem,parent){var that=this,items,plain=$.isPlainObject(item),isReferenceItem=referenceItem&&referenceItem[0],groupData;if(isReferenceItem||(parent=that.element),groupData={firstLevel:parent.hasClass("k-panelbar"),expanded:$(referenceItem).hasClass(ACTIVECLASS),length:parent.children().length},isReferenceItem&&!parent.length&&(parent=$(that.renderGroup({group:groupData,options:that.options})).appendTo(referenceItem)),plain||$.isArray(item)||item instanceof HierarchicalDataSource){if(item instanceof HierarchicalDataSource&&(item=item.data()),items=$.map(plain?[item]:item,function(value,idx){return $("string"==typeof value?value:that.renderItem({group:groupData,item:extend(value,{index:idx})}))}),isReferenceItem){var dataItem=that.dataItem(referenceItem);dataItem&&(dataItem.hasChildren=!0),referenceItem.attr(ARIA_EXPANDED,!1)}}else items="string"==typeof item&&"<"!=item.charAt(0)?that.element.find(item):$(item),that._updateItemsClasses(items);return item.length||(item=[item]),that._angularCompileElements(items,item),{items:items,group:parent}},_toggleHover:function(e){var target=$(e.currentTarget);target.parents("li."+DISABLEDCLASS).length||target.toggleClass("k-state-hover",e.type==MOUSEENTER)},_updateClasses:function(){var that=this,panels,items;(panels=this.element.find("li > ul").not(function(){return $(this).parentsUntil(".k-panelbar","div").length}).addClass("k-group k-panel").attr("role","group")).parent().attr(ARIA_EXPANDED,!1).not("."+ACTIVECLASS).children("ul").attr(ARIA_HIDDEN,!0).hide(),items=this.element.add(panels).children(),this._updateItemsClasses(items),this.updateArrow(items),updateFirstLast(items)},_updateItemsClasses:function(items){for(var length=items.length,idx=0;idx<length;idx++)this._updateItemClasses(items[idx],idx)},_updateItemClasses:function(item,index){var selected=this._selected,contentUrls=this.options.contentUrls,url=contentUrls&&contentUrls[index],root=this.element[0],wrapElement,link;item=$(item).addClass("k-item").attr("role","menuitem"),kendo.support.browser.msie&&item.css("list-style-position","inside").css("list-style-position",""),item.children(IMG).addClass(IMAGE),(link=item.children("a").addClass(LINK))[0]&&(link.attr("href",url),link.children(IMG).addClass(IMAGE)),item.filter(":not([disabled]):not([class*=k-state])").addClass("k-state-default"),item.filter("li[disabled]").addClass("k-state-disabled").attr(ARIA_DISABLED,!0).removeAttr("disabled"),item.children("div").addClass(CONTENT).attr("role","region").attr(ARIA_HIDDEN,!0).hide().parent().attr(ARIA_EXPANDED,!1),(link=item.children(SELECTEDSELECTOR))[0]&&(selected&&selected.removeAttr(ARIA_SELECTED).children(SELECTEDSELECTOR).removeClass(SELECTEDCLASS),link.addClass(SELECTEDCLASS),this._selected=item.attr(ARIA_SELECTED,!0)),item.children(".k-link")[0]||(wrapElement="<span class='k-link'/>",contentUrls&&contentUrls[index]&&item[0].parentNode==root&&(wrapElement='<a class="k-link k-header" href="'+contentUrls[index]+'"/>'),item.contents().filter(function(){return!(this.nodeName.match(excludedNodesRegExp)||3==this.nodeType&&!$.trim(this.nodeValue))}).wrapAll(wrapElement)),item.parent(".k-panelbar")[0]&&item.children(".k-link").addClass("k-header")},_click:function(target){var that=this,element=this.element,prevent,contents,href,isAnchor;if(!target.parents("li."+DISABLEDCLASS).length&&target.closest(".k-widget")[0]==element[0]){var link=target.closest(".k-link"),item=link.closest(ITEM);this._updateSelected(link);var wrapper=item.children(".k-group,.k-content"),dataItem=this.dataItem(item);if(!wrapper.length&&(this.options.loadOnDemand&&dataItem&&dataItem.hasChildren||this._hasChildItems(item)||item.content||item.contentUrl)&&(wrapper=this._addGroupElement(item)),contents=item.find(GROUPS).add(item.find(CONTENTS)),prevent=!(!(isAnchor=(href=link.attr(HREF))&&("#"==href.charAt(href.length-1)||-1!=href.indexOf("#"+this.element[0].id+"-")))&&!contents.length),contents.data("animating"))return prevent;if(this._triggerEvent(SELECT,item)&&(prevent=!0),!1!==prevent){if(this.options.expandMode==SINGLE&&this._collapseAllExpanded(item))return prevent;if(contents.length){var visibility=contents.is(VISIBLE);this._triggerEvent(visibility?COLLAPSE:EXPAND,item)||(prevent=this._toggleItem(item,visibility))}return prevent}}},_hasChildItems:function(item){return item.items&&item.items.length>0||item.hasChildren},_toggleItem:function(element,isVisible,expanded){var that=this,childGroup=element.find(GROUPS),link,url=element.find(".k-link").attr(HREF),prevent,content,dataItem=this.dataItem(element),loaded=dataItem&&dataItem.loaded();return dataItem&&!expanded?(dataItem.set("expanded",!isVisible),prevent=dataItem.hasChildren||!!dataItem.content||!!dataItem.contentUrl):(!dataItem||expanded&&"true"!==expanded||loaded||dataItem.content||dataItem.contentUrl?childGroup.length?(this._toggleGroup(childGroup,isVisible),prevent=!0):(content=element.children("."+CONTENT)).length&&(prevent=!0,content.is(EMPTY)&&void 0!==url?this._ajaxRequest(element,content,isVisible):this._toggleGroup(content,isVisible)):(this.options.loadOnDemand&&this._progress(element,!0),element.children(".k-group,.k-content").remove(),prevent=dataItem.hasChildren,dataItem.load()),prevent)},_toggleGroup:function(element,visibility){var that=this,animationSettings=that.options.animation,animation=animationSettings.expand,hasCollapseAnimation=animationSettings.collapse&&"effects"in animationSettings.collapse,collapse=extend({},animationSettings.expand,animationSettings.collapse);hasCollapseAnimation||(collapse=extend(collapse,{reverse:!0})),element.is(VISIBLE)==visibility?(element.parent().attr(ARIA_EXPANDED,!visibility).attr(ARIA_HIDDEN,visibility).toggleClass(ACTIVECLASS,!visibility).find("> .k-link > .k-panelbar-collapse,> .k-link > .k-panelbar-expand").toggleClass("k-i-arrow-n",!visibility).toggleClass("k-panelbar-collapse",!visibility).toggleClass("k-i-arrow-s",visibility).toggleClass("k-panelbar-expand",visibility),visibility?(animation=extend(collapse,{hide:!0})).complete=function(){that._animationCallback()}:animation=extend({complete:function(element){that._triggerEvent(ACTIVATE,element.closest(ITEM)),that._animationCallback()}},animation),element.kendoStop(!0,!0).kendoAnimate(animation)):that._animating=!1},_animationCallback:function(){var that=this;this.trigger("complete"),this._animating=!1},_addGroupElement:function(element){var group=$('<ul role="group" aria-hidden="true" class="k-group k-panel" style="display:none"></ul>');return element.append(group),group},_collapseAllExpanded:function(item){var that=this,children,stopExpand=!1,groups=item.find(GROUPS).add(item.find(CONTENTS));return groups.is(VISIBLE)&&(stopExpand=!0),groups.is(VISIBLE)||0===groups.length||((children=item.siblings()).find(GROUPS).add(children.find(CONTENTS)).filter(function(){return $(this).is(VISIBLE)}).each(function(index,content){content=$(content),(stopExpand=that._triggerEvent(COLLAPSE,content.closest(ITEM)))||that._toggleGroup(content,!0)}),that.one("complete",function(){setTimeout(function(){children.each(function(index,child){var dataItem=that.dataItem(child);dataItem&&dataItem.set("expanded",!1)})})})),stopExpand},_ajaxRequest:function(element,contentElement,isVisible){var that=this,statusIcon=element.find(".k-panelbar-collapse, .k-panelbar-expand"),link=element.find(".k-link"),loadingIconTimeout=setTimeout(function(){statusIcon.addClass("k-i-loading")},100),data={},url=link.attr(HREF);$.ajax({type:"GET",cache:!1,url:url,dataType:"html",data:data,error:function(xhr,status){statusIcon.removeClass("k-i-loading"),that.trigger(ERROR,{xhr:xhr,status:status})&&this.complete()},complete:function(){clearTimeout(loadingIconTimeout),statusIcon.removeClass("k-i-loading")},success:function(data){function getElements(){return{elements:contentElement.get()}}try{that.angular("cleanup",getElements),contentElement.html(data),that.angular("compile",getElements)}catch(e){var console=window.console;console&&console.error&&console.error(e.name+": "+e.message+" in "+url),this.error(this.xhr,"error")}that._toggleGroup(contentElement,isVisible),that.trigger(CONTENTLOAD,{item:element[0],contentElement:contentElement[0]})}})},_triggerEvent:function(eventName,element){var that=this;return this.trigger(eventName,{item:element[0]})},_updateSelected:function(link,skipChange){var that=this,element=this.element,item=link.parent(ITEM),selected=this._selected,dataItem=this.dataItem(item);selected&&selected.removeAttr(ARIA_SELECTED),this._selected=item.attr(ARIA_SELECTED,!0),element.find(selectableItems).removeClass(SELECTEDCLASS),element.find("> .k-state-highlight, .k-panel > ."+HIGHLIGHTCLASS).removeClass(HIGHLIGHTCLASS),link.addClass(SELECTEDCLASS),link.parentsUntil(element,ITEM).filter(":has(.k-header)").addClass(HIGHLIGHTCLASS),this._current(item[0]?item:null),dataItem&&dataItem.set("selected",!0),skipChange||this.trigger(CHANGE)},_animations:function(options){options&&"animation"in options&&!options.animation&&(options.animation={expand:{effects:{}},collapse:{hide:!0,effects:{}}})},renderItem:function(options){var that=this;options=extend({panelBar:this,group:{}},options);var empty=this.templates.empty,item=options.item;return this.templates.item(extend(options,{itemWrapper:this.templates.itemWrapper,renderContent:this.renderContent,arrow:this._hasChildItems(item)||item.content||item.contentUrl?this.templates.arrow:empty,subGroup:!options.loadOnDemand||item.expanded?this.renderGroup:empty},rendering))},renderGroup:function(options){var that=this,templates;return(this.templates||options.panelBar.templates).group(extend({renderItems:function(options){for(var html="",i=0,items=options.items,len=items?items.length:0,group=extend({length:len},options.group);i<len;i++)html+=options.panelBar.renderItem(extend(options,{group:group,item:extend({index:i},items[i])}));return html}},options,rendering))},renderContent:function(options){return options.panelBar.templates.content(extend(options,rendering))}});kendo.ui.plugin(PanelBar)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(a1,a2,a3){(a3||a2)()}),function(f,define){define("kendo.window",["kendo.draganddrop","kendo.popup"],f)}(function(){var __meta___id="window",__meta___name="Window",__meta___category="web",__meta___description="The Window widget displays content in a modal or non-modal HTML window.",__meta___depends=["draganddrop","popup"],__meta___features=[{id:"window-fx",name:"Animation",description:"Support for animation",depends:["fx"]}];return function($,undefined){var kendo=window.kendo,Widget=kendo.ui.Widget,TabKeyTrap=kendo.ui.Popup.TabKeyTrap,Draggable=kendo.ui.Draggable,isPlainObject=$.isPlainObject,activeElement=kendo._activeElement,outerWidth=kendo._outerWidth,outerHeight=kendo._outerHeight,proxy=$.proxy,extend=$.extend,each=$.each,template=kendo.template,BODY="body",templates,NS=".kendoWindow",KWINDOW=".k-window",KWINDOWTITLE=".k-window-title",KWINDOWTITLEBAR=KWINDOWTITLE+"bar",KWINDOWCONTENT=".k-window-content",KWINDOWRESIZEHANDLES=".k-resize-handle",KOVERLAY=".k-overlay",KCONTENTFRAME="k-content-frame",LOADING="k-i-loading",KHOVERSTATE="k-state-hover",KFOCUSEDSTATE="k-state-focused",MAXIMIZEDSTATE="k-window-maximized",VISIBLE=":visible",HIDDEN="hidden",CURSOR="cursor",OPEN="open",ACTIVATE="activate",DEACTIVATE="deactivate",CLOSE="close",REFRESH="refresh",MINIMIZE="minimize",MAXIMIZE="maximize",RESIZESTART="resizeStart",RESIZE="resize",RESIZEEND="resizeEnd",DRAGSTART="dragstart",DRAGEND="dragend",ERROR="error",OVERFLOW="overflow",ZINDEX="zIndex",MINIMIZE_MAXIMIZE=".k-window-actions .k-i-window-minimize,.k-window-actions .k-i-window-maximize",KPIN=".k-i-pin",KUNPIN=".k-i-unpin",PIN_UNPIN=KPIN+","+KUNPIN,TITLEBAR_BUTTONS=".k-window-titlebar .k-window-action",REFRESHICON=".k-window-titlebar .k-i-refresh",zero=/^0[a-z]*$/i,isLocalUrl=kendo.isLocalUrl;function defined(x){return void 0!==x}function constrain(value,low,high){return Math.max(Math.min(parseInt(value,10),high===1/0?high:parseInt(high,10)),parseInt(low,10))}function executableScript(){return!this.type||this.type.toLowerCase().indexOf("script")>=0}var Window=Widget.extend({init:function(element,options){var that=this,wrapper,offset={},visibility,display,position,isVisible=!1,content,windowContent,suppressActions=options&&options.actions&&!options.actions.length,id;Widget.fn.init.call(this,element,options),position=(options=this.options).position,element=this.element,content=options.content,suppressActions&&(options.actions=[]),this.appendTo=$(options.appendTo),content&&!isPlainObject(content)&&(content=options.content={url:content}),element.find("script").filter(executableScript).remove(),element.parent().is(this.appendTo)||void 0!==position.top&&void 0!==position.left||(element.is(VISIBLE)?(offset=element.offset(),isVisible=!0):(visibility=element.css("visibility"),display=element.css("display"),element.css({visibility:HIDDEN,display:""}),offset=element.offset(),element.css({visibility:visibility,display:display})),void 0===position.top&&(position.top=offset.top),void 0===position.left&&(position.left=offset.left)),defined(options.visible)&&null!==options.visible||(options.visible=element.is(VISIBLE)),wrapper=this.wrapper=element.closest(KWINDOW),element.is(".k-content")&&wrapper[0]||(element.addClass("k-window-content k-content"),this._createWindow(element,options),wrapper=this.wrapper=element.closest(KWINDOW),this._dimensions()),this._position(),content&&this.refresh(content),options.visible&&this.toFront(),windowContent=wrapper.children(KWINDOWCONTENT),this._tabindex(windowContent),options.visible&&options.modal&&this._overlay(wrapper.is(VISIBLE)).css({opacity:.5}),wrapper.on("mouseenter"+NS,TITLEBAR_BUTTONS,proxy(this._buttonEnter,this)).on("mouseleave"+NS,TITLEBAR_BUTTONS,proxy(this._buttonLeave,this)).on("click"+NS,"> "+TITLEBAR_BUTTONS,proxy(this._windowActionHandler,this)),windowContent.on("keydown"+NS,proxy(this._keydown,this)).on("focus"+NS,proxy(this._focus,this)).on("blur"+NS,proxy(this._blur,this)),this._resizable(),this._draggable(),options.pinned&&this.pin(),(id=element.attr("id"))&&(id+="_wnd_title",wrapper.children(KWINDOWTITLEBAR).children(KWINDOWTITLE).attr("id",id),windowContent.attr({role:"dialog","aria-labelledby":id})),wrapper.add(wrapper.children(".k-resize-handle,"+KWINDOWTITLEBAR)).on("mousedown"+NS,proxy(this.toFront,this)),this.touchScroller=kendo.touchScroller(element),this._resizeHandler=proxy(this._onDocumentResize,this),this._marker=kendo.guid().substring(0,8),$(window).on("resize"+NS+this._marker,this._resizeHandler),options.visible&&(this.trigger(OPEN),this.trigger(ACTIVATE)),kendo.notify(this),this.options.modal&&(this._tabKeyTrap=new TabKeyTrap(wrapper),this._tabKeyTrap.trap(),this._tabKeyTrap.shouldTrap=function(){return windowContent.data("isFront")})},_buttonEnter:function(e){$(e.currentTarget).addClass(KHOVERSTATE)},_buttonLeave:function(e){$(e.currentTarget).removeClass(KHOVERSTATE)},_focus:function(){this.wrapper.addClass(KFOCUSEDSTATE)},_blur:function(){this.wrapper.removeClass(KFOCUSEDSTATE)},_dimensions:function(){var wrapper=this.wrapper,options=this.options,width=options.width,height=options.height,maxHeight=options.maxHeight,dimensions=["minWidth","minHeight","maxWidth","maxHeight"];this.title(options.title);for(var i=0;i<dimensions.length;i++){var value=options[dimensions[i]]||"";value!=1/0&&wrapper.css(dimensions[i],value)}maxHeight!=1/0&&this.element.css("maxHeight",maxHeight),width?width.toString().indexOf("%")>0?wrapper.width(width):wrapper.width(constrain(width,options.minWidth,options.maxWidth)):wrapper.width(""),height?height.toString().indexOf("%")>0?wrapper.height(height):wrapper.height(constrain(height,options.minHeight,options.maxHeight)):wrapper.height(""),options.visible||wrapper.hide()},_position:function(){var wrapper=this.wrapper,position=this.options.position;0===position.top&&(position.top=position.top.toString()),0===position.left&&(position.left=position.left.toString()),wrapper.css({top:position.top||"",left:position.left||""})},_animationOptions:function(id){var animation=this.options.animation,basicAnimation={open:{effects:{}},close:{hide:!0,effects:{}}};return animation&&animation[id]||basicAnimation[id]},_resize:function(){kendo.resize(this.element.children())},_resizable:function(){var resizable=this.options.resizable,wrapper=this.wrapper;this.resizing&&(wrapper.off("dblclick"+NS).children(KWINDOWRESIZEHANDLES).remove(),this.resizing.destroy(),this.resizing=null),resizable&&(wrapper.on("dblclick"+NS,KWINDOWTITLEBAR,proxy(function(e){$(e.target).closest(".k-window-action").length||this.toggleMaximization()},this)),each("n e s w se sw ne nw".split(" "),function(index,handler){wrapper.append(templates.resizeHandle(handler))}),this.resizing=new WindowResizing(this)),wrapper=null},_draggable:function(){var draggable=this.options.draggable;this.dragging&&(this.dragging.destroy(),this.dragging=null),draggable&&(this.dragging=new WindowDragging(this,draggable.dragHandle||KWINDOWTITLEBAR))},_actions:function(){var options=this.options,actions=options.actions,pinned=options.pinned,titlebar,container=this.wrapper.children(KWINDOWTITLEBAR).find(".k-window-actions"),windowSpecificCommands=["maximize","minimize"];actions=$.map(actions,function(action){return action=pinned&&"pin"===action.toLowerCase()?"unpin":action,{name:windowSpecificCommands.indexOf(action.toLowerCase())>-1?"window-"+action:action}}),container.html(kendo.render(templates.action,actions))},setOptions:function(options){Widget.fn.setOptions.call(this,options);var scrollable=!1!==this.options.scrollable;if(this.restore(),this._dimensions(),this._position(),this._resizable(),this._draggable(),this._actions(),void 0!==options.modal){var visible=!1!==this.options.visible;this._overlay(options.modal&&visible)}this.element.css(OVERFLOW,scrollable?"":"hidden")},events:[OPEN,ACTIVATE,DEACTIVATE,CLOSE,MINIMIZE,MAXIMIZE,REFRESH,RESIZESTART,RESIZE,RESIZEEND,DRAGSTART,DRAGEND,ERROR],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:.7}},fade:{direction:"out"}},duration:350,hide:!0}},title:"",actions:["Close"],autoFocus:!0,modal:!1,resizable:!0,draggable:!0,minWidth:90,minHeight:50,maxWidth:1/0,maxHeight:1/0,pinned:!1,scrollable:!0,position:{},content:null,visible:null,height:null,width:null,appendTo:"body",isMaximized:!1,isMinimized:!1},_closable:function(){return $.inArray("close",$.map(this.options.actions,function(x){return x.toLowerCase()}))>-1},_keydown:function(e){var that=this,options=this.options,keys=kendo.keys,keyCode=e.keyCode,wrapper=this.wrapper,offset,handled,distance=10,isMaximized=this.options.isMaximized,newWidth,newHeight,w,h;keyCode==keys.ESC&&this._closable()&&this._close(!1),e.target!=e.currentTarget||this._closing||(!options.draggable||e.ctrlKey||isMaximized||(offset=kendo.getOffset(wrapper),keyCode==keys.UP?handled=wrapper.css("top",offset.top-10):keyCode==keys.DOWN?handled=wrapper.css("top",offset.top+10):keyCode==keys.LEFT?handled=wrapper.css("left",offset.left-10):keyCode==keys.RIGHT&&(handled=wrapper.css("left",offset.left+10))),options.resizable&&e.ctrlKey&&!isMaximized&&(keyCode==keys.UP?(handled=!0,newHeight=wrapper.height()-10):keyCode==keys.DOWN&&(handled=!0,newHeight=wrapper.height()+10),keyCode==keys.LEFT?(handled=!0,newWidth=wrapper.width()-10):keyCode==keys.RIGHT&&(handled=!0,newWidth=wrapper.width()+10),handled&&(w=constrain(newWidth,options.minWidth,options.maxWidth),h=constrain(newHeight,options.minHeight,options.maxHeight),isNaN(w)||(wrapper.width(w),this.options.width=w+"px"),isNaN(h)||(wrapper.height(h),this.options.height=h+"px"),this.resize())),handled&&e.preventDefault())},_overlay:function(visible){var overlay=this.appendTo.children(KOVERLAY),wrapper=this.wrapper;return overlay.length||(overlay=$("<div class='k-overlay' />")),overlay.insertBefore(wrapper[0]).toggle(visible).css(ZINDEX,parseInt(wrapper.css(ZINDEX),10)-1),overlay},_actionForIcon:function(icon){var iconClass;return{"k-i-close":"_close","k-i-window-maximize":"maximize","k-i-window-minimize":"minimize","k-i-window-restore":"restore","k-i-refresh":"refresh","k-i-pin":"pin","k-i-unpin":"unpin"}[/\bk-i(-\w+)+\b/.exec(icon[0].className)[0]]},_windowActionHandler:function(e){if(!this._closing){var icon=$(e.target).closest(".k-window-action").find(".k-icon"),action=this._actionForIcon(icon);return action?(e.preventDefault(),this[action](),!1):void 0}},_modals:function(){var that=this,zStack=$(KWINDOW).filter(function(){var dom=$(this),object=that._object(dom),options=object&&object.options;return options&&options.modal&&options.visible&&options.appendTo===that.options.appendTo&&dom.is(VISIBLE)}).sort(function(a,b){return+$(a).css("zIndex")-+$(b).css("zIndex")});return that=null,zStack},_object:function(element){var content=element.children(KWINDOWCONTENT),widget=kendo.widgetInstance(content);if(widget)return widget},center:function(){var that=this,position=this.options.position,wrapper=this.wrapper,documentWindow=$(window),scrollTop=0,scrollLeft=0,newTop,newLeft;return this.options.isMaximized?this:(this.options.pinned||(scrollTop=documentWindow.scrollTop(),scrollLeft=documentWindow.scrollLeft()),newLeft=scrollLeft+Math.max(0,(documentWindow.width()-wrapper.width())/2),newTop=scrollTop+Math.max(0,(documentWindow.height()-wrapper.height()-parseInt(wrapper.css("paddingTop"),10))/2),wrapper.css({left:newLeft,top:newTop}),position.top=newTop,position.left=newLeft,this)},title:function(text){var that=this,wrapper=this.wrapper,options=this.options,titleBar=wrapper.children(KWINDOWTITLEBAR),title=titleBar.children(KWINDOWTITLE),titleBarHeight;return arguments.length?(!1===text?(wrapper.addClass("k-window-titleless"),titleBar.remove()):(titleBar.length?title.html(kendo.htmlEncode(text)):(wrapper.prepend(templates.titlebar(options)),this._actions(),titleBar=wrapper.children(KWINDOWTITLEBAR)),titleBarHeight=parseInt(outerHeight(titleBar),10),wrapper.css("padding-top",titleBarHeight),titleBar.css("margin-top",-titleBarHeight)),this.options.title=text,this):title.html()},content:function(html,data){var content=this.wrapper.children(KWINDOWCONTENT),scrollContainer=content.children(".km-scroll-container");return content=scrollContainer[0]?scrollContainer:content,defined(html)?(this.angular("cleanup",function(){return{elements:content.children()}}),kendo.destroy(this.element.children()),content.empty().html(html),this.angular("compile",function(){for(var a=[],i=content.length;--i>=0;)a.push({dataItem:data});return{elements:content.children(),data:a}}),this):content.html()},open:function(){var that=this,wrapper=that.wrapper,options=that.options,showOptions=this._animationOptions("open"),contentElement=wrapper.children(KWINDOWCONTENT),overlay,otherModalsVisible,doc=$(document);if(!that.trigger(OPEN)){if(that._closing&&wrapper.kendoStop(!0,!0),that._closing=!1,that.toFront(),options.autoFocus&&that.element.focus(),options.visible=!0,options.modal){if(otherModalsVisible=!!that._modals().length,(overlay=that._overlay(otherModalsVisible)).kendoStop(!0,!0),showOptions.duration&&kendo.effects.Fade&&!otherModalsVisible){var overlayFx=kendo.fx(overlay).fadeIn();overlayFx.duration(showOptions.duration||0),overlayFx.endValue(.5),overlayFx.play()}else overlay.css("opacity",.5);overlay.show(),$(window).on("focus",function(){contentElement.data("isFront")&&that.element.focus()})}wrapper.is(VISIBLE)||(contentElement.css(OVERFLOW,HIDDEN),wrapper.show().kendoStop().kendoAnimate({effects:showOptions.effects,duration:showOptions.duration,complete:proxy(this._activate,this)}))}return options.isMaximized&&(that._documentScrollTop=doc.scrollTop(),that._documentScrollLeft=doc.scrollLeft(),$("html, body").css(OVERFLOW,HIDDEN)),that},_activate:function(){var scrollable=!1!==this.options.scrollable;this.options.autoFocus&&this.element.focus(),this.element.css(OVERFLOW,scrollable?"":"hidden"),kendo.resize(this.element.children()),this.trigger(ACTIVATE)},_removeOverlay:function(suppressAnimation){var modals=this._modals(),options=this.options,hideOverlay=options.modal&&!modals.length,overlay=options.modal?this._overlay(!0):$(void 0),hideOptions=this._animationOptions("close");if(hideOverlay)if(!suppressAnimation&&hideOptions.duration&&kendo.effects.Fade){var overlayFx=kendo.fx(overlay).fadeOut();overlayFx.duration(hideOptions.duration||0),overlayFx.startValue(.5),overlayFx.play()}else this._overlay(!1).remove();else modals.length&&this._object(modals.last())._overlay(!0)},_close:function(systemTriggered){var that=this,wrapper=this.wrapper,options=this.options,showOptions=this._animationOptions("open"),hideOptions=this._animationOptions("close"),doc=$(document);if(wrapper.is(VISIBLE)&&!this.trigger(CLOSE,{userTriggered:!systemTriggered})){if(this._closing)return;this._closing=!0,options.visible=!1,$(KWINDOW).each(function(i,element){var contentElement=$(element).children(KWINDOWCONTENT);element!=wrapper&&contentElement.find("> ."+KCONTENTFRAME).length>0&&contentElement.children(KOVERLAY).remove()}),this._removeOverlay(),wrapper.kendoStop().kendoAnimate({effects:hideOptions.effects||showOptions.effects,reverse:!0===hideOptions.reverse,duration:hideOptions.duration,complete:proxy(this._deactivate,this)})}this.options.isMaximized&&($("html, body").css(OVERFLOW,""),this._documentScrollTop&&this._documentScrollTop>0&&doc.scrollTop(this._documentScrollTop),this._documentScrollLeft&&this._documentScrollLeft>0&&doc.scrollLeft(this._documentScrollLeft))},_deactivate:function(){var that=this;if(this.wrapper.hide().css("opacity",""),this.trigger(DEACTIVATE),this.options.modal){var lastModal=this._object(this._modals().last());lastModal&&lastModal.toFront()}},close:function(){return this._close(!0),this},_actionable:function(element){return $(element).is(TITLEBAR_BUTTONS+","+TITLEBAR_BUTTONS+" .k-icon,:input,a")},_shouldFocus:function(target){var active=activeElement(),element=this.element;return this.options.autoFocus&&!$(active).is(element)&&!this._actionable(target)&&(!element.find(active).length||!element.find(target).length)},toFront:function(e){var that=this,wrapper=this.wrapper,currentWindow=wrapper[0],zIndex=+wrapper.css(ZINDEX),originalZIndex=zIndex,target=e&&e.target||null;if($(KWINDOW).each(function(i,element){var windowObject=$(element),zIndexNew=windowObject.css(ZINDEX),contentElement=windowObject.children(KWINDOWCONTENT);isNaN(zIndexNew)||(zIndex=Math.max(+zIndexNew,zIndex)),contentElement.data("isFront",element==currentWindow),element!=currentWindow&&contentElement.find("> ."+KCONTENTFRAME).length>0&&contentElement.append(templates.overlay)}),(!wrapper[0].style.zIndex||originalZIndex<zIndex)&&wrapper.css(ZINDEX,zIndex+2),this.element.find("> .k-overlay").remove(),this._shouldFocus(target)){this.element.focus();var scrollTop=$(window).scrollTop(),windowTop=parseInt(wrapper.position().top,10);!this.options.pinned&&windowTop>0&&windowTop<scrollTop&&(scrollTop>0?$(window).scrollTop(windowTop):wrapper.css("top",scrollTop))}return wrapper=null,this},toggleMaximization:function(){return this._closing?this:this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var that=this,options=this.options,minHeight=options.minHeight,restoreOptions=this.restoreOptions,doc=$(document);return options.isMaximized||options.isMinimized?(minHeight&&minHeight!=1/0&&this.wrapper.css("min-height",minHeight),this.wrapper.css({position:options.pinned?"fixed":"absolute",left:restoreOptions.left,top:restoreOptions.top,width:restoreOptions.width,height:restoreOptions.height}).removeClass(MAXIMIZEDSTATE).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-window-restore").parent().remove().end().end().find(MINIMIZE_MAXIMIZE).parent().show().end().end().find(PIN_UNPIN).parent().show(),this.options.width=restoreOptions.width,this.options.height=restoreOptions.height,$("html, body").css(OVERFLOW,""),this._documentScrollTop&&this._documentScrollTop>0&&doc.scrollTop(this._documentScrollTop),this._documentScrollLeft&&this._documentScrollLeft>0&&doc.scrollLeft(this._documentScrollLeft),options.isMaximized=options.isMinimized=!1,this.resize(),this):this},_sizingAction:function(actionId,callback){var that=this,wrapper=this.wrapper,style=wrapper[0].style,options=this.options;return options.isMaximized||options.isMinimized?this:(this.restoreOptions={width:style.width,height:style.height},wrapper.children(KWINDOWRESIZEHANDLES).hide().end().children(KWINDOWTITLEBAR).find(MINIMIZE_MAXIMIZE).parent().hide().eq(0).before(templates.action({name:"window-restore"})),callback.call(this),this.wrapper.children(KWINDOWTITLEBAR).find(PIN_UNPIN).parent().toggle("maximize"!==actionId),this.trigger(actionId),this)},maximize:function(){return this._sizingAction("maximize",function(){var that=this,wrapper=this.wrapper,position=wrapper.position(),doc=$(document);extend(this.restoreOptions,{left:position.left,top:position.top}),wrapper.css({left:0,top:0,position:"fixed"}).addClass(MAXIMIZEDSTATE),this._documentScrollTop=doc.scrollTop(),this._documentScrollLeft=doc.scrollLeft(),$("html, body").css(OVERFLOW,HIDDEN),this.options.isMaximized=!0,this._onDocumentResize()}),this},isMaximized:function(){return this.options.isMaximized},minimize:function(){return this._sizingAction("minimize",function(){var that=this;this.wrapper.css({height:"",minHeight:""}),this.element.hide(),this.options.isMinimized=!0}),this},isMinimized:function(){return this.options.isMinimized},pin:function(){var that=this,win=$(window),wrapper=this.wrapper,top=parseInt(wrapper.css("top"),10),left=parseInt(wrapper.css("left"),10);this.options.isMaximized||(wrapper.css({position:"fixed",top:top-win.scrollTop(),left:left-win.scrollLeft()}),wrapper.children(KWINDOWTITLEBAR).find(KPIN).addClass("k-i-unpin").removeClass("k-i-pin"),this.options.pinned=!0,this.options.draggable=!1)},unpin:function(){var that=this,win=$(window),wrapper=this.wrapper,top=parseInt(wrapper.css("top"),10),left=parseInt(wrapper.css("left"),10);this.options.isMaximized||(wrapper.css({position:"",top:top+win.scrollTop(),left:left+win.scrollLeft()}),wrapper.children(KWINDOWTITLEBAR).find(KUNPIN).addClass("k-i-pin").removeClass("k-i-unpin"),this.options.pinned=!1,this.options.draggable=!0)},_onDocumentResize:function(){var that=this,wrapper=this.wrapper,wnd=$(window),zoomLevel=kendo.support.zoomLevel(),w,h;this.options.isMaximized&&(w=wnd.width()/zoomLevel,h=wnd.height()/zoomLevel-parseInt(wrapper.css("padding-top"),10),wrapper.css({width:w,height:h}),this.options.width=w,this.options.height=h,this.resize())},refresh:function(options){var that=this,initOptions=this.options,element=$(this.element),iframe,showIframe,url;return isPlainObject(options)||(options={url:options}),options=extend({},initOptions.content,options),showIframe=defined(initOptions.iframe)?initOptions.iframe:options.iframe,(url=options.url)?(defined(showIframe)||(showIframe=!isLocalUrl(url)),showIframe?((iframe=element.find("."+KCONTENTFRAME)[0])?iframe.src=url||iframe.src:element.html(templates.contentFrame(extend({},initOptions,{content:options}))),element.find("."+KCONTENTFRAME).unbind("load"+NS).on("load"+NS,proxy(this._triggerRefresh,this))):this._ajaxRequest(options)):(options.template&&this.content(template(options.template)({})),this.trigger(REFRESH)),element.toggleClass("k-window-iframecontent",!!showIframe),this},_triggerRefresh:function(){this.trigger(REFRESH)},_ajaxComplete:function(){clearTimeout(this._loadingIconTimeout),this.wrapper.find(REFRESHICON).removeClass(LOADING)},_ajaxError:function(xhr,status){this.trigger(ERROR,{status:status,xhr:xhr})},_ajaxSuccess:function(contentTemplate){return function(data){var html=data;contentTemplate&&(html=template(contentTemplate)(data||{})),this.content(html,data),this.element.prop("scrollTop",0),this.trigger(REFRESH)}},_showLoading:function(){this.wrapper.find(REFRESHICON).addClass(LOADING)},_ajaxRequest:function(options){this._loadingIconTimeout=setTimeout(proxy(this._showLoading,this),100),$.ajax(extend({type:"GET",dataType:"html",cache:!1,error:proxy(this._ajaxError,this),complete:proxy(this._ajaxComplete,this),success:proxy(this._ajaxSuccess(options.template),this)},options))},_destroy:function(){this.resizing&&this.resizing.destroy(),this.dragging&&this.dragging.destroy(),this.wrapper.off(NS).children(KWINDOWCONTENT).off(NS).end().find(".k-resize-handle,.k-window-titlebar").off(NS),$(window).off("resize"+NS+this._marker),clearTimeout(this._loadingIconTimeout),Widget.fn.destroy.call(this),this.unbind(void 0),kendo.destroy(this.wrapper),this._removeOverlay(!0)},destroy:function(){this._destroy(),this.wrapper.empty().remove(),this.wrapper=this.appendTo=this.element=$()},_createWindow:function(){var contentHtml=this.element,options=this.options,iframeSrcAttributes,wrapper,isRtl=kendo.support.isRtl(contentHtml);!1===options.scrollable&&contentHtml.css("overflow","hidden"),wrapper=$(templates.wrapper(options)),iframeSrcAttributes=contentHtml.find("iframe:not(.k-content)").map(function(){var src=this.getAttribute("src");return this.src="",src}),wrapper.toggleClass("k-rtl",isRtl).appendTo(this.appendTo).append(contentHtml).find("iframe:not(.k-content)").each(function(index){this.src=iframeSrcAttributes[index]}),wrapper.find(".k-window-title").css(isRtl?"left":"right",outerWidth(wrapper.find(".k-window-actions"))+10),contentHtml.css("visibility","").show(),contentHtml.find("[data-role=editor]").each(function(){var editor=$(this).data("kendoEditor");editor&&editor.refresh()}),wrapper=contentHtml=null}});function WindowResizing(wnd){var that=this;this.owner=wnd,this._preventDragging=!1,this._draggable=new Draggable(wnd.wrapper,{filter:">"+KWINDOWRESIZEHANDLES,group:wnd.wrapper.id+"-resizing",dragstart:proxy(this.dragstart,this),drag:proxy(this.drag,this),dragend:proxy(this.dragend,this)}),this._draggable.userEvents.bind("press",proxy(this.addOverlay,this)),this._draggable.userEvents.bind("release",proxy(this.removeOverlay,this))}function getPosition(elem){for(var result={top:elem.offsetTop,left:elem.offsetLeft},parent=elem.offsetParent;parent;){result.top+=parent.offsetTop,result.left+=parent.offsetLeft;var parentOverflowX=$(parent).css("overflowX"),parentOverflowY=$(parent).css("overflowY");"auto"!==parentOverflowY&&"scroll"!==parentOverflowY||(result.top-=parent.scrollTop),"auto"!==parentOverflowX&&"scroll"!==parentOverflowX||(result.left-=parent.scrollLeft),parent=parent.offsetParent}return result}function WindowDragging(wnd,dragHandle){var that=this;this.owner=wnd,this._preventDragging=!1,this._draggable=new Draggable(wnd.wrapper,{filter:dragHandle,group:wnd.wrapper.id+"-moving",dragstart:proxy(this.dragstart,this),drag:proxy(this.drag,this),dragend:proxy(this.dragend,this),dragcancel:proxy(this.dragcancel,this)}),this._draggable.userEvents.stopPropagation=!1}templates={wrapper:template("<div class='k-widget k-window' />"),action:template("<a role='button' href='\\#' class='k-button k-bare k-button-icon k-window-action' aria-label='#= name #'><span class='k-icon k-i-#= name.toLowerCase() #'></span></a>"),titlebar:template("<div class='k-window-titlebar k-header'>&nbsp;<span class='k-window-title'>#: title #</span><div class='k-window-actions' /></div>"),overlay:"<div class='k-overlay' />",contentFrame:template("<iframe frameborder='0' title='#= title #' class='k-content-frame' src='#= content.url #'>This page requires frames in order to show content</iframe>"),resizeHandle:template("<div class='k-resize-handle k-resize-#= data #'></div>")},WindowResizing.prototype={addOverlay:function(){this.owner.wrapper.append(templates.overlay)},removeOverlay:function(){this.owner.wrapper.find(KOVERLAY).remove()},dragstart:function(e){var that=this,wnd=this.owner,wrapper=wnd.wrapper;if(this._preventDragging=wnd.trigger(RESIZESTART),!this._preventDragging){this.elementPadding=parseInt(wrapper.css("padding-top"),10),this.initialPosition=kendo.getOffset(wrapper,"position"),this.resizeDirection=e.currentTarget.prop("className").replace("k-resize-handle k-resize-",""),this.initialSize={width:wrapper.width(),height:wrapper.height()},this.containerOffset=kendo.getOffset(wnd.appendTo,"position");var offsetParent=wrapper.offsetParent();if(offsetParent.is("html"))this.containerOffset.top=this.containerOffset.left=0;else{var marginTop=offsetParent.css("margin-top"),marginLeft=offsetParent.css("margin-left"),hasMargin;if(!zero.test(marginTop)||!zero.test(marginLeft)){var wrapperPosition=getPosition(wrapper[0]),relativeElMarginLeft=wrapperPosition.left-this.containerOffset.left-this.initialPosition.left,relativeElMarginTop=wrapperPosition.top-this.containerOffset.top-this.initialPosition.top;this._relativeElMarginLeft=relativeElMarginLeft>1?relativeElMarginLeft:0,this._relativeElMarginTop=relativeElMarginTop>1?relativeElMarginTop:0,this.initialPosition.left+=this._relativeElMarginLeft,this.initialPosition.top+=this._relativeElMarginTop}}wrapper.children(KWINDOWRESIZEHANDLES).not(e.currentTarget).hide(),$(BODY).css(CURSOR,e.currentTarget.css(CURSOR))}},drag:function(e){if(!this._preventDragging){var that=this,wnd=this.owner,wrapper=wnd.wrapper,options=wnd.options,direction=this.resizeDirection,containerOffset=this.containerOffset,initialPosition=this.initialPosition,initialSize=this.initialSize,newWidth,newHeight,windowBottom,windowRight,x=Math.max(e.x.location,0),y=Math.max(e.y.location,0);direction.indexOf("e")>=0?(newWidth=x-initialPosition.left-containerOffset.left,wrapper.width(constrain(newWidth,options.minWidth,options.maxWidth))):direction.indexOf("w")>=0&&(newWidth=constrain((windowRight=initialPosition.left+initialSize.width+containerOffset.left)-x,options.minWidth,options.maxWidth),wrapper.css({left:windowRight-newWidth-containerOffset.left-(this._relativeElMarginLeft||0),width:newWidth}));var newWindowTop=y;wnd.options.pinned&&(newWindowTop-=$(window).scrollTop()),direction.indexOf("s")>=0?(newHeight=newWindowTop-initialPosition.top-this.elementPadding-containerOffset.top,wrapper.height(constrain(newHeight,options.minHeight,options.maxHeight))):direction.indexOf("n")>=0&&(newHeight=constrain((windowBottom=initialPosition.top+initialSize.height+containerOffset.top)-newWindowTop,options.minHeight,options.maxHeight),wrapper.css({top:windowBottom-newHeight-containerOffset.top-(this._relativeElMarginTop||0),height:newHeight})),newWidth&&(wnd.options.width=newWidth+"px"),newHeight&&(wnd.options.height=newHeight+"px"),wnd.resize()}},dragend:function(e){if(!this._preventDragging){var that=this,wnd=this.owner,wrapper=wnd.wrapper;return wrapper.children(KWINDOWRESIZEHANDLES).not(e.currentTarget).show(),$(BODY).css(CURSOR,""),wnd.touchScroller&&wnd.touchScroller.reset(),27==e.keyCode&&wrapper.css(this.initialPosition).css(this.initialSize),wnd.trigger(RESIZEEND),!1}},destroy:function(){this._draggable&&this._draggable.destroy(),this._draggable=this.owner=null}},WindowDragging.prototype={dragstart:function(e){var wnd=this.owner,element=wnd.element,actions=element.find(".k-window-actions"),containerOffset=kendo.getOffset(wnd.appendTo);this._preventDragging=wnd.trigger(DRAGSTART)||!wnd.options.draggable,this._preventDragging||(wnd.initialWindowPosition=kendo.getOffset(wnd.wrapper,"position"),wnd.initialPointerPosition={left:e.x.client,top:e.y.client},wnd.startPosition={left:e.x.client-wnd.initialWindowPosition.left,top:e.y.client-wnd.initialWindowPosition.top},actions.length>0?wnd.minLeftPosition=outerWidth(actions)+parseInt(actions.css("right"),10)-outerWidth(element):wnd.minLeftPosition=20-outerWidth(element),wnd.minLeftPosition-=containerOffset.left,wnd.minTopPosition=-containerOffset.top,wnd.wrapper.append(templates.overlay).children(KWINDOWRESIZEHANDLES).hide(),$(BODY).css(CURSOR,e.currentTarget.css(CURSOR)))},drag:function(e){if(!this._preventDragging){var wnd=this.owner,position=wnd.options.position;position.top=Math.max(e.y.client-wnd.startPosition.top,wnd.minTopPosition),position.left=Math.max(e.x.client-wnd.startPosition.left,wnd.minLeftPosition),kendo.support.transforms?$(wnd.wrapper).css("transform","translate("+(e.x.client-wnd.initialPointerPosition.left)+"px, "+(e.y.client-wnd.initialPointerPosition.top)+"px)"):$(wnd.wrapper).css(position)}},_finishDrag:function(){var wnd=this.owner;wnd.wrapper.children(KWINDOWRESIZEHANDLES).toggle(!wnd.options.isMinimized).end().find(KOVERLAY).remove(),$(BODY).css(CURSOR,"")},dragcancel:function(e){this._preventDragging||(this._finishDrag(),e.currentTarget.closest(KWINDOW).css(this.owner.initialWindowPosition))},dragend:function(){if(!this._preventDragging)return $(this.owner.wrapper).css(this.owner.options.position).css("transform",""),this._finishDrag(),this.owner.trigger(DRAGEND),!1},destroy:function(){this._draggable&&this._draggable.destroy(),this._draggable=this.owner=null}},kendo.ui.plugin(Window)}(window.kendo.jQuery),window.kendo},"function"==typeof define&&define.amd?define:function(a1,a2,a3){(a3||a2)()}),kendo.cultures["es-ES"]={name:"es-ES",calendars:{standard:{days:{names:["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"],namesAbbr:["Dom","Lun","Mar","Mie","Jue","Vie","Sab"],namesShort:["Do","Lu","Ma","Mi","Ju","Vi","Sa"]},months:{names:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],namesAbbr:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"d-MM-yyyy",D:"dddd dd , MMMM , yyyy",F:"dddd dd , MMMM , yyyy h:mm:ss tt",g:"d-MM-yyyy h:mm tt",G:"d-MM-yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},firstDay:0}}};